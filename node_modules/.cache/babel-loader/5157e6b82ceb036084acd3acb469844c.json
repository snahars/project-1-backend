{"ast":null,"code":"import _toConsumableArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Common/DepotList.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { showError } from \"../../pages/Alert\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { TextField } from \"@material-ui/core\";\nimport axios from \"axios\";\nexport default function DepotList(props) {\n  var _this = this;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      depotValue = _useState2[0],\n      setDepotValue = _useState2[1];\n\n  useEffect(function () {\n    getAllDepots(props.companyIdPass, props.salesOfficerIdsDepotPass, props.depotShow);\n  }, [props.companyIdPass, props.salesOfficerIdsDepotPass, props.depotShow]);\n\n  var getAllDepots = function getAllDepots(companyId, salesOfficerList, depotShow) {\n    props.depotListPass.length = 0;\n\n    if (depotShow === \"COMPANY_AND_SALES_OFFICER_ID\") {\n      if (salesOfficerList.length > 0) {\n        var queryString = \"?\";\n        queryString += \"companyId=\" + companyId;\n        queryString += '&salesOfficerList=' + salesOfficerList;\n        var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/depot/get-depot-filter\") + queryString;\n        axios.get(URL).then(function (response) {\n          props.setDepots(response.data.data);\n        });\n      }\n    }\n\n    if (depotShow === \"ONLY_COMPANY\") {\n      var _queryString = \"?\";\n      _queryString += \"companyId=\" + companyId;\n\n      var _URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/depot/all-of-a-company\") + _queryString;\n\n      axios.get(_URL).then(function (response) {\n        props.setDepots(response.data.data);\n      });\n    }\n  };\n\n  var deleteDepot = function deleteDepot(data) {\n    var temp = _toConsumableArray(props.depotListPass);\n\n    var index = temp.findIndex(function (obj) {\n      return obj.id === data.id;\n    });\n    temp.splice(index, 1);\n    props.setDepotListPass(temp);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"level-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 48\n    }\n  }, \"Depot\")), /*#__PURE__*/React.createElement(Autocomplete, {\n    name: \"depotId\",\n    options: props.depots //onKeyDown={getAllDepots}\n    ,\n    getOptionLabel: function getOptionLabel(option) {\n      return option.depot_name;\n    },\n    value: depotValue,\n    onChange: function onChange(event, newValue) {\n      setDepotValue(newValue);\n\n      if (newValue !== null) {\n        if (props.depotListPass.length > 0) {\n          var temp = _toConsumableArray(props.depotListPass);\n\n          var index = temp.findIndex(function (data) {\n            return data.id === newValue.id;\n          });\n\n          if (index > -1) {\n            showError(\"This depot already used\");\n            return;\n          } else {\n            temp.push({\n              \"id\": newValue.id,\n              \"depotName\": newValue.depot_name\n            });\n            props.setDepotListPass(temp);\n          }\n        } else {\n          var _temp = _toConsumableArray(props.depotListPass);\n\n          _temp.push({\n            \"id\": newValue.id,\n            \"depotName\": newValue.depot_name\n          });\n\n          props.setDepotListPass(_temp);\n        }\n      }\n    },\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n        label: \"Select Depot\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    style: {\n      border: \"none\",\n      padding: \"0 3px 3px 3px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, props.depotListPass.length > 0 ? props.depotListPass.map(function (data) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, data.id !== \"\" ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mt-3 mr-5 areaLevel\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 37\n      }\n    }, data.depotName, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"deleteIcon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"fa fa-times text-white delete-file\",\n      onClick: function onClick() {\n        return deleteDepot(data);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 45\n      }\n    }))) : \"\");\n  }) : \"\"));\n}","map":{"version":3,"names":["React","useEffect","useState","showError","Autocomplete","TextField","axios","DepotList","props","depotValue","setDepotValue","getAllDepots","companyIdPass","salesOfficerIdsDepotPass","depotShow","companyId","salesOfficerList","depotListPass","length","queryString","URL","process","env","REACT_APP_API_URL","get","then","response","setDepots","data","deleteDepot","temp","index","findIndex","obj","id","splice","setDepotListPass","depots","option","depot_name","event","newValue","push","params","border","padding","map","depotName"],"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Common/DepotList.js"],"sourcesContent":["\nimport React, { useEffect, useState } from \"react\";\nimport { showError } from \"../../pages/Alert\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { TextField } from \"@material-ui/core\";\nimport axios from \"axios\";\n\nexport default function DepotList(props) {\n    const [depotValue, setDepotValue] = useState(null);\n\n    useEffect(() => {\n        getAllDepots(props.companyIdPass, props.salesOfficerIdsDepotPass,props.depotShow);\n    }, [props.companyIdPass, props.salesOfficerIdsDepotPass,props.depotShow]);\n\n    const getAllDepots = (companyId, salesOfficerList, depotShow) => {\n        props.depotListPass.length = 0;\n        if(depotShow === \"COMPANY_AND_SALES_OFFICER_ID\"){\n            if (salesOfficerList.length > 0) {\n                let queryString = \"?\";\n                queryString += \"companyId=\" + companyId;\n                queryString += '&salesOfficerList=' + salesOfficerList;\n                const URL = `${process.env.REACT_APP_API_URL}/api/depot/get-depot-filter` + queryString;\n                axios.get(URL).then(response => {\n                    props.setDepots(response.data.data);\n                });\n            }\n        }\n        if(depotShow === \"ONLY_COMPANY\"){\n            let queryString = \"?\";\n            queryString += \"companyId=\" + companyId;\n            const URL = `${process.env.REACT_APP_API_URL}/api/depot/all-of-a-company` + queryString;\n            axios.get(URL).then(response => {\n                props.setDepots(response.data.data);\n            });\n        }\n    }\n    const deleteDepot = (data) => {\n        const temp = [...props.depotListPass]\n        const index = temp.findIndex(obj => obj.id === data.id);\n        temp.splice(index, 1);\n        props.setDepotListPass(temp)\n    }\n    return (\n        <>\n            <div className='mt-5'>\n                <label className='level-title'><span className=\"mr-1\">Depot</span></label>\n                <Autocomplete\n                    name=\"depotId\"\n                    options={props.depots}\n                    //onKeyDown={getAllDepots}\n                    getOptionLabel={(option) => option.depot_name}\n                    value={depotValue}\n                    onChange={(event, newValue) => {\n                        setDepotValue(newValue)\n                        if (newValue !== null) {\n                            if (props.depotListPass.length > 0) {\n                                let temp = [...props.depotListPass]\n                                const index = temp.findIndex(data => data.id === newValue.id);\n                                if (index > -1) {\n                                    showError(\"This depot already used\");\n                                    return;\n                                } else {\n                                    temp.push({\n                                        \"id\": newValue.id,\n                                        \"depotName\": newValue.depot_name\n\n                                    })\n                                    props.setDepotListPass(temp)\n                                }\n                            } else {\n                                const temp = [...props.depotListPass]\n                                temp.push({\n                                    \"id\": newValue.id,\n                                    \"depotName\": newValue.depot_name\n\n                                })\n                                props.setDepotListPass(temp)\n                            }\n                        }\n                    }}\n                    renderInput={(params) => (\n                        <TextField {...params} label=\"Select Depot\" />\n                    )}\n                />\n            </div>\n\n            <div\n                className=\"mt-3\"\n                style={{ border: \"none\", padding: \"0 3px 3px 3px\" }}>\n                {props.depotListPass.length > 0 ? props.depotListPass.map(data => {\n                    return (\n                        <>\n                            {\n                                data.id !== \"\" ?\n                                    <span className='mt-3 mr-5 areaLevel'\n                                    >\n                                        {data.depotName}\n                                        <span className='deleteIcon'>\n                                            <a\n                                                className='fa fa-times text-white delete-file'\n                                                onClick={() => deleteDepot(data)}\n                                            ></a>\n                                        </span>\n                                    </span> : \"\"\n                            }\n                        </>\n                    )\n                }) : \"\"}\n            </div>\n        </>);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}