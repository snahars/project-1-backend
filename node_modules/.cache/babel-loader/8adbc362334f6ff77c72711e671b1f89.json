{"ast":null,"code":"import _toConsumableArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _createForOfIteratorHelper from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _slicedToArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/SalesCollection/PaymentAdjusment/payment-adjustment/tabs/invoices-map/view/InvoicesAdjustView.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { CardBody } from \"../../../../../../../../_metronic/_partials/controls\";\nimport PaymentAdjustmentBreadCrum from '../../../../common/PaymentAdjustmentBreadCrum';\nimport { useHistory } from 'react-router-dom';\nimport SVG from \"react-inlinesvg\";\nimport { toAbsoluteUrl } from \"../../../../../../../../_metronic/_helpers\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport { showError, showSuccess } from \"../../../../../../../pages/Alert\";\nimport { ContactSupportOutlined } from \"@material-ui/icons\";\nexport default function InvoicesAdjustView(props) {\n  var _territory$locationTy,\n      _this = this;\n\n  var history = useHistory();\n  var companyId = useSelector(function (state) {\n    return state.auth.company;\n  }, shallowEqual);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      fiscalYear = _useState2[0],\n      setFiscalYear = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      distributor = _useState4[0],\n      setDistributor = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      distributorId = _useState6[0],\n      setDistributorId = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      fiscalYearId = _useState8[0],\n      setFiscalYearId = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      data = _useState10[0],\n      setData = _useState10[1];\n\n  var _useState11 = useState(null),\n      _useState12 = _slicedToArray(_useState11, 2),\n      region = _useState12[0],\n      setRegion = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      area = _useState14[0],\n      setArea = _useState14[1];\n\n  var _useState15 = useState(null),\n      _useState16 = _slicedToArray(_useState15, 2),\n      territory = _useState16[0],\n      setTerritory = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      invoiceList = _useState18[0],\n      setInvoiceList = _useState18[1];\n\n  var _useState19 = useState([]),\n      _useState20 = _slicedToArray(_useState19, 2),\n      paymentList = _useState20[0],\n      setPaymentList = _useState20[1];\n\n  var _useState21 = useState(0),\n      _useState22 = _slicedToArray(_useState21, 2),\n      paymentSumAmount = _useState22[0],\n      setPaymentSumAmount = _useState22[1];\n\n  var _useState23 = useState(0),\n      _useState24 = _slicedToArray(_useState23, 2),\n      invoiceSumAmount = _useState24[0],\n      setInvoiceSumAmount = _useState24[1];\n\n  var _useState25 = useState(null),\n      _useState26 = _slicedToArray(_useState25, 2),\n      adjustablePayment = _useState26[0],\n      setAdjustablePayment = _useState26[1];\n\n  var _useState27 = useState([]),\n      _useState28 = _slicedToArray(_useState27, 2),\n      adjustedInvoiceList = _useState28[0],\n      setAdjustedInvoiceList = _useState28[1]; // const [locationHierarchy, setLocationHierarchy] = useState([]);\n\n\n  var _useState29 = useState(0),\n      _useState30 = _slicedToArray(_useState29, 2),\n      balanceAmount = _useState30[0],\n      setBalanceAmount = _useState30[1];\n\n  var _useState31 = useState(\"\"),\n      _useState32 = _slicedToArray(_useState31, 2),\n      distributorLogo = _useState32[0],\n      setDistributorLogo = _useState32[1];\n\n  var _useState33 = useState(toAbsoluteUrl(\"/images/copmanylogo.png\")),\n      _useState34 = _slicedToArray(_useState33, 2),\n      distributorImg = _useState34[0],\n      setDistributorImg = _useState34[1]; // useEffect(() => {\n  //     if (props.location.state.data) {\n  //         setDistributorId(props.location.state.data.id);\n  //         setData(props.location.state.data);\n  //     }\n  // }, []);\n\n\n  useEffect(function () {\n    if (distributorId) {\n      getDistributor();\n      getDistributorLocationHierarchy();\n      getDistributorLogo(distributorId);\n      getPaymentList();\n    }\n\n    getFiscalYear();\n  }, [companyId, distributorId]);\n  useEffect(function () {\n    var _distributor$parentLo;\n\n    setTerritory(distributor === null || distributor === void 0 ? void 0 : distributor.distributorLocation);\n    setArea(distributor === null || distributor === void 0 ? void 0 : distributor.parentLocation);\n    setRegion(distributor === null || distributor === void 0 ? void 0 : (_distributor$parentLo = distributor.parentLocation) === null || _distributor$parentLo === void 0 ? void 0 : _distributor$parentLo.parent);\n  }, [distributor]);\n  useEffect(function () {\n    getPaymentList();\n  }, [fiscalYearId]); // useEffect(() => {\n  //     if (invoiceList.length > 0) {\n  //         doAdjustment();\n  //     }\n  // }, [invoiceList]);\n\n  var getDistributor = function getDistributor() {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/distributor/info\");\n    URL += '?companyId=' + companyId;\n    URL += '&distributorId=' + Number(distributorId);\n\n    if (distributorId && distributorId > 0) {\n      axios.get(URL).then(function (response) {\n        setDistributor(response.data.data);\n        console.log(\"distributor\", response.data.data);\n      });\n    }\n  };\n\n  var getDistributorLocationHierarchy = function getDistributorLocationHierarchy() {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/location/get-down-to-up-location-hierarchy\");\n    URL += '/' + companyId;\n    URL += '/' + Number(distributorId);\n\n    if (distributorId && distributorId > 0) {\n      axios.get(URL).then(function (response) {\n        var _response$data;\n\n        if (response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.data) {\n          var locations = response.data.data;\n          var dataLength = locations.length;\n\n          if (dataLength >= 1) {\n            setTerritory(locations[0]);\n          }\n\n          if (dataLength >= 2) {\n            setArea(locations[1]);\n          }\n\n          if (dataLength >= 3) {\n            setRegion(locations[2]);\n          }\n        }\n      });\n    }\n  };\n\n  var getDistributorLogo = function getDistributorLogo(distributorId) {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/distributor/logo/\").concat(distributorId);\n\n    if (distributorId) {\n      axios.get(URL).then(function (response) {\n        var logo = response.data;\n        setDistributorLogo(logo);\n      }).catch(function (err) {});\n    }\n  };\n\n  var getFiscalYear = function getFiscalYear() {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/accounting-year/companyWise/\") + companyId;\n\n    if (companyId) {\n      axios.get(URL).then(function (response) {\n        setFiscalYear(response.data.data);\n      });\n    }\n  };\n\n  var getPaymentList = function getPaymentList() {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/payment-collection-adjustment/payment-list-by-distributor\");\n    URL += '?companyId=' + companyId;\n    URL += '&distributorId=' + Number(distributorId);\n    URL += '&fiscalYearId=' + fiscalYearId;\n    console.log(\"URL\", URL);\n    axios.get(URL).then(function (response) {\n      if (response.data.data && response.data.data.length > 0) {\n        setPaymentList(response.data.data);\n        var paymentSum = response.data.data.reduce(function (accumulator, object) {\n          return accumulator + object.remainingAmount;\n        }, 0);\n        setPaymentSumAmount(paymentSum);\n      } else {\n        setPaymentList([]);\n        setPaymentSumAmount(0);\n      }\n\n      setInvoiceList([]);\n      setAdjustablePayment(null);\n      setBalanceAmount(0);\n      setInvoiceSumAmount(0);\n\n      var _iterator = _createForOfIteratorHelper(document.querySelectorAll('.payment-check')),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var paymentItem = _step.value;\n          paymentItem.checked = false;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    });\n  };\n\n  var getInvoiceList = function getInvoiceList(paymentId) {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/payment-collection-adjustment/invoice-list-by-distributor\");\n    URL += '?companyId=' + companyId;\n    URL += '&distributorId=' + Number(distributorId);\n    URL += '&paymentId=' + Number(paymentId);\n    URL += '&fiscalYearId=' + fiscalYearId;\n    axios.get(URL).then(function (response) {\n      setInvoiceList(response.data.data);\n      var invoiceSum = response.data.data.reduce(function (accumulator, object) {\n        return accumulator + object.remainingAmount;\n      }, 0);\n      setInvoiceSumAmount(invoiceSum);\n    });\n  };\n\n  var fiscalYearChangeHandler = function fiscalYearChangeHandler(e) {\n    var value = e.target.value;\n    setFiscalYearId(value ? value : '');\n  };\n\n  var handlePaymentCheck = function handlePaymentCheck(e) {\n    var isChecked = e.target.checked;\n    var value = e.target.value;\n\n    var _iterator2 = _createForOfIteratorHelper(document.querySelectorAll('.payment-check')),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var paymentItem = _step2.value;\n        paymentItem.checked = false;\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    e.target.checked = isChecked;\n\n    if (isChecked) {\n      var selectedPayment = paymentList.find(function (obj) {\n        return obj.id == value;\n      });\n      setAdjustablePayment(selectedPayment);\n      getInvoiceList(value);\n    } else {\n      setAdjustablePayment(null);\n      setInvoiceList([]);\n      setAdjustedInvoiceList([]);\n      setBalanceAmount(0);\n      setInvoiceSumAmount(0);\n    }\n  };\n\n  var doAdjustment = function doAdjustment() {\n    var adjustableAmount = adjustablePayment ? adjustablePayment.remainingAmount : 0;\n    var invoiceAdjustmentList = [];\n\n    var _iterator3 = _createForOfIteratorHelper(invoiceList),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var invoice = _step3.value;\n\n        if (adjustableAmount > 0 && invoice.remainingAmount - invoice.ordAmount <= adjustableAmount) {\n          document.getElementById('invoiceCheck-' + invoice.id).checked = true;\n          adjustableAmount -= invoice.remainingAmount - invoice.ordAmount;\n          invoice.adjustedAmount = invoice.remainingAmount - invoice.ordAmount;\n          invoiceAdjustmentList.push(invoice);\n        } else if (adjustableAmount > 0 && invoice.remainingAmount - invoice.ordAmount >= adjustableAmount) {\n          document.getElementById('invoiceCheck-' + invoice.id).checked = true;\n          invoice.ordAmount = adjustableAmount / 100 * invoice.ord; //added new\n\n          invoice.adjustedAmount = adjustableAmount;\n          adjustableAmount = 0;\n          invoiceAdjustmentList.push(invoice);\n        } else {\n          document.getElementById('invoiceCheck-' + invoice.id).checked = false;\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    setBalanceAmount(adjustableAmount);\n    setAdjustedInvoiceList(invoiceAdjustmentList);\n  };\n\n  var handleInvoiceCheck = function handleInvoiceCheck(e) {\n    var isChecked = e.target.checked;\n    var value = e.target.value;\n    var selectedInvoice = invoiceList.find(function (obj) {\n      return obj.id == value;\n    });\n\n    if (isChecked) {\n      if (balanceAmount == 0) {\n        e.target.checked = false;\n        showError('Insufficiant balance.');\n        return;\n      }\n\n      if (balanceAmount > 0 && balanceAmount >= selectedInvoice.remainingAmount - selectedInvoice.ordAmount) {\n        selectedInvoice.adjustedAmount = selectedInvoice.remainingAmount - selectedInvoice.ordAmount;\n        setBalanceAmount(function (amount) {\n          return amount - selectedInvoice.adjustedAmount;\n        });\n      } else if (balanceAmount > 0 && balanceAmount <= selectedInvoice.remainingAmount - selectedInvoice.ordAmount) {\n        setBalanceAmount(function (amount) {\n          return amount - balanceAmount;\n        });\n        selectedInvoice.adjustedAmount = balanceAmount;\n      }\n\n      var tempAdjustedInvoiceList = _toConsumableArray(adjustedInvoiceList);\n\n      tempAdjustedInvoiceList.push(selectedInvoice);\n      setAdjustedInvoiceList(tempAdjustedInvoiceList);\n    } else {\n      var selectedInvoiceIndex = adjustedInvoiceList.findIndex(function (obj) {\n        return obj.id == value;\n      });\n\n      if (selectedInvoiceIndex == -1) {\n        showError('Invoice not found');\n        return;\n      }\n\n      adjustedInvoiceList.splice(selectedInvoiceIndex, 1);\n      setBalanceAmount(function (amount) {\n        return amount + selectedInvoice.adjustedAmount;\n      });\n    }\n  };\n\n  var doAdjustmentSubmit = function doAdjustmentSubmit() {\n    if (!adjustablePayment) {\n      showError('Payment not selected!');\n      return;\n    }\n\n    if (adjustedInvoiceList.length == 0) {\n      showError('Invoice not selected!');\n      return;\n    }\n\n    if (adjustablePayment.remainingAmount - balanceAmount <= 0) {\n      showError('Adjusted amount must be greater than 0!');\n      return;\n    }\n\n    var data = {};\n    data.companyId = companyId;\n    data.adjustedAmount = adjustablePayment.remainingAmount - balanceAmount;\n    data.adjustedPayment = adjustablePayment;\n    data.adjustedInvoiceList = adjustedInvoiceList;\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/payment-collection-adjustment\"); //getPaymentList();\n\n    axios.post(URL, data).then(function (response) {\n      if (response.data.success === true) {\n        showSuccess(response.data.message);\n        getPaymentList();\n      } else {\n        showError(response.data.message);\n      }\n    }).catch(function (err) {\n      showError(err);\n    });\n  };\n\n  var handleBackToInvoicesMapListPage = function handleBackToInvoicesMapListPage() {\n    history.push('/salescollection/payment-adjustment/payment-adjustment/invoices-map');\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PaymentAdjustmentBreadCrum, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn\",\n    onClick: handleBackToInvoicesMapListPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-arrow-left-short sales-booking-view-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 45\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4 text-center mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 33\n    }\n  }, \"Payment Adjustment\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4 text-xl-right text-muted mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 33\n    }\n  }, \"20 APR 2022 10:23 AM\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-wrap justify-content-between mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row w-75\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dark-gray-color\",\n    style: {\n      fontWeight: \"500\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 37\n    }\n  }, region && region.locationType.name), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 44\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 43\n    }\n  }, region && region.name))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dark-gray-color\",\n    style: {\n      fontWeight: \"500\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 37\n    }\n  }, area && area.locationType.name), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 44\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 43\n    }\n  }, area && area.name))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dark-gray-color\",\n    style: {\n      fontWeight: \"500\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 37\n    }\n  }, territory && (territory === null || territory === void 0 ? void 0 : (_territory$locationTy = territory.locationType) === null || _territory$locationTy === void 0 ? void 0 : _territory$locationTy.name)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 44\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 43\n    }\n  }, territory && (territory === null || territory === void 0 ? void 0 : territory.name)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dark-gray-color\",\n    style: {\n      fontWeight: \"500\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 37\n    }\n  }, \"Timeline\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control border-0 ml-n5 payment-collection-invoices-select\",\n    onChange: fiscalYearChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 45\n    }\n  }, \"All\"), fiscalYear && fiscalYear.map(function (data) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: data.id,\n      value: data.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 50\n      }\n    }, data.fiscalYearName);\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex  mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"image-input image-input-circle\",\n    src: distributorLogo === undefined || distributorLogo === \"\" || distributorLogo === null ? distributorImg : \"data:image/png;base64,\".concat(distributorLogo),\n    width: \"35px\",\n    height: \"35px\",\n    alt: \"Distributor\\u2019s Picture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontWeight: \"500\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 81\n    }\n  }, data && data.distributor_name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(SVG, {\n    src: toAbsoluteUrl(\"/media/svg/icons/project-svg/phone.svg\"),\n    width: \"14px\",\n    height: \"14px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 71\n    }\n  }), \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 49\n    }\n  }, \"4738473847384738\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn sales-credit-btn\",\n    style: {\n      padding: \"0px 15px\",\n      borderRadius: \"13px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-white\",\n    style: {\n      fontSize: \"0.83rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 41\n    }\n  }, \"Balance\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 52\n    }\n  }), data && data.ledger_balance)))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 37\n    }\n  }, \"PAYMENTS\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"float-right mt-n2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-arrow-down-short text-danger\",\n    style: {\n      fontSize: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mt-n3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 65\n    }\n  }, paymentSumAmount.toFixed(2)))))), paymentList && paymentList.map(function (data) {\n    return /*#__PURE__*/React.createElement(Card, {\n      className: \"mt-2\",\n      key: data.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      class: \"text-primary payment-check\",\n      type: \"checkbox\",\n      name: \"paymentCheck\",\n      id: 'paymentCheck-' + data.id,\n      value: data.id,\n      \"aria-label\": \"...\",\n      onClick: handlePaymentCheck,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 53\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 78\n      }\n    }, data.adjustType == 'PAYMENT' ? 'Money Receipt No.' : 'Return No', \" \", data.moneyReceiptNo)), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 190\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 49\n      }\n    }, moment(data.paymentDate).format('DD MMM YYYY').toUpperCase()), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 147\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 49\n      }\n    }, \"Balance\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 92\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 55\n      }\n    }, data.remainingAmount.toFixed(2)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(SVG, {\n      src: toAbsoluteUrl(\"/media/svg/icons/project-svg/vertical-dot.svg\"),\n      width: \"15px\",\n      height: \"15px\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 49\n      }\n    })))));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 37\n    }\n  }, \"INVOICES\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"float-right mt-n2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-arrow-down-short text-danger\",\n    style: {\n      fontSize: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mt-n3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 65\n    }\n  }, invoiceSumAmount.toFixed(2)))))), invoiceList && invoiceList.map(function (data) {\n    return /*#__PURE__*/React.createElement(Card, {\n      className: \"mt-2\",\n      key: data.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      class: \"text-primary invoice-check\",\n      type: \"checkbox\",\n      name: \"invoiceCheck\",\n      id: 'invoiceCheck-' + data.id,\n      value: data.id,\n      \"aria-label\": \"...\",\n      onClick: handleInvoiceCheck,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 53\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 78\n      }\n    }, \"No. \", data.invoiceNo, \" (\", data.invoiceNature, \")\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 145\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 49\n      }\n    }, moment(data.invoiceDate).format('DD MMM YYYY').toLocaleUpperCase()), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 153\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 53\n      }\n    }, \"Invoice Amount\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"col-4 text-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 88\n      }\n    }, data.invoiceAmount.toFixed(2))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 143\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 53\n      }\n    }, \"Balance\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"col-4 text-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 88\n      }\n    }, data.remainingAmount.toFixed(2))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(SVG, {\n      src: toAbsoluteUrl(\"/media/svg/icons/project-svg/vertical-dot.svg\"),\n      width: \"15px\",\n      height: \"15px\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 49\n      }\n    })))));\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 29\n    }\n  }, \"ADJUSTABLE\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"float-right mt-n2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-arrow-up-short text-primary\",\n    style: {\n      fontSize: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mt-n3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 57\n    }\n  }, paymentSumAmount.toFixed(2)))))), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"dark-gray-color font-15\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 37\n    }\n  }, \"Money Receipt No. \", adjustablePayment && adjustablePayment.moneyReceiptNo)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 134\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 33\n    }\n  }, adjustablePayment && moment(adjustablePayment.paymentDate).format('DD MMM YYYY').toUpperCase()), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"float-right mt-n5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(SVG, {\n    src: toAbsoluteUrl(\"/media/svg/icons/project-svg/vertical-dot.svg\"),\n    width: \"15px\",\n    height: \"15px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 69\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 37\n    }\n  }, \"Balance\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 37\n    }\n  }, \"Total Payment Amount \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 42\n    }\n  }, adjustablePayment ? adjustablePayment.remainingAmount.toFixed(2) : 0, \"  \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 59\n    }\n  }, \"- \", adjustablePayment ? (adjustablePayment.remainingAmount - balanceAmount).toFixed(2) : 0, \"  \")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5\",\n    style: {\n      border: \"1px solid #828282\",\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 37\n    }\n  }, \"Balance(After Adj.)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 37\n    }\n  }, balanceAmount.toFixed(2)))), adjustedInvoiceList && adjustedInvoiceList.map(function (data) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: data.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-5\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"dark-gray-color font-15\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 83\n      }\n    }, \"INVOICES NO. \", data.invoiceNo)), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 136\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 41\n      }\n    }, moment(data.invoiceDate).format('DD MMM YYYY').toLocaleUpperCase(), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 45\n      }\n    }, \"(Elapsed Day \", data.elapsedDay, \" days)\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-3 \",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-8\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"dark-gray-color font-15\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 49\n      }\n    }, \"ORD\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"dark-success-color\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 49\n      }\n    }, \"(+\", data.ord + (data.calculationType === 'PERCENTAGE' ? '%' : ''), \")\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 text-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"dark-success-color\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 45\n      }\n    }, \"+\", data.ordAmount.toFixed(2), \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-2 text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 45\n      }\n    }, \"Balance\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 45\n      }\n    }, \"Payment Amount \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 45\n      }\n    }, data.remainingAmount.toFixed(2)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 45\n      }\n    }, data.adjustedAmount.toFixed(2)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-5\",\n      style: {\n        border: \"1px solid #828282\",\n        width: \"100%\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-3 text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-8\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 45\n      }\n    }, \"Balance(After Adj.)\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-4 text-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 45\n      }\n    }, (data.remainingAmount - data.ordAmount - data.adjustedAmount).toFixed(2)))));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-5 mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"border-0 w-100 rounded p-3 text-white\",\n    style: {\n      background: \"#56CCF2\"\n    },\n    onClick: doAdjustmentSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(SVG, {\n    src: toAbsoluteUrl(\"/media/svg/icons/project-svg/adjustment.svg\"),\n    width: \"15px\",\n    height: \"15px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 37\n    }\n  }), \"\\xA0Payment Adjustment\")))))));\n}","map":{"version":3,"names":["React","useEffect","useState","Card","CardBody","PaymentAdjustmentBreadCrum","useHistory","SVG","toAbsoluteUrl","shallowEqual","useSelector","axios","moment","showError","showSuccess","ContactSupportOutlined","InvoicesAdjustView","props","history","companyId","state","auth","company","fiscalYear","setFiscalYear","distributor","setDistributor","distributorId","setDistributorId","fiscalYearId","setFiscalYearId","data","setData","region","setRegion","area","setArea","territory","setTerritory","invoiceList","setInvoiceList","paymentList","setPaymentList","paymentSumAmount","setPaymentSumAmount","invoiceSumAmount","setInvoiceSumAmount","adjustablePayment","setAdjustablePayment","adjustedInvoiceList","setAdjustedInvoiceList","balanceAmount","setBalanceAmount","distributorLogo","setDistributorLogo","distributorImg","setDistributorImg","getDistributor","getDistributorLocationHierarchy","getDistributorLogo","getPaymentList","getFiscalYear","distributorLocation","parentLocation","parent","URL","process","env","REACT_APP_API_URL","Number","get","then","response","console","log","locations","dataLength","length","logo","catch","err","paymentSum","reduce","accumulator","object","remainingAmount","document","querySelectorAll","paymentItem","checked","getInvoiceList","paymentId","invoiceSum","fiscalYearChangeHandler","e","value","target","handlePaymentCheck","isChecked","selectedPayment","find","obj","id","doAdjustment","adjustableAmount","invoiceAdjustmentList","invoice","ordAmount","getElementById","adjustedAmount","push","ord","handleInvoiceCheck","selectedInvoice","amount","tempAdjustedInvoiceList","selectedInvoiceIndex","findIndex","splice","doAdjustmentSubmit","adjustedPayment","post","success","message","handleBackToInvoicesMapListPage","fontWeight","locationType","name","map","fiscalYearName","undefined","distributor_name","padding","borderRadius","fontSize","ledger_balance","toFixed","adjustType","moneyReceiptNo","paymentDate","format","toUpperCase","invoiceNo","invoiceNature","invoiceDate","toLocaleUpperCase","invoiceAmount","border","width","elapsedDay","calculationType","background"],"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/SalesCollection/PaymentAdjusment/payment-adjustment/tabs/invoices-map/view/InvoicesAdjustView.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { CardBody } from \"../../../../../../../../_metronic/_partials/controls\";\nimport PaymentAdjustmentBreadCrum from '../../../../common/PaymentAdjustmentBreadCrum';\nimport { useHistory } from 'react-router-dom';\nimport SVG from \"react-inlinesvg\";\nimport { toAbsoluteUrl } from \"../../../../../../../../_metronic/_helpers\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport { showError, showSuccess } from \"../../../../../../../pages/Alert\";\nimport { ContactSupportOutlined } from \"@material-ui/icons\";\n\nexport default function InvoicesAdjustView(props) {\n    let history = useHistory();\n    const companyId = useSelector((state) => state.auth.company, shallowEqual);\n    const [fiscalYear, setFiscalYear] = useState([]);\n    const [distributor, setDistributor] = useState(null);\n    const [distributorId, setDistributorId] = useState(null);\n    const [fiscalYearId, setFiscalYearId] = useState('');\n    const [data, setData] = useState(null);\n    const [region, setRegion] = useState(null);\n    const [area, setArea] = useState(null);\n    const [territory, setTerritory] = useState(null);\n    const [invoiceList, setInvoiceList] = useState([]);\n    const [paymentList, setPaymentList] = useState([]);\n    const [paymentSumAmount, setPaymentSumAmount] = useState(0);\n    const [invoiceSumAmount, setInvoiceSumAmount] = useState(0);\n    const [adjustablePayment, setAdjustablePayment] = useState(null);\n    const [adjustedInvoiceList, setAdjustedInvoiceList] = useState([]);\n    // const [locationHierarchy, setLocationHierarchy] = useState([]);\n    const [balanceAmount, setBalanceAmount] = useState(0);\n    const [distributorLogo, setDistributorLogo] = useState(\"\");\n    const [distributorImg, setDistributorImg] = useState(toAbsoluteUrl(\"/images/copmanylogo.png\"));\n\n    // useEffect(() => {\n    //     if (props.location.state.data) {\n    //         setDistributorId(props.location.state.data.id);\n    //         setData(props.location.state.data);\n    //     }\n    // }, []);\n\n    useEffect(() => {\n        if (distributorId) {\n            getDistributor();\n            getDistributorLocationHierarchy();\n            getDistributorLogo(distributorId);\n            getPaymentList();\n        }\n        getFiscalYear();\n    }, [companyId, distributorId]);\n\n     useEffect(() => {\n        setTerritory(distributor?.distributorLocation);\n        setArea(distributor?.parentLocation);\n        setRegion(distributor?.parentLocation?.parent);        \n    }, [distributor]); \n\n    useEffect(() => {\n        getPaymentList();\n\n    }, [fiscalYearId]);\n\n    // useEffect(() => {\n    //     if (invoiceList.length > 0) {\n    //         doAdjustment();\n    //     }\n    // }, [invoiceList]);\n\n    const getDistributor = () => {\n        let URL = `${process.env.REACT_APP_API_URL}/api/distributor/info`;\n        URL += '?companyId=' + companyId;\n        URL += '&distributorId=' + Number(distributorId);\n        if (distributorId && distributorId>0) {\n            axios.get(URL).then(response => {\n                setDistributor(response.data.data);     console.log(\"distributor\", response.data.data);      \n            });\n        }\n    }\n\n    const getDistributorLocationHierarchy = () => {\n        let URL = `${process.env.REACT_APP_API_URL}/api/location/get-down-to-up-location-hierarchy`;\n        URL += '/' + companyId;\n        URL += '/' + Number(distributorId);\n        if (distributorId && distributorId>0) {\n            axios.get(URL).then(response => {\n                if (response?.data?.data) {\n                    const locations = response.data.data;\n                    const dataLength = locations.length;\n                    if (dataLength >= 1) {\n                        setTerritory(locations[0]);\n                    }\n                    if (dataLength >= 2) {\n                        setArea(locations[1]);\n                    }\n                    if (dataLength >= 3) {\n                        setRegion(locations[2]);\n                    }\n                }\n            });\n        }\n    }\n\n    const getDistributorLogo = (distributorId) => {\n        const URL = `${process.env.REACT_APP_API_URL}/api/distributor/logo/${distributorId}`;\n        if (distributorId) {\n            axios.get(URL).then(response => {\n                const logo = response.data;\n                setDistributorLogo(logo);\n            }).catch(err => {\n\n            });\n        }\n    }\n\n    const getFiscalYear = () => {\n        const URL = `${process.env.REACT_APP_API_URL}/api/accounting-year/companyWise/` + companyId\n        if (companyId) {\n            axios.get(URL).then(response => {\n                setFiscalYear(response.data.data);\n            });\n        }\n    }\n\n    const getPaymentList = () => {\n        let URL = `${process.env.REACT_APP_API_URL}/api/payment-collection-adjustment/payment-list-by-distributor`;\n        URL += '?companyId=' + companyId;\n        URL += '&distributorId=' + Number(distributorId);\n        URL += '&fiscalYearId=' + fiscalYearId;\n        console.log(\"URL\", URL)\n        axios.get(URL).then(response => {\n            if (response.data.data && response.data.data.length > 0) {\n                setPaymentList(response.data.data);\n\n                const paymentSum = response.data.data.reduce((accumulator, object) => {\n                    return accumulator + object.remainingAmount;\n                }, 0);\n                setPaymentSumAmount(paymentSum);\n            } else {\n                setPaymentList([]);\n                setPaymentSumAmount(0);\n            }\n            setInvoiceList([]);\n            setAdjustablePayment(null);\n            setBalanceAmount(0);\n            setInvoiceSumAmount(0);\n\n            for (const paymentItem of document.querySelectorAll('.payment-check')) {\n                paymentItem.checked = false;\n            }\n        });\n    }\n\n    const getInvoiceList = (paymentId) => {\n        let URL = `${process.env.REACT_APP_API_URL}/api/payment-collection-adjustment/invoice-list-by-distributor`;\n        URL += '?companyId=' + companyId;\n        URL += '&distributorId=' + Number(distributorId);\n        URL += '&paymentId=' + Number(paymentId);\n        URL += '&fiscalYearId=' + fiscalYearId;\n        axios.get(URL).then(response => {\n            setInvoiceList(response.data.data);\n\n            const invoiceSum = response.data.data.reduce((accumulator, object) => {\n                return accumulator + object.remainingAmount;\n            }, 0);\n            setInvoiceSumAmount(invoiceSum);\n        });\n    }\n\n    const fiscalYearChangeHandler = (e) => {\n        const value = e.target.value;\n        setFiscalYearId(value ? value : '');\n    }\n\n    const handlePaymentCheck = (e) => {\n        const isChecked = e.target.checked;\n        const value = e.target.value;\n\n        for (const paymentItem of document.querySelectorAll('.payment-check')) {\n            paymentItem.checked = false;\n        }\n        e.target.checked = isChecked;\n\n        if (isChecked) {\n            const selectedPayment = paymentList.find(obj => obj.id == value);\n            setAdjustablePayment(selectedPayment);\n            getInvoiceList(value);\n        } else {\n            setAdjustablePayment(null);\n            setInvoiceList([]);\n            setAdjustedInvoiceList([]);\n            setBalanceAmount(0);\n            setInvoiceSumAmount(0);\n        }\n    }\n\n    const doAdjustment = () => {\n        let adjustableAmount = adjustablePayment ? adjustablePayment.remainingAmount : 0;\n        const invoiceAdjustmentList = [];\n        for (const invoice of invoiceList) {\n            if (adjustableAmount > 0 && (invoice.remainingAmount - invoice.ordAmount) <= adjustableAmount) {\n                document.getElementById('invoiceCheck-' + invoice.id).checked = true;\n                adjustableAmount -= invoice.remainingAmount - invoice.ordAmount;\n                invoice.adjustedAmount = invoice.remainingAmount - invoice.ordAmount;\n                invoiceAdjustmentList.push(invoice);\n            } else if (adjustableAmount > 0 && (invoice.remainingAmount - invoice.ordAmount) >= adjustableAmount) {\n                document.getElementById('invoiceCheck-' + invoice.id).checked = true;\n                invoice.ordAmount = ((adjustableAmount / 100) * invoice.ord) //added new\n                invoice.adjustedAmount = adjustableAmount;\n\n                adjustableAmount = 0;\n                invoiceAdjustmentList.push(invoice);\n            } else {\n                document.getElementById('invoiceCheck-' + invoice.id).checked = false;\n            }\n        }\n        setBalanceAmount(adjustableAmount);\n        setAdjustedInvoiceList(invoiceAdjustmentList);        \n    }\n\n    const handleInvoiceCheck = (e) => {\n        const isChecked = e.target.checked;\n        const value = e.target.value;\n\n        const selectedInvoice = invoiceList.find(obj => obj.id == value);\n\n        if (isChecked) {\n            if (balanceAmount == 0) {\n                e.target.checked = false;\n                showError('Insufficiant balance.');\n                return;\n            }\n\n            if (balanceAmount > 0 && balanceAmount >= selectedInvoice.remainingAmount - selectedInvoice.ordAmount) {\n                selectedInvoice.adjustedAmount = selectedInvoice.remainingAmount - selectedInvoice.ordAmount;\n                setBalanceAmount(amount => amount - selectedInvoice.adjustedAmount);\n            } else if (balanceAmount > 0 && balanceAmount <= selectedInvoice.remainingAmount - selectedInvoice.ordAmount) {\n                setBalanceAmount(amount => amount - balanceAmount);\n                selectedInvoice.adjustedAmount = balanceAmount\n            }\n\n            const tempAdjustedInvoiceList = [...adjustedInvoiceList];\n            tempAdjustedInvoiceList.push(selectedInvoice)\n\n            setAdjustedInvoiceList(tempAdjustedInvoiceList);\n        } else {\n            const selectedInvoiceIndex = adjustedInvoiceList.findIndex(obj => obj.id == value);\n            if (selectedInvoiceIndex == -1) {\n                showError('Invoice not found');\n                return;\n            }\n            adjustedInvoiceList.splice(selectedInvoiceIndex, 1);\n            setBalanceAmount(amount => amount + selectedInvoice.adjustedAmount);\n        }\n\n    }\n\n    const doAdjustmentSubmit = () => {\n\n        if (!adjustablePayment) {\n            showError('Payment not selected!');\n            return;\n        }\n\n        if (adjustedInvoiceList.length == 0) {\n            showError('Invoice not selected!');\n            return;\n        }\n\n        if (adjustablePayment.remainingAmount - balanceAmount <= 0) {\n            showError('Adjusted amount must be greater than 0!');\n            return;\n        }\n\n        let data = {};\n        data.companyId = companyId;\n        data.adjustedAmount = adjustablePayment.remainingAmount - balanceAmount;\n        data.adjustedPayment = adjustablePayment;\n        data.adjustedInvoiceList = adjustedInvoiceList;\n        \n        const URL = `${process.env.REACT_APP_API_URL}/api/payment-collection-adjustment`;\n        //getPaymentList();\n        axios.post(URL, data).then(response => {\n            if (response.data.success === true) {\n                showSuccess(response.data.message);\n                getPaymentList();\n            } else {\n                showError(response.data.message);\n            }\n        }).catch(err => {\n            showError(err);\n        });\n    }\n\n    const handleBackToInvoicesMapListPage = () => {\n        history.push('/salescollection/payment-adjustment/payment-adjustment/invoices-map');\n    }\n\n    return (\n        <>\n            <div>\n                {/* BREAD CRUM ROW */}\n                <PaymentAdjustmentBreadCrum />\n            </div>\n\n            <div>\n                <Card>\n                    <CardBody>\n                        {/* BACK AND TITLE ROW */}\n                        <div className=\"row\">\n                            <div className=\"col-4\">\n                                <span>\n                                    <button className='btn' onClick={handleBackToInvoicesMapListPage}>\n                                        <strong>\n                                            <i className=\"bi bi-arrow-left-short sales-booking-view-icon\"></i>\n                                        </strong>\n                                    </button>\n                                </span>\n                            </div>\n                            <div className=\"col-4 text-center mt-3\">\n                                <strong>Payment Adjustment</strong>\n                            </div>\n                            <div className=\"col-4 text-xl-right text-muted mt-3\">\n                                <strong>20 APR 2022 10:23 AM</strong>\n                            </div>\n                        </div>\n\n                        {/* HEADER ROW */}\n                        <div className='d-flex flex-wrap justify-content-between mt-5'>\n\n                            <div className=\"row w-75\">\n                                <div className=\"col-xl-3\">\n                                    <span className=\"dark-gray-color\" style={{ fontWeight: \"500\" }}>\n                                        {region && region.locationType.name}\n                                    </span><br />\n                                    <span><strong>\n                                        {region && region.name}\n                                    </strong></span>\n                                </div>\n                                <div className=\"col-xl-3\">\n                                    <span className=\"dark-gray-color\" style={{ fontWeight: \"500\" }}>\n                                        {area && area.locationType.name}\n                                    </span><br />\n                                    <span><strong>\n                                        {area && area.name}\n                                    </strong></span>\n                                </div>\n                                <div className=\"col-xl-2\">\n                                    <span className=\"dark-gray-color\" style={{ fontWeight: \"500\" }}>\n                                        {territory && territory?.locationType?.name}\n                                    </span><br />\n                                    <span><strong>\n                                        {territory && territory?.name}\n                                    </strong></span>\n                                </div>\n                                <div className=\"col-xl-4\">\n                                    <span className=\"dark-gray-color\"\n                                        style={{ fontWeight: \"500\" }}>Timeline</span>\n                                    <span>\n                                        <select className=\"form-control border-0 ml-n5 payment-collection-invoices-select\"\n                                            onChange={fiscalYearChangeHandler}>\n                                            <option value=\"\" selected>All</option>\n                                            {fiscalYear && fiscalYear.map((data) =>\n                                                (<option key={data.id} value={data.id}>{data.fiscalYearName}</option>)\n                                            )}\n                                        </select>\n                                    </span>\n                                </div>\n                            </div>\n\n                            <div className='d-flex flex-wrap'>\n                                <div className=\"d-flex  mr-5\">\n                                    <div>\n                                        {/* <SVG src={toAbsoluteUrl(\"\")} width=\"35px\" height=\"35px\" /> */}\n                                        <img className=\"image-input image-input-circle\"\n                                            src={distributorLogo === undefined || distributorLogo === \"\" || distributorLogo === null ? distributorImg : `data:image/png;base64,${distributorLogo}`}\n                                            width=\"35px\" height=\"35px\" alt='Distributor’s Picture' />\n                                    </div>\n                                    <div className=\"ml-3\">\n                                        <span>\n                                            <span style={{ fontWeight: \"500\" }}><strong>{data && data.distributor_name}</strong></span>\n                                            <div className=\"d-flex\">\n                                                <div className=\"mr-2\"><SVG src={toAbsoluteUrl(\"/media/svg/icons/project-svg/phone.svg\")} width=\"14px\" height=\"14px\" />&nbsp;</div>\n                                                {/* {distributor && distributor.info.contactNo} */}\n                                                <div>4738473847384738</div>\n                                            </div>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div>\n                                    <button className='btn sales-credit-btn' style={{ padding: \"0px 15px\", borderRadius: \"13px\" }}>\n                                        <span className='text-white' style={{ fontSize: \"0.83rem\" }}>\n                                            Balance<br />\n                                            {data && data.ledger_balance}\n                                        </span>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </CardBody>\n                </Card>\n            </div>\n\n            {/* CONTENT BODY ROW */}\n            <div className=\"row mt-5\">\n                <div className=\"col-xl-8\">\n                    <div className=\"row\">\n                        <div className=\"col-xl-6\">\n                            <Card>\n                                <CardBody>\n                                    <span className=\"text-muted\">PAYMENTS</span>\n                                    <span className=\"float-right mt-n2\">\n                                        <i class=\"bi bi-arrow-down-short text-danger\" style={{ fontSize: \"20px\" }}></i>\n                                        <span className=\"mt-n3\"><strong>{paymentSumAmount.toFixed(2)}</strong></span>\n                                    </span>\n                                </CardBody>\n                            </Card>\n\n                            {paymentList && paymentList.map((data) => (\n                                <Card className=\"mt-2\" key={data.id}>\n                                    <CardBody>\n                                        <div className=\"row\">\n                                            <div className=\"col-1\">\n                                                <div>\n                                                    <input class=\"text-primary payment-check\" type=\"checkbox\" name=\"paymentCheck\" id={'paymentCheck-' + data.id}\n                                                        value={data.id} aria-label=\"...\" onClick={handlePaymentCheck} />\n                                                </div>\n                                            </div>\n                                            <div className=\"col-10\">\n                                                <span className=\"text-muted\"><strong>{data.adjustType == 'PAYMENT' ? 'Money Receipt No.' : 'Return No'} {data.moneyReceiptNo}</strong></span><br />\n                                                <span className=\"text-muted\">{moment(data.paymentDate).format('DD MMM YYYY').toUpperCase()}</span><br />\n                                                <span className=\"text-muted\">Balance</span><br />\n                                                <span><strong>{data.remainingAmount.toFixed(2)}</strong></span>\n                                            </div>\n                                            <div className=\"col-1\">\n                                                <SVG src={toAbsoluteUrl(\"/media/svg/icons/project-svg/vertical-dot.svg\")} width=\"15px\" height=\"15px\" />\n                                            </div>\n                                        </div>\n                                    </CardBody>\n                                </Card>\n                            ))}\n\n                        </div>\n                        <div className=\"col-xl-6\">\n                            <Card>\n                                <CardBody>\n                                    <span className=\"text-muted\">INVOICES</span>\n                                    <span className=\"float-right mt-n2\">\n                                        <i class=\"bi bi-arrow-down-short text-danger\" style={{ fontSize: \"20px\" }}></i>\n                                        <span className=\"mt-n3\"><strong>{invoiceSumAmount.toFixed(2)}</strong></span>\n                                    </span>\n                                </CardBody>\n                            </Card>\n\n                            {invoiceList && invoiceList.map((data) => (\n                                <Card className=\"mt-2\" key={data.id}>\n                                    <CardBody>\n                                        <div className=\"row\">\n                                            <div className=\"col-1\">\n                                                <div>\n                                                    <input class=\"text-primary invoice-check\" type=\"checkbox\" name=\"invoiceCheck\" id={'invoiceCheck-' + data.id}\n                                                        value={data.id} aria-label=\"...\" onClick={handleInvoiceCheck} />\n                                                </div>\n                                            </div>\n                                            <div className=\"col-10\">\n                                                <span className=\"text-muted\"><strong>No. {data.invoiceNo} ({data.invoiceNature})</strong></span><br />\n                                                <span className=\"text-muted\">{moment(data.invoiceDate).format('DD MMM YYYY').toLocaleUpperCase()}</span><br />\n                                                <div>\n                                                    <span className=\"text-muted\">Invoice Amount</span>\n                                                    <span className=\"col-4 text-right\"><strong>{data.invoiceAmount.toFixed(2)}</strong></span><br />\n                                                </div>\n                                                <div>\n                                                    <span className=\"text-muted\">Balance</span>\n                                                    <span className=\"col-4 text-right\"><strong>{data.remainingAmount.toFixed(2)}</strong></span>\n                                                </div>\n                                            </div>\n                                            <div className=\"col-1\">\n                                                <SVG src={toAbsoluteUrl(\"/media/svg/icons/project-svg/vertical-dot.svg\")} width=\"15px\" height=\"15px\" />\n                                            </div>\n                                        </div>\n                                    </CardBody>\n                                </Card>\n                            ))}\n\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-xl-4\">\n                    <Card>\n                        <CardBody>\n                            <span className=\"text-muted\">ADJUSTABLE</span>\n                            <span className=\"float-right mt-n2\">\n                                <i class=\"bi bi-arrow-up-short text-primary\" style={{ fontSize: \"20px\" }}></i>\n                                <span className=\"mt-n3\"><strong>{paymentSumAmount.toFixed(2)}</strong></span>\n                            </span>\n                        </CardBody>\n                    </Card>\n\n                    <Card>\n                        <CardBody>\n                            {/* MONEY RECEIPT NO ROW */}\n                            <div>\n                                <span className=\"dark-gray-color font-15\">\n                                    <strong>Money Receipt No. {adjustablePayment && adjustablePayment.moneyReceiptNo}</strong></span><br />\n                                <small className=\"text-muted\">\n                                    {adjustablePayment && moment(adjustablePayment.paymentDate).format('DD MMM YYYY').toUpperCase()}</small>\n                                <span className=\"float-right mt-n5\"><SVG src={toAbsoluteUrl(\"/media/svg/icons/project-svg/vertical-dot.svg\")} width=\"15px\" height=\"15px\" /></span>\n                            </div>\n\n                            {/* BALANCE AND TOTAL BALANCE ROW */}\n                            <div className=\"row mt-5\">\n                                <div className=\"col-6\">\n                                    <div>Balance</div>\n                                    <div className=\"mt-3\">Total Payment Amount </div>\n                                </div>\n                                <div className=\"col-6 text-right\">\n                                    <div><strong>{adjustablePayment ? adjustablePayment.remainingAmount.toFixed(2) : 0}  </strong></div>\n                                    <div className=\"mt-3\"><strong>- {adjustablePayment ? (adjustablePayment.remainingAmount - balanceAmount).toFixed(2) : 0}  </strong></div>\n                                </div>\n                            </div>\n                            <div className=\"mt-5\" style={{ border: \"1px solid #828282\", width: \"100%\" }}></div>\n                            {/* TOTAL ROW */}\n                            <div className=\"row mt-3\">\n                                <div className=\"col-8\">\n                                    <strong>Balance(After Adj.)</strong>\n                                </div>\n                                <div className=\"col-4 text-right\">\n                                    <strong>{balanceAmount.toFixed(2)}</strong>\n                                </div>\n                            </div>\n\n\n                            {/* INVOICES NO DAY 1 ROW  */}\n                            {adjustedInvoiceList && adjustedInvoiceList.map((data) => (\n                                <div key={data.id}>\n                                    <div className=\"mt-5\">\n                                        <span className=\"dark-gray-color font-15\"><strong>INVOICES NO. {data.invoiceNo}</strong></span><br />\n                                        <small className=\"text-muted\">\n                                            {moment(data.invoiceDate).format('DD MMM YYYY').toLocaleUpperCase()}\n                                            <span>(Elapsed Day {data.elapsedDay} days)</span>\n                                        </small>\n                                    </div>\n                                    <div className=\"row mt-3 \">\n                                        <div className=\"col-8\">\n                                            <span className=\"dark-gray-color font-15\">\n                                                <strong>ORD</strong>\n                                                <span className=\"dark-success-color\">(+{data.ord + (data.calculationType === 'PERCENTAGE' ? '%' : '')})</span>\n                                            </span>\n                                        </div>\n                                        <div className=\"col-4 text-right\">\n                                            <span className=\"dark-success-color\">+{data.ordAmount.toFixed(2)} </span>\n                                        </div>\n                                    </div>\n\n                                    {/* BALANCE AND TOTAL BALANCE ROW */}\n                                    <div className=\"row mt-2 text-muted\">\n                                        <div className=\"col-6\">\n                                            <div>Balance</div>\n                                            <div className=\"mt-3\">Payment Amount </div>\n                                        </div>\n                                        <div className=\"col-6 text-right\">\n                                            <div>{data.remainingAmount.toFixed(2)}</div>\n                                            <div className=\"mt-3\">{data.adjustedAmount.toFixed(2)}</div>\n                                        </div>\n                                    </div>\n                                    <div className=\"mt-5\" style={{ border: \"1px solid #828282\", width: \"100%\" }}></div>\n                                    {/* TOTAL ROW */}\n                                    <div className=\"row mt-3 text-muted\">\n                                        <div className=\"col-8\">\n                                            <span>Balance(After Adj.)</span>\n                                        </div>\n                                        <div className=\"col-4 text-right\">\n                                            <span>{(data.remainingAmount - data.ordAmount - data.adjustedAmount).toFixed(2)}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            ))}\n\n                            <div className=\"p-5 mt-4\">\n                                <button className=\"border-0 w-100 rounded p-3 text-white\" style={{ background: \"#56CCF2\" }}\n                                    onClick={doAdjustmentSubmit}>\n                                    <SVG src={toAbsoluteUrl(\"/media/svg/icons/project-svg/adjustment.svg\")} width=\"15px\" height=\"15px\" />\n                                    &nbsp;Payment Adjustment\n                                </button>\n                            </div>\n                        </CardBody>\n                    </Card>\n                </div>\n            </div>\n        </>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}