{"ast":null,"code":"import _objectSpread from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/ECommerce/pages/products/products-filter/ProductsFilter.js\";\nimport React, { useMemo } from \"react\";\nimport { Formik } from \"formik\";\nimport { isEqual } from \"lodash\";\nimport { useProductsUIContext } from \"../ProductsUIContext\";\n\nvar prepareFilter = function prepareFilter(queryParams, values) {\n  var status = values.status,\n      condition = values.condition,\n      searchText = values.searchText;\n\n  var newQueryParams = _objectSpread({}, queryParams);\n\n  var filter = {}; // Filter by status\n\n  filter.status = status !== \"\" ? +status : undefined; // Filter by condition\n\n  filter.condition = condition !== \"\" ? +condition : undefined; // Filter by all fields\n\n  filter.model = searchText;\n\n  if (searchText) {\n    filter.manufacture = searchText;\n    filter.VINCode = searchText;\n  }\n\n  newQueryParams.filter = filter;\n  return newQueryParams;\n};\n\nexport function ProductsFilter(_ref) {\n  var _this = this;\n\n  var listLoading = _ref.listLoading;\n  // Products UI Context\n  var productsUIContext = useProductsUIContext();\n  var productsUIProps = useMemo(function () {\n    return {\n      setQueryParams: productsUIContext.setQueryParams,\n      queryParams: productsUIContext.queryParams\n    };\n  }, [productsUIContext]);\n\n  var applyFilter = function applyFilter(values) {\n    var newQueryParams = prepareFilter(productsUIProps.queryParams, values);\n\n    if (!isEqual(newQueryParams, productsUIProps.queryParams)) {\n      newQueryParams.pageNumber = 1;\n      productsUIProps.setQueryParams(newQueryParams);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      status: \"\",\n      // values => All=\"\"/Selling=0/Sold=1\n      condition: \"\",\n      // values => All=\"\"/New=0/Used=1\n      searchText: \"\"\n    },\n    onSubmit: function onSubmit(values) {\n      applyFilter(values);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, function (_ref2) {\n    var values = _ref2.values,\n        handleSubmit = _ref2.handleSubmit,\n        handleBlur = _ref2.handleBlur,\n        handleChange = _ref2.handleChange,\n        setFieldValue = _ref2.setFieldValue;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"form form-label-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"status\",\n      placeholder: \"Filter by Status\",\n      onChange: function onChange(e) {\n        setFieldValue(\"status\", e.target.value);\n        handleSubmit();\n      },\n      onBlur: handleBlur,\n      value: values.status,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }\n    }, \"All\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }\n    }, \"Selling\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 19\n      }\n    }, \"Sold\")), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"form-text text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }, \"Filter\"), \" by Status\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      placeholder: \"Filter by Type\",\n      name: \"condition\",\n      onBlur: handleBlur,\n      onChange: function onChange(e) {\n        setFieldValue(\"condition\", e.target.value);\n        handleSubmit();\n      },\n      value: values.condition,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 19\n      }\n    }, \"All\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"0\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 19\n      }\n    }, \"New\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 19\n      }\n    }, \"Used\")), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"form-text text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }\n    }, \"Filter\"), \" by Condition\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"searchText\",\n      placeholder: \"Search\",\n      onBlur: handleBlur,\n      value: values.searchText,\n      onChange: function onChange(e) {\n        setFieldValue(\"searchText\", e.target.value);\n        handleSubmit();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"form-text text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 19\n      }\n    }, \"Search\"), \" in all fields\"))));\n  }));\n}","map":{"version":3,"names":["React","useMemo","Formik","isEqual","useProductsUIContext","prepareFilter","queryParams","values","status","condition","searchText","newQueryParams","filter","undefined","model","manufacture","VINCode","ProductsFilter","listLoading","productsUIContext","productsUIProps","setQueryParams","applyFilter","pageNumber","handleSubmit","handleBlur","handleChange","setFieldValue","e","target","value"],"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/ECommerce/pages/products/products-filter/ProductsFilter.js"],"sourcesContent":["import React, { useMemo } from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport { isEqual } from \"lodash\";\r\nimport { useProductsUIContext } from \"../ProductsUIContext\";\r\n\r\nconst prepareFilter = (queryParams, values) => {\r\n  const { status, condition, searchText } = values;\r\n  const newQueryParams = { ...queryParams };\r\n  const filter = {};\r\n  // Filter by status\r\n  filter.status = status !== \"\" ? +status : undefined;\r\n  // Filter by condition\r\n  filter.condition = condition !== \"\" ? +condition : undefined;\r\n  // Filter by all fields\r\n  filter.model = searchText;\r\n  if (searchText) {\r\n    filter.manufacture = searchText;\r\n    filter.VINCode = searchText;\r\n  }\r\n  newQueryParams.filter = filter;\r\n  return newQueryParams;\r\n};\r\n\r\nexport function ProductsFilter({ listLoading }) {\r\n  // Products UI Context\r\n  const productsUIContext = useProductsUIContext();\r\n  const productsUIProps = useMemo(() => {\r\n    return {\r\n      setQueryParams: productsUIContext.setQueryParams,\r\n      queryParams: productsUIContext.queryParams,\r\n    };\r\n  }, [productsUIContext]);\r\n\r\n  const applyFilter = (values) => {\r\n    const newQueryParams = prepareFilter(productsUIProps.queryParams, values);\r\n    if (!isEqual(newQueryParams, productsUIProps.queryParams)) {\r\n      newQueryParams.pageNumber = 1;\r\n      productsUIProps.setQueryParams(newQueryParams);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={{\r\n          status: \"\", // values => All=\"\"/Selling=0/Sold=1\r\n          condition: \"\", // values => All=\"\"/New=0/Used=1\r\n          searchText: \"\",\r\n        }}\r\n        onSubmit={(values) => {\r\n          applyFilter(values);\r\n        }}\r\n      >\r\n        {({\r\n          values,\r\n          handleSubmit,\r\n          handleBlur,\r\n          handleChange,\r\n          setFieldValue,\r\n        }) => (\r\n          <form onSubmit={handleSubmit} className=\"form form-label-right\">\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-lg-2\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  name=\"status\"\r\n                  placeholder=\"Filter by Status\"\r\n                  onChange={(e) => {\r\n                    setFieldValue(\"status\", e.target.value);\r\n                    handleSubmit();\r\n                  }}\r\n                  onBlur={handleBlur}\r\n                  value={values.status}\r\n                >\r\n                  <option value=\"\">All</option>\r\n                  <option value=\"0\">Selling</option>\r\n                  <option value=\"1\">Sold</option>\r\n                </select>\r\n                <small className=\"form-text text-muted\">\r\n                  <b>Filter</b> by Status\r\n                </small>\r\n              </div>\r\n              <div className=\"col-lg-2\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  placeholder=\"Filter by Type\"\r\n                  name=\"condition\"\r\n                  onBlur={handleBlur}\r\n                  onChange={(e) => {\r\n                    setFieldValue(\"condition\", e.target.value);\r\n                    handleSubmit();\r\n                  }}\r\n                  value={values.condition}\r\n                >\r\n                  <option value=\"\">All</option>\r\n                  <option value=\"0\">New</option>\r\n                  <option value=\"1\">Used</option>\r\n                </select>\r\n                <small className=\"form-text text-muted\">\r\n                  <b>Filter</b> by Condition\r\n                </small>\r\n              </div>\r\n              <div className=\"col-lg-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"searchText\"\r\n                  placeholder=\"Search\"\r\n                  onBlur={handleBlur}\r\n                  value={values.searchText}\r\n                  onChange={(e) => {\r\n                    setFieldValue(\"searchText\", e.target.value);\r\n                    handleSubmit();\r\n                  }}\r\n                />\r\n                <small className=\"form-text text-muted\">\r\n                  <b>Search</b> in all fields\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}