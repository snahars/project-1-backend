{"ast":null,"code":"var _jsxFileName = \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/ECommerce/pages/products/product-specifications/specification-edit-dialog/SpecificationEditDialog.js\";\nimport React, { useEffect, useMemo } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport * as actions from \"../../../../_redux/specifications/specificationsActions\";\nimport { SpecificationEditDialogHeader } from \"./SpecificationEditDialogHeader\";\nimport { SpecificationEditForm } from \"./SpecificationEditForm\";\nimport { useSpecificationsUIContext } from \"../SpecificationsUIContext\";\nexport function SpecificationEditDialog() {\n  // Specifications UI Context\n  var specsUIContext = useSpecificationsUIContext();\n  var specsUIProps = useMemo(function () {\n    return {\n      id: specsUIContext.selectedId,\n      show: specsUIContext.showEditSpecificationDialog,\n      onHide: specsUIContext.closeEditSpecificationDialog,\n      productId: specsUIContext.productId,\n      queryParams: specsUIContext.queryParams,\n      initSpecification: specsUIContext.initSpecification\n    };\n  }, [specsUIContext]); // Specifications Redux state\n\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return {\n      actionsLoading: state.specifications.actionsLoading,\n      specificationForEdit: state.specifications.specificationForEdit\n    };\n  }, shallowEqual),\n      actionsLoading = _useSelector.actionsLoading,\n      specificationForEdit = _useSelector.specificationForEdit;\n\n  useEffect(function () {\n    // server request for getting spec by seleted id\n    dispatch(actions.fetchSpecification(specsUIProps.id));\n  }, [specsUIProps.id, dispatch]);\n\n  var saveSpecification = function saveSpecification(specification) {\n    if (!specsUIProps.id) {\n      dispatch(actions.createSpecification(specification)).then(function () {\n        dispatch(actions.fetchSpecifications(specsUIProps.queryParams, specsUIProps.productId)).then(function () {\n          return specsUIProps.onHide();\n        });\n      });\n    } else {\n      dispatch(actions.updateSpecification(specification)).then(function () {\n        dispatch(actions.fetchSpecifications(specsUIProps.queryParams, specsUIProps.productId)).then(function () {\n          return specsUIProps.onHide();\n        });\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    show: specsUIProps.show,\n    onHide: specsUIProps.onHide,\n    \"aria-labelledby\": \"example-modal-sizes-title-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SpecificationEditDialogHeader, {\n    id: specsUIProps.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SpecificationEditForm, {\n    saveSpecification: saveSpecification,\n    actionsLoading: actionsLoading,\n    specification: specificationForEdit || specsUIProps.initSpecification,\n    onHide: specsUIProps.onHide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"names":["React","useEffect","useMemo","Modal","shallowEqual","useDispatch","useSelector","actions","SpecificationEditDialogHeader","SpecificationEditForm","useSpecificationsUIContext","SpecificationEditDialog","specsUIContext","specsUIProps","id","selectedId","show","showEditSpecificationDialog","onHide","closeEditSpecificationDialog","productId","queryParams","initSpecification","dispatch","state","actionsLoading","specifications","specificationForEdit","fetchSpecification","saveSpecification","specification","createSpecification","then","fetchSpecifications","updateSpecification"],"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/ECommerce/pages/products/product-specifications/specification-edit-dialog/SpecificationEditDialog.js"],"sourcesContent":["import React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"../../../../_redux/specifications/specificationsActions\";\r\nimport { SpecificationEditDialogHeader } from \"./SpecificationEditDialogHeader\";\r\nimport { SpecificationEditForm } from \"./SpecificationEditForm\";\r\nimport { useSpecificationsUIContext } from \"../SpecificationsUIContext\";\r\n\r\nexport function SpecificationEditDialog() {\r\n  // Specifications UI Context\r\n  const specsUIContext = useSpecificationsUIContext();\r\n  const specsUIProps = useMemo(() => {\r\n    return {\r\n      id: specsUIContext.selectedId,\r\n      show: specsUIContext.showEditSpecificationDialog,\r\n      onHide: specsUIContext.closeEditSpecificationDialog,\r\n      productId: specsUIContext.productId,\r\n      queryParams: specsUIContext.queryParams,\r\n      initSpecification: specsUIContext.initSpecification,\r\n    };\r\n  }, [specsUIContext]);\r\n\r\n  // Specifications Redux state\r\n  const dispatch = useDispatch();\r\n  const { actionsLoading, specificationForEdit } = useSelector(\r\n    (state) => ({\r\n      actionsLoading: state.specifications.actionsLoading,\r\n      specificationForEdit: state.specifications.specificationForEdit,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {\r\n    // server request for getting spec by seleted id\r\n    dispatch(actions.fetchSpecification(specsUIProps.id));\r\n  }, [specsUIProps.id, dispatch]);\r\n\r\n  const saveSpecification = (specification) => {\r\n    if (!specsUIProps.id) {\r\n      dispatch(actions.createSpecification(specification)).then(() => {\r\n        dispatch(\r\n          actions.fetchSpecifications(\r\n            specsUIProps.queryParams,\r\n            specsUIProps.productId\r\n          )\r\n        ).then(() => specsUIProps.onHide());\r\n      });\r\n    } else {\r\n      dispatch(actions.updateSpecification(specification)).then(() => {\r\n        dispatch(\r\n          actions.fetchSpecifications(\r\n            specsUIProps.queryParams,\r\n            specsUIProps.productId\r\n          )\r\n        ).then(() => specsUIProps.onHide());\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={specsUIProps.show}\r\n      onHide={specsUIProps.onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      <SpecificationEditDialogHeader id={specsUIProps.id} />\r\n      <SpecificationEditForm\r\n        saveSpecification={saveSpecification}\r\n        actionsLoading={actionsLoading}\r\n        specification={specificationForEdit || specsUIProps.initSpecification}\r\n        onHide={specsUIProps.onHide}\r\n      />\r\n    </Modal>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}