{"ast":null,"code":"import _objectSpread from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Location/location-create/LocationCreate.js\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport { NavLink, Route, useLocation } from \"react-router-dom\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport { Card, CardBody } from \"../../../../_metronic/_partials/controls\";\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { toAbsoluteUrl } from \"../../../../_metronic/_helpers\";\nimport LevelTreeModal from './LevelTreeModal';\nimport LevelSetup from './LevelSetup';\nimport { showError } from '../../../pages/Alert';\nimport axios from \"axios\";\nimport LocationTree from './LocationTree';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: '90%'\n    },\n    button: {\n      marginTop: theme.spacing(1),\n      marginRight: theme.spacing(1)\n    },\n    actionsContainer: {\n      marginBottom: theme.spacing(2)\n    },\n    resetContainer: {\n      padding: theme.spacing(3)\n    }\n  };\n}); // this part is need to understand tree node\n\nvar locationNode = {\n  id: null,\n  name: '',\n  level: '',\n  children: []\n};\nvar tree = [];\n\nfunction addNode(locTree, treeLevel, locationNode) {\n  locTree.map(function (node) {\n    // traverse every node to find match\n    if (node.treeLevel === treeLevel) {\n      node.children.push(locationNode);\n      return;\n    } else {\n      addNode(node.children, treeLevel, locationNode);\n      return;\n    }\n  });\n}\n\nfunction updateNode(locTree, treeLevel, locationParams) {\n  locTree.map(function (node) {\n    // traverse every node to find match\n    if (node.treeLevel === treeLevel) {\n      node.name = locationParams.locationName;\n      return;\n    } else {\n      updateNode(node.children, treeLevel, locationParams);\n      return;\n    }\n  });\n}\n\nfunction deleteNode(locTree, treeLevel) {\n  for (var i = 0; i < locTree.length; i++) {\n    if (locTree[i].treeLevel === treeLevel) {\n      locTree.splice(i, 1); //remove that node\n\n      return;\n    } else {\n      deleteNode(locTree[i].children, treeLevel);\n    }\n  }\n}\n\nexport function LocationCreate(props) {\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _useState = useState(toAbsoluteUrl(\"/images/success2.png\")),\n      _useState2 = _slicedToArray(_useState, 2),\n      successImg = _useState2[0],\n      setSuccessImg = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeStep = _useState4[0],\n      setActiveStep = _useState4[1];\n\n  var initialLocationTypes = useRef([{\n    name: '',\n    level: 0\n  }]);\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      locationTypes = _useState6[0],\n      setLocationTypes = _useState6[1];\n\n  var _useState7 = useState({\n    name: \"\"\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      locationTreeName = _useState8[0],\n      setLocationTreeName = _useState8[1];\n\n  var _useState9 = useState(tree),\n      _useState10 = _slicedToArray(_useState9, 2),\n      locationTree = _useState10[0],\n      setLocationTree = _useState10[1];\n\n  var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      locationTreeDepth = _useState12[0],\n      setLocationTreeDepth = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      isUpdate = _useState14[0],\n      setIsUpdate = _useState14[1];\n\n  var steps = [\"Location Tree\", 'Completed'];\n  var routeLocation = useLocation();\n\n  var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      responseData = _useState16[0],\n      setResponseData = _useState16[1];\n\n  var subsTitle = [\"Set Business Location Tree\", \"Woah, we are here\"];\n  useEffect(function () {\n    setLocationTreeDepth(getLocationTreeDepth(locationTree));\n  });\n  useEffect(function () {\n    if (routeLocation.state) {\n      // at the time of edit\n      getProps();\n      setIsUpdate(true);\n    } else {\n      // at the time of add\n      setLocationTree(tree);\n    }\n  }, []);\n\n  var getProps = function getProps() {\n    var editObj = routeLocation.state.row;\n    getAllLocationRelatedInfoByLocationTreeId(editObj.id);\n  };\n\n  var getAllLocationRelatedInfoByLocationTreeId = function getAllLocationRelatedInfoByLocationTreeId(id) {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/location-tree/info/\").concat(id);\n    axios.get(URL).then(function (response) {\n      var masterLocation = response.data.data.locationTreeName;\n      var locationTypeList = response.data.data.locationTypeList;\n      var locationAsTree = response.data.data.locationAsTree;\n      setLocationTreeName(masterLocation);\n      initialLocationTypes.current = locationTypeList; // it need for initial list populate\n\n      setLocationTypes(locationTypeList); // this state need for sending data to backend\n\n      setLocationTree(locationAsTree);\n    });\n  };\n\n  var addTreeNode = function addTreeNode(node) {\n    if (locationTypes.length == 0) {\n      showError(\"Please Add Location Type\");\n      return;\n    } else if (isAnyLocationTypeFieldEmpty(locationTypes)) {\n      return;\n    }\n\n    props.history.push({\n      pathname: '/location/new/new-location',\n      state: node\n    });\n  };\n\n  var updateTreeNode = function updateTreeNode(node) {\n    node.action = 'update';\n    props.history.push({\n      pathname: '/location/new/new-location',\n      state: node\n    });\n  };\n\n  var deleteTreeNode = function deleteTreeNode(node) {\n    var locTree = locationTree;\n    deleteNode(locTree, node.treeLevel);\n    props.history.push(\"/location/new\");\n  };\n\n  function getLocationTreeDepth(treeArray) {\n    if (treeArray.length === 0) {\n      return 0;\n    } else {\n      var max = 0;\n\n      for (var i = 0; i < treeArray.length; i++) {\n        max = Math.max(max, getLocationTreeDepth(treeArray[i].children));\n      }\n\n      return 1 + max;\n    }\n  }\n\n  var isAnyLocationTypeFieldEmpty = function isAnyLocationTypeFieldEmpty() {\n    var listOfFields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var empty = false;\n    var length = listOfFields.length;\n\n    if (length === 0) {\n      showError(\"Location Type is empty at Level 1\");\n      empty = true;\n    }\n\n    for (var i = 0; i < length; i++) {\n      if (typeof listOfFields[i].name === \"undefined\" || listOfFields[i].name === '') {\n        empty = true;\n        showError(\"Location Type is empty at Level \" + (i + 1)); // level is start from 1 , not from 0\n\n        break;\n      }\n    }\n\n    return empty;\n  };\n\n  var isLocationTreeNameFieldEmpty = function isLocationTreeNameFieldEmpty() {\n    var empty = false;\n\n    if (typeof locationTreeName.name === \"undefined\" || locationTreeName.name === '') {\n      empty = true;\n      showError(\"Location Tree Name is empty\");\n    }\n\n    return empty;\n  };\n\n  var isLocationTreeEmpty = function isLocationTreeEmpty() {\n    var empty = false;\n\n    if (locationTree.length == 0) {\n      showError(\"Location Tree is empty\");\n      empty = true;\n    }\n\n    return empty;\n  };\n\n  var isValidate = function isValidate() {\n    var valid = true;\n\n    if (isLocationTreeNameFieldEmpty()) {\n      valid = false;\n      return valid;\n    }\n\n    if (isAnyLocationTypeFieldEmpty(locationTypes)) {\n      valid = false;\n      return valid;\n    }\n\n    if (isLocationTreeEmpty()) {\n      valid = false;\n      return valid;\n    }\n\n    return valid;\n  };\n\n  var getLocationNameObject = function getLocationNameObject() {\n    return {\n      name: locationTreeName.name,\n      description: null,\n      organizationId: 2\n    };\n  };\n\n  var getLocationTypeList = function getLocationTypeList() {\n    var locationTypeList = [];\n\n    for (var i = 0; i < locationTypes.length; i++) {\n      locationTypeList[i] = {\n        id: locationTypes[i].id,\n        name: locationTypes[i].name,\n        level: i + 1,\n        organizationId: 2\n      };\n    }\n\n    return locationTypeList;\n  };\n\n  var getLocationTree = function getLocationTree() {\n    return locationTree;\n  };\n\n  var setFormRelatedStateToEmpty = function setFormRelatedStateToEmpty() {\n    setLocationTreeName(\"\");\n    setLocationTypes([]);\n    setLocationTree([]);\n    setIsUpdate(false);\n  };\n\n  var handleNext = function handleNext() {\n    if (isUpdate) {\n      // at the time of update\n      updateLocationTree();\n    } else {\n      // at the time of save\n      saveLocationTree();\n    }\n  };\n\n  var saveLocationTree = function saveLocationTree() {\n    if (!isValidate()) {\n      return 0;\n    }\n\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/location-tree\");\n    var masterLocationObject = getLocationNameObject();\n    masterLocationObject.locationTypeList = getLocationTypeList();\n    masterLocationObject.locationTree = getLocationTree();\n    axios.post(URL, JSON.stringify(masterLocationObject), {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (response) {\n      setResponseData(response.data);\n\n      if (response.data.success == true) {\n        setActiveStep(function (prevActiveStep) {\n          return prevActiveStep + 1;\n        });\n        setFormRelatedStateToEmpty();\n\n        if (activeStep === 0) {\n          document.getElementById('nextBtn').style.visibility = 'hidden';\n          document.getElementById('backBtn').style.visibility = 'hidden';\n          document.getElementById('gotItBtn').style.visibility = 'visible';\n        }\n      } else {\n        showError(\"Cannot Save Location Tree\");\n      }\n    }).catch(function (err) {\n      showError(err);\n    });\n  };\n\n  var updateLocationTree = function updateLocationTree() {\n    if (!isValidate()) {\n      return 0;\n    }\n\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/location-tree\");\n    var masterLocationObject = locationTreeName; // assign from state\n\n    masterLocationObject.locationTypeList = getLocationTypeList();\n    masterLocationObject.locationTree = getLocationTree();\n    axios.put(URL, JSON.stringify(masterLocationObject), {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (response) {\n      setResponseData(response.data);\n\n      if (response.data.success == true) {\n        setActiveStep(function (prevActiveStep) {\n          return prevActiveStep + 1;\n        });\n        setFormRelatedStateToEmpty();\n\n        if (activeStep === 0) {\n          document.getElementById('nextBtn').style.visibility = 'hidden';\n          document.getElementById('backBtn').style.visibility = 'hidden';\n          document.getElementById('gotItBtn').style.visibility = 'visible';\n        }\n      } else {\n        showError(\"Cannot Update Location Tree\");\n      }\n    }).catch(function (err) {\n      showError(err);\n    });\n  };\n\n  var getStepContent = function getStepContent(step) {\n    switch (step) {\n      case 0:\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"steper-height ml-5\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 24\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"create-field-title\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 25\n          }\n        }, \"Business Location Tree\"), /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            color: \"#B6B6B6\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 25\n          }\n        }, \"If you need more info, please check out \", /*#__PURE__*/React.createElement(NavLink, {\n          to: \"/location/list\",\n          className: \"faq-title\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 95\n          }\n        }, /*#__PURE__*/React.createElement(\"u\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 71\n          }\n        }, \"FAQ Page\")))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group col-xl-12 first-level-top\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          className: \"level-title\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 29\n          }\n        }, \"Name the business location tree\"), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: locationTreeName.name,\n          onChange: function onChange(event) {\n            return setLocationTreeName(_objectSpread(_objectSpread({}, locationTreeName), {}, {\n              name: event.target.value\n            }));\n          },\n          placeholder: \"Business Location Tree 1\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 29\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          style: {\n            marginTop: \"30px\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group col-xl-12\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          className: \"level-title\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 29\n          }\n        }, \"Custom Business Location Tree Setup\"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row margin-top-minus-25\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-xl-5\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          className: \"tree-level\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: toAbsoluteUrl(\"/images/loc2.png\"),\n          style: {\n            width: \"12px\",\n            height: \"10px\",\n            textAlign: \"center\"\n          },\n          alt: \"Company Picture\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 33\n          }\n        }), /*#__PURE__*/React.createElement(\"strong\", {\n          style: {\n            marginLeft: \"10px\",\n            color: \"#828282\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 33\n          }\n        }, \"Location Type Setup\"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-xl-7\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"label\", {\n          className: \"tree-level\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: toAbsoluteUrl(\"/images/loc3.png\"),\n          style: {\n            width: \"14px\",\n            height: \"14px\",\n            textAlign: \"center\"\n          },\n          alt: \"Company Picture\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 33\n          }\n        }), /*#__PURE__*/React.createElement(\"strong\", {\n          style: {\n            marginLeft: \"10px\",\n            color: \"#828282\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 33\n          }\n        }, \"Location Tree\")))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row g-0\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group col-lg-5 border border-left-0 border border-light border-primary border-bottom-0\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mt-4\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(LevelSetup, {\n          setLocationTypes: setLocationTypes,\n          maxDepthOfLocationTree: locationTreeDepth,\n          locationTypes: initialLocationTypes.current,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 33\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-7 border border-left-0 border border-light border-primary border-bottom-0 border-right-0\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mt-5\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: toAbsoluteUrl(\"/images/loc1.png\"),\n          style: {\n            width: \"20px\",\n            height: \"20px\",\n            textAlign: \"center\"\n          },\n          alt: \"Company Picture\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 37\n          }\n        }), /*#__PURE__*/React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn ml-0 btn-sm\",\n          onClick: function onClick(event) {\n            event.preventDefault();\n            addTreeNode(); //most top level\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"bi bi-plus-circle-fill text-primary\",\n          style: {\n            fontSize: \"20px\",\n            marginLeft: \"-4px\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 41\n          }\n        }))), /*#__PURE__*/React.createElement(\"nav\", {\n          className: \"tree-nav\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(LocationTree, {\n          tree: locationTree,\n          addTreeNode: addTreeNode,\n          updateTreeNode: updateTreeNode,\n          deleteTreeNode: deleteTreeNode,\n          maxDepth: locationTypes.length,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 37\n          }\n        }))))));\n\n      default:\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row steper-height ml-5\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 24\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col-lg-12\",\n          style: {\n            textAlign: \"center\",\n            marginTop: \"10px\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: successImg,\n          style: {\n            width: \"84px\",\n            height: \"84px\",\n            textAlign: \"center\"\n          },\n          alt: \"Company Picture\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mt-5\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            marginBottom: \"0px\"\n          },\n          className: \"create-field-title\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 29\n          }\n        }, \"Thank You\"), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"text-muted\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 29\n          }\n        }, responseData ? responseData.message : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"thanks-sub-title mt-12\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          style: {\n            fontSize: \"0.813rem\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 29\n          }\n        }, \"Business Location Tree\")), /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"chip thanks-chip-title\",\n          style: {\n            padding: \"10px 20px\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 29\n          }\n        }, responseData ? responseData.data.name : \"\"))));\n    }\n  };\n\n  var backToListPage = function backToListPage() {\n    props.history.push(\"/location/list\");\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Route, {\n    path: \"/location/new/new-location\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 13\n    }\n  }, function (_ref) {\n    var history = _ref.history,\n        match = _ref.match;\n    return /*#__PURE__*/React.createElement(LevelTreeModal, {\n      node: routeLocation.state,\n      show: match != null,\n      onHide: function onHide() {\n        history.push(\"/location/new\");\n      },\n      handleSubmit: function handleSubmit(locationParams) {\n        var locTree = locationTree;\n\n        if (typeof routeLocation.state !== 'undefined' && routeLocation.state.action === 'update') {\n          // for update existing\n          updateNode(locTree, routeLocation.state.treeLevel, locationParams);\n        } else {\n          // for add new\n          var treeLevel = '';\n          var _locationNode = {\n            id: null,\n            name: locationParams.locationName,\n            treeLevel: treeLevel,\n            children: []\n          };\n\n          if (typeof routeLocation.state === 'undefined') {\n            //  top layer node add\n            treeLevel = '' + (locationTree.length + 1);\n            _locationNode.treeLevel = treeLevel;\n            locTree.push(_locationNode);\n          } else {\n            // any child node add\n            treeLevel = routeLocation.state.treeLevel + '-' + (routeLocation.state.children.length + 1);\n            _locationNode.treeLevel = treeLevel;\n            addNode(locTree, routeLocation.state.treeLevel, _locationNode);\n          }\n        }\n\n        history.push(\"/location/new\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 21\n      }\n    });\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"-30px\",\n      marginLeft: \"-18px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    \"aria-label\": \"breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    className: \"breadCrum-bg-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"breadCrum-main-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 25\n    }\n  }, \"Company\"), /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"mt-1 breadCrum-sub-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 25\n    }\n  }, \"\\xA0Location tree\\xA0\\xA0\\xA0\\xA0\"), /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"mt-1 breadCrum-sub-title text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-weight-bolder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 99\n    }\n  }, \".\"), \"\\xA0 Create New Business Location Tree \\xA0\\xA0\")))), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-3 border border-left-0 border border-light border-primary border-bottom-0 border-top-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/location/list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-chevron-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 39\n    }\n  })), \" \\xA0 Back to List of Location Tree\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Stepper, {\n    activeStep: activeStep,\n    orientation: \"vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 33\n    }\n  }, steps.map(function (label, index) {\n    return /*#__PURE__*/React.createElement(Step, {\n      key: label,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(StepLabel, {\n      optional: /*#__PURE__*/React.createElement(Typography, {\n        variant: \"caption\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 66\n        }\n      }, subsTitle[index]),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 45\n      }\n    }, label));\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 29\n    }\n  }, getStepContent(activeStep)), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.actionsContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      visibility: \"hidden\"\n    },\n    id: \"backBtn\",\n    disabled: activeStep === 0,\n    className: classes.button,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 37\n    }\n  }, \"Back\"), /*#__PURE__*/React.createElement(Button, {\n    id: \"nextBtn\",\n    disabled: activeStep === steps.length,\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleNext,\n    className: \"float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 37\n    }\n  }, activeStep === steps.length - 2 ? 'Save' : 'Next'), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      visibility: \"hidden\"\n    },\n    className: \"gotIt-btn\",\n    id: \"gotItBtn\",\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: backToListPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 41\n    }\n  }, \"Got it\")))))))));\n}","map":{"version":3,"names":["React","useEffect","useRef","useState","NavLink","Route","useLocation","makeStyles","Stepper","Step","StepLabel","Card","CardBody","Button","Typography","toAbsoluteUrl","LevelTreeModal","LevelSetup","showError","axios","LocationTree","useStyles","theme","root","width","button","marginTop","spacing","marginRight","actionsContainer","marginBottom","resetContainer","padding","locationNode","id","name","level","children","tree","addNode","locTree","treeLevel","map","node","push","updateNode","locationParams","locationName","deleteNode","i","length","splice","LocationCreate","props","classes","successImg","setSuccessImg","activeStep","setActiveStep","initialLocationTypes","locationTypes","setLocationTypes","locationTreeName","setLocationTreeName","locationTree","setLocationTree","locationTreeDepth","setLocationTreeDepth","isUpdate","setIsUpdate","steps","routeLocation","responseData","setResponseData","subsTitle","getLocationTreeDepth","state","getProps","editObj","row","getAllLocationRelatedInfoByLocationTreeId","URL","process","env","REACT_APP_API_URL","get","then","response","masterLocation","data","locationTypeList","locationAsTree","current","addTreeNode","isAnyLocationTypeFieldEmpty","history","pathname","updateTreeNode","action","deleteTreeNode","treeArray","max","Math","listOfFields","empty","isLocationTreeNameFieldEmpty","isLocationTreeEmpty","isValidate","valid","getLocationNameObject","description","organizationId","getLocationTypeList","getLocationTree","setFormRelatedStateToEmpty","handleNext","updateLocationTree","saveLocationTree","masterLocationObject","post","JSON","stringify","headers","success","prevActiveStep","document","getElementById","style","visibility","catch","err","put","getStepContent","step","color","event","target","value","height","textAlign","marginLeft","preventDefault","fontSize","message","backToListPage","match","label","index"],"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Location/location-create/LocationCreate.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\nimport {NavLink, Route, useLocation} from \"react-router-dom\";\nimport {makeStyles} from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport {Card, CardBody,} from \"../../../../_metronic/_partials/controls\";\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport {toAbsoluteUrl} from \"../../../../_metronic/_helpers\";\nimport LevelTreeModal from './LevelTreeModal'\nimport LevelSetup from './LevelSetup'\nimport {showError} from '../../../pages/Alert';\nimport axios from \"axios\";\nimport LocationTree from './LocationTree';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '90%',\n    },\n    button: {\n        marginTop: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    actionsContainer: {\n        marginBottom: theme.spacing(2),\n    },\n    resetContainer: {\n        padding: theme.spacing(3),\n    },\n}));\n\n\n// this part is need to understand tree node\nvar locationNode = {\n    id: null,\n    name: '',\n    level: '',\n    children: []\n};\n\nvar tree = [];\n\nfunction addNode(locTree, treeLevel, locationNode) {\n    locTree.map((node) => {  // traverse every node to find match\n        if (node.treeLevel === treeLevel) {\n            node.children.push(locationNode);\n            return;\n        } else {\n            addNode(node.children, treeLevel, locationNode);\n            return;\n        }\n    });\n}\n\nfunction updateNode(locTree, treeLevel, locationParams) {\n    locTree.map((node) => {  // traverse every node to find match\n        if (node.treeLevel === treeLevel) {\n            node.name = locationParams.locationName;\n            return;\n        } else {\n            updateNode(node.children, treeLevel, locationParams);\n            return;\n        }\n    });\n}\n\nfunction deleteNode(locTree, treeLevel) {\n    for (let i = 0; i < locTree.length; i++) {\n        if (locTree[i].treeLevel === treeLevel) {\n            locTree.splice(i, 1); //remove that node\n            return;\n        } else {\n            deleteNode(locTree[i].children, treeLevel);\n        }\n    }\n}\n\nexport function LocationCreate(props) {\n    const classes = useStyles();\n    const [successImg, setSuccessImg] = useState(toAbsoluteUrl(\"/images/success2.png\"));\n    const [activeStep, setActiveStep] = useState(0);\n    const initialLocationTypes = useRef([{name: '', level: 0}]);\n    const [locationTypes, setLocationTypes] = useState([]);\n    const [locationTreeName, setLocationTreeName] = useState({name: \"\"});\n    const [locationTree, setLocationTree] = useState(tree);\n    const [locationTreeDepth, setLocationTreeDepth] = useState(0);\n    const [isUpdate, setIsUpdate] = useState(false);\n    const steps = [`Location Tree`, 'Completed'];\n    const routeLocation = useLocation();\n    const [responseData, setResponseData] = useState();\n    const subsTitle = [\"Set Business Location Tree\", \"Woah, we are here\"];\n\n    useEffect(() => {\n        setLocationTreeDepth(getLocationTreeDepth(locationTree));\n    });\n    useEffect(() => {\n        if (routeLocation.state) { // at the time of edit\n            getProps();\n            setIsUpdate(true);\n        }else {  // at the time of add\n            setLocationTree(tree);\n        }\n    }, []);\n\n    const getProps = () => {\n        const editObj = routeLocation.state.row;\n        getAllLocationRelatedInfoByLocationTreeId(editObj.id);\n    }\n\n    const getAllLocationRelatedInfoByLocationTreeId = (id) => {\n        const URL = `${process.env.REACT_APP_API_URL}/api/location-tree/info/${id}`;\n        axios.get(URL).then(response => {\n            const masterLocation = response.data.data.locationTreeName;\n            const locationTypeList = response.data.data.locationTypeList;\n            const locationAsTree = response.data.data.locationAsTree;\n            setLocationTreeName(masterLocation);\n\n            initialLocationTypes.current = locationTypeList; // it need for initial list populate\n            setLocationTypes(locationTypeList);              // this state need for sending data to backend\n\n            setLocationTree(locationAsTree);\n        });\n    }\n\n    const addTreeNode = (node) => {\n        if (locationTypes.length == 0) {\n            showError(\"Please Add Location Type\");\n            return;\n        } else if (isAnyLocationTypeFieldEmpty(locationTypes)) {\n            return;\n        }\n        props.history.push({pathname: '/location/new/new-location', state: node});\n    }\n\n    const updateTreeNode = (node) => {\n        node.action = 'update';\n        props.history.push({pathname: '/location/new/new-location', state: node});\n    }\n\n    const deleteTreeNode = (node) => {\n        let locTree = locationTree;\n        deleteNode(locTree, node.treeLevel);\n        props.history.push(\"/location/new\");\n    }\n\n    function getLocationTreeDepth(treeArray) {\n        if (treeArray.length === 0) {\n            return 0;\n        } else {\n            let max = 0;\n            for (let i = 0; i < treeArray.length; i++) {\n                max = Math.max(max, getLocationTreeDepth(treeArray[i].children));\n            }\n            return 1 + max;\n        }\n    }\n\n    const isAnyLocationTypeFieldEmpty = (listOfFields = []) => {\n        let empty = false;\n        let length = listOfFields.length;\n        if (length === 0) {\n            showError(\"Location Type is empty at Level 1\");\n            empty = true;\n        }\n        for (let i = 0; i < length; i++) {\n            if (typeof (listOfFields[i].name) === \"undefined\" || listOfFields[i].name === '') {\n                empty = true;\n                showError(\"Location Type is empty at Level \" + (i + 1)); // level is start from 1 , not from 0\n                break;\n            }\n        }\n        return empty;\n    }\n\n    const isLocationTreeNameFieldEmpty = () => {\n        let empty = false;\n        if (typeof (locationTreeName.name) === \"undefined\" || locationTreeName.name === '') {\n            empty = true;\n            showError(\"Location Tree Name is empty\");\n        }\n        return empty;\n    }\n\n    const isLocationTreeEmpty = () => {\n        let empty = false;\n        if (locationTree.length == 0) {\n            showError(\"Location Tree is empty\");\n            empty = true;\n        }\n        return empty;\n    }\n\n    const isValidate = () => {\n        let valid = true;\n        if (isLocationTreeNameFieldEmpty()) {\n            valid = false;\n            return valid;\n        }\n        if (isAnyLocationTypeFieldEmpty(locationTypes)) {\n            valid = false;\n            return valid;\n        }\n        if (isLocationTreeEmpty()) {\n            valid = false;\n            return valid;\n        }\n        return valid;\n    }\n\n    const getLocationNameObject = () => {\n        return {\n            name: locationTreeName.name,\n            description: null,\n            organizationId: 2\n        };\n    }\n\n    const getLocationTypeList = () => {\n        let locationTypeList = [];\n        for (let i = 0; i < locationTypes.length; i++) {\n            locationTypeList[i] = {\n                id: locationTypes[i].id,\n                name: locationTypes[i].name,\n                level: i + 1,\n                organizationId: 2,\n            }\n        }\n        return locationTypeList;\n    }\n\n    const getLocationTree = () => {\n        return locationTree;\n    }\n\n    const setFormRelatedStateToEmpty = () => {\n        setLocationTreeName(\"\");\n        setLocationTypes([]);\n        setLocationTree([]);\n        setIsUpdate(false);\n    }\n\n    const handleNext = () => {\n        if (isUpdate) { // at the time of update\n            updateLocationTree();\n        } else {                    // at the time of save\n            saveLocationTree();\n        }\n    }\n\n    const saveLocationTree = () => {\n        if (!isValidate()) {\n            return 0;\n        }\n        const URL = `${process.env.REACT_APP_API_URL}/api/location-tree`;\n        const masterLocationObject = getLocationNameObject();\n        masterLocationObject.locationTypeList = getLocationTypeList();\n        masterLocationObject.locationTree = getLocationTree();\n        axios.post(URL, JSON.stringify(masterLocationObject), {headers: {\"Content-Type\": \"application/json\"}}).then(response => {\n            setResponseData(response.data);\n            if (response.data.success == true) {\n                setActiveStep(prevActiveStep => prevActiveStep + 1);\n                setFormRelatedStateToEmpty();\n                if (activeStep === 0) {\n                    document.getElementById('nextBtn').style.visibility = 'hidden';\n                    document.getElementById('backBtn').style.visibility = 'hidden';\n                    document.getElementById('gotItBtn').style.visibility = 'visible';\n                }\n            } else {\n                showError(\"Cannot Save Location Tree\");\n            }\n        }).catch(err => {\n            showError(err);\n        });\n    }\n\n    const updateLocationTree = () => {\n        if (!isValidate()) {\n            return 0;\n        }\n        const URL = `${process.env.REACT_APP_API_URL}/api/location-tree`;\n        const masterLocationObject = locationTreeName; // assign from state\n        masterLocationObject.locationTypeList = getLocationTypeList();\n        masterLocationObject.locationTree = getLocationTree();\n        axios.put(URL, JSON.stringify(masterLocationObject), {headers: {\"Content-Type\": \"application/json\"}}).then(response => {\n            setResponseData(response.data);\n            if (response.data.success == true) {\n                setActiveStep(prevActiveStep => prevActiveStep + 1);\n                setFormRelatedStateToEmpty();\n                if (activeStep === 0) {\n                    document.getElementById('nextBtn').style.visibility = 'hidden';\n                    document.getElementById('backBtn').style.visibility = 'hidden';\n                    document.getElementById('gotItBtn').style.visibility = 'visible';\n                }\n            } else {\n                showError(\"Cannot Update Location Tree\");\n            }\n        }).catch(err => {\n            showError(err);\n        });\n    }\n\n    const getStepContent = (step) => {\n        switch (step) {\n            case 0:\n                return <div className='steper-height ml-5'>\n                    <div>\n                        <span className=\"create-field-title\">Business Location Tree</span>\n                        <p style={{color: \"#B6B6B6\"}}>If you need more info, please check out <NavLink\n                            to=\"/location/list\" className=\"faq-title\"><u>FAQ Page</u></NavLink></p>\n                    </div>\n\n                    <div className='row'>\n                        <div className='form-group col-xl-12 first-level-top'>\n                            <label className='level-title'>Name the business location tree</label>\n                            <input type=\"text\" className='form-control' value={locationTreeName.name}\n                                   onChange={(event) => setLocationTreeName({\n                                       ...locationTreeName,\n                                       name: event.target.value\n                                   })} placeholder='Business Location Tree 1'></input>\n                        </div>\n                    </div>\n                    <div className='row' style={{marginTop: \"30px\"}}>\n                        <div className='form-group col-xl-12'>\n                            <label className='level-title'>Custom Business Location Tree Setup</label>\n                        </div>\n                    </div>\n                    {/* LEVEL ROW START */}\n                    <div className='row margin-top-minus-25'>\n                        <div className='col-xl-5'>\n                            <label className='tree-level'>\n                                <img src={toAbsoluteUrl(\"/images/loc2.png\")}\n                                     style={{width: \"12px\", height: \"10px\", textAlign: \"center\"}}\n                                     alt='Company Picture'/>\n                                <strong style={{marginLeft: \"10px\", color: \"#828282\"}}>Location Type Setup</strong>\n                            </label>\n                        </div>\n                        <div className='col-xl-7'>\n                            <label className='tree-level'>\n                                <img src={toAbsoluteUrl(\"/images/loc3.png\")}\n                                     style={{width: \"14px\", height: \"14px\", textAlign: \"center\"}}\n                                     alt='Company Picture'/>\n                                <strong style={{marginLeft: \"10px\", color: \"#828282\"}}>Location Tree</strong>\n                            </label>\n                        </div>\n                    </div>\n                    {/* LEVEL ROW END */}\n\n                    {/* CONTENT ROW START */}\n                    <div className='row g-0'>\n                        <div\n                            className='form-group col-lg-5 border border-left-0 border border-light border-primary border-bottom-0'>\n                            <div className='mt-4'>\n                                <LevelSetup setLocationTypes={setLocationTypes}\n                                            maxDepthOfLocationTree={locationTreeDepth}\n                                            locationTypes={initialLocationTypes.current}/>\n                            </div>\n                        </div>\n                        <div\n                            className='col-lg-7 border border-left-0 border border-light border-primary border-bottom-0 border-right-0'>\n                            <div>\n                                <div className='mt-5'>\n                                    <img src={toAbsoluteUrl(\"/images/loc1.png\")}\n                                         style={{width: \"20px\", height: \"20px\", textAlign: \"center\"}}\n                                         alt='Company Picture'/>\n\n                                    <button\n                                        type=\"button\"\n                                        className=\"btn ml-0 btn-sm\"\n                                        onClick={(event) => {\n                                            event.preventDefault();\n                                            addTreeNode(); //most top level\n                                        }}\n                                    >\n                                        <i className=\"bi bi-plus-circle-fill text-primary\"\n                                           style={{fontSize: \"20px\", marginLeft: \"-4px\"}}></i>\n                                    </button>\n                                </div>\n\n                                {/*tree start*/}\n\n                                <nav className=\"tree-nav\">\n                                    <LocationTree tree={locationTree} addTreeNode={addTreeNode}\n                                                  updateTreeNode={updateTreeNode} deleteTreeNode={deleteTreeNode}\n                                                  maxDepth={locationTypes.length}/>\n\n                                </nav>\n                            </div>\n                        </div>\n                    </div>\n                    {/* CONTENT ROW END */}\n                </div>;\n            default:\n                return <div className='row steper-height ml-5'>\n                    <div className='col-lg-12' style={{textAlign: \"center\", marginTop: \"10px\"}}>\n                        <img\n                            src={successImg}\n                            style={{width: \"84px\", height: \"84px\", textAlign: \"center\"}} alt='Company Picture'/>\n                        <div className='mt-5'>\n                            <p style={{marginBottom: \"0px\"}} className=\"create-field-title\">Thank You</p>\n                            <span className='text-muted'>{responseData ? responseData.message : \"\"}</span>\n                        </div>\n                        <div className='thanks-sub-title mt-12'>\n                            <strong style={{fontSize: \"0.813rem\"}}>Business Location Tree</strong>\n                        </div>\n                        <div>\n                            <span className=\"chip thanks-chip-title\"\n                                  style={{padding: \"10px 20px\"}}>{responseData ? responseData.data.name : \"\"}</span>\n                        </div>\n                    </div>\n                </div>;\n        }\n    }\n\n    const backToListPage = () => {\n        props.history.push(\"/location/list\");\n    }\n\n    return (\n        <>\n            <Route path=\"/location/new/new-location\">\n                {({history, match}) => (\n                    <LevelTreeModal\n                        node={routeLocation.state}\n                        show={\n                            match != null\n                        }\n                        onHide={() => {\n                            history.push(\"/location/new\");\n                        }}\n                        handleSubmit={(locationParams) => {\n                            let locTree = locationTree;\n                            if (typeof routeLocation.state !== 'undefined' && routeLocation.state.action === 'update') {  // for update existing\n                                updateNode(locTree, routeLocation.state.treeLevel, locationParams);\n                            } else { // for add new\n                                let treeLevel = ''\n                                let locationNode = {\n                                    id: null,\n                                    name: locationParams.locationName,\n                                    treeLevel: treeLevel,\n                                    children: []\n                                };\n                                if (typeof routeLocation.state === 'undefined') {  //  top layer node add\n                                    treeLevel = '' + (locationTree.length + 1);\n                                    locationNode.treeLevel = treeLevel;\n                                    locTree.push(locationNode);\n                                } else {  // any child node add\n                                    treeLevel = routeLocation.state.treeLevel + '-' + (routeLocation.state.children.length + 1);\n                                    locationNode.treeLevel = treeLevel;\n                                    addNode(locTree, routeLocation.state.treeLevel, locationNode);\n                                }\n                            }\n\n                            history.push(\"/location/new\");\n                        }}\n                    />\n                )}\n            </Route>\n            <div style={{marginTop: \"-30px\", marginLeft: \"-18px\"}}>\n                <nav aria-label=\"breadcrumb\">\n                    <ol className=\"breadCrum-bg-color\">\n                        <li aria-current=\"page\" className='breadCrum-main-title'>Company</li>\n                        <li aria-current=\"page\" className='mt-1 breadCrum-sub-title'>&nbsp;Location\n                            tree&nbsp;&nbsp;&nbsp;&nbsp;</li>\n                        <li aria-current=\"page\" className='mt-1 breadCrum-sub-title text-primary'><span\n                            className='font-weight-bolder'>.</span>&nbsp; Create New Business Location Tree &nbsp;&nbsp;\n                        </li>\n                    </ol>\n                </nav>\n            </div>\n            <Card>\n                <CardBody>\n                    <div className=\"row\">\n                        <div\n                            className=\"col-lg-3 border border-left-0 border border-light border-primary border-bottom-0 border-top-0\">\n                            <NavLink to=\"/location/list\">\n                                <span><i className=\"bi bi-chevron-left\"></i></span> &nbsp; Back to List of Location Tree\n                            </NavLink>\n                            <div className={classes.root}>\n                                <Stepper activeStep={activeStep} orientation=\"vertical\">\n                                    {steps.map((label, index) => (\n                                        <Step key={label}>\n                                            <StepLabel optional={<Typography\n                                                variant=\"caption\">{subsTitle[index]}</Typography>}>{label}</StepLabel>\n                                        </Step>\n                                    ))\n                                    }\n                                </Stepper>\n                            </div>\n                        </div>\n                        <div className=\"col-lg-9\">\n                            <Typography>{getStepContent(activeStep)}</Typography>\n                            <div className={classes.actionsContainer}>\n                                <div>\n                                    <Button\n                                        style={{visibility: \"hidden\"}}\n                                        id=\"backBtn\"\n                                        disabled={activeStep === 0}\n                                        className={classes.button}\n                                    >\n                                        Back\n                                    </Button>\n                                    <Button\n                                        id=\"nextBtn\"\n                                        disabled={activeStep === steps.length}\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        onClick={handleNext}\n                                        className=\"float-right\"\n                                    >\n                                        {activeStep === steps.length - 2 ? 'Save' : 'Next'}\n                                    </Button>\n                                    <div style={{textAlign: 'center'}}>\n                                        <Button\n                                            style={{visibility: \"hidden\"}}\n                                            className='gotIt-btn'\n                                            id=\"gotItBtn\"\n                                            variant=\"contained\"\n                                            color=\"primary\"\n                                            onClick={backToListPage}\n                                        >\n                                            Got it\n                                        </Button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </CardBody>\n            </Card>\n        </>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}