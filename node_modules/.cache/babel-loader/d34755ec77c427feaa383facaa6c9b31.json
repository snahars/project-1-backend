{"ast":null,"code":"import _toConsumableArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Inventory/configure/product-configure/ProductConfigurePage.js\";\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { Card, CardBody, CardHeaderToolbar } from \"../../../../../_metronic/_partials/controls\";\nimport { ProductConfigureTable } from \"./product-configure-table/ProductConfigureTable\";\nimport axios from \"axios\";\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport LevelTreeModal from './LevelTreeModal';\nimport LevelSetup from './LevelSetup';\nimport { toAbsoluteUrl } from \"../../../../../_metronic/_helpers\";\nimport { CategoryTypeTree } from \"./CategoryTypeTree\";\nimport { showSuccess, showError } from '../../../../pages/Alert';\nimport { useLocation } from \"react-router-dom\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport { set } from \"lodash\"; // this part is need to understand tree node\n\nvar categorTypeNode = {\n  id: null,\n  name: '',\n  level: '',\n  children: []\n};\nvar tree = [];\n\nvar addNode = function addNode(productCategoryTree, treeLevel, locationNode) {\n  productCategoryTree.map(function (node) {\n    // traverse every node to find match\n    if (node.treeLevel === treeLevel) {\n      node.children.push(locationNode);\n      return;\n    } else {\n      addNode(node.children, treeLevel, locationNode);\n      return;\n    }\n  });\n};\n\nexport default function ProductConfigurePage(props) {\n  var _this = this;\n\n  var selectedCompany = useSelector(function (state) {\n    return state.auth.company;\n  }, shallowEqual);\n  var routeLocation = useLocation();\n  var routeProductCategory = useLocation();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      productCategoryTreeDepth = _useState2[0],\n      setProductCategoryTreeDepth = _useState2[1];\n\n  var initialLocationTypes = useRef([{\n    name: '',\n    level: 0,\n    companyId: 2\n  }]);\n\n  var _useState3 = useState(tree),\n      _useState4 = _slicedToArray(_useState3, 2),\n      categoryTypeTree = _useState4[0],\n      setCategoryTypeTree = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isUpdate = _useState6[0],\n      setIsUpdate = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      productCategoryTypes = _useState8[0],\n      setProductCategoryTypes = _useState8[1];\n\n  var _useState9 = useState({}),\n      _useState10 = _slicedToArray(_useState9, 2),\n      editNode = _useState10[0],\n      SetEditNode = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      singleAll = _useState12[0],\n      setSingleAll = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      categoryIds = _useState14[0],\n      setCategoryIds = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      productProfileList = _useState16[0],\n      setProductProfileList = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      breadCrumParentProductCategoryTypeName = _useState18[0],\n      setBreadCrumParentProductCategoryTypeName = _useState18[1];\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      breadCrumParentProductCategoryName = _useState20[0],\n      setBreadCrumParentProductCategoryName = _useState20[1];\n\n  var _useState21 = useState({}),\n      _useState22 = _slicedToArray(_useState21, 2),\n      breadCrum = _useState22[0],\n      setBreadCrum = _useState22[1];\n\n  useEffect(function () {\n    setProductCategoryTreeDepth(getProductCategoryTreeDepth(categoryTypeTree));\n  });\n  useEffect(function () {\n    var companyId = 2;\n    getAllProductCategoryTypeByCompanyWise(companyId);\n    getAllProductCategoryTreeByCompanyWise(companyId);\n    setCategoryTypeTree(tree);\n  }, []);\n  var productProfileUIEvents = {\n    newCategoryAddButtonClick: function newCategoryAddButtonClick() {\n      props.history.push(\"/inventory/configure/product-configure/list/add-category\");\n    },\n    newProductProfileButtonClick: function newProductProfileButtonClick() {\n      props.history.push(\"/inventory/configure/product-configure/new\");\n    }\n  };\n\n  var getAllProductCategoryTypeByCompanyWise = function getAllProductCategoryTypeByCompanyWise(id) {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/product-category-type/list-info/\").concat(id);\n    axios.get(URL).then(function (response) {\n      if (response.data.data != \"\") {\n        var productCategoryTypeList = response.data.data;\n        initialLocationTypes.current = productCategoryTypeList;\n        setProductCategoryTypes(productCategoryTypeList);\n      }\n    });\n  };\n\n  var getAllProductCategoryTreeByCompanyWise = function getAllProductCategoryTreeByCompanyWise(id) {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/product-category/list-info/\").concat(id);\n    axios.get(URL).then(function (response) {\n      if (response.data.data.childProductCategoryDtoList != \"\") {\n        setCategoryTypeTree(response.data.data.childProductCategoryDtoList);\n      }\n    });\n  };\n\n  var getProductCategoryTreeDepth = function getProductCategoryTreeDepth(data) {\n    if (data.length === 0) {\n      return 0;\n    } else {\n      var max = 0;\n\n      for (var i = 0; i < data.length; i++) {\n        max = Math.max(max, getProductCategoryTreeDepth(data[i].children));\n      }\n\n      return 1 + max;\n    }\n  };\n\n  var selectProductCategoryName = function selectProductCategoryName(node) {\n    var temp = _toConsumableArray(categoryIds);\n\n    var index = temp.findIndex(function (id) {\n      return id === node.id;\n    });\n\n    if (index === -1) {\n      categoryIds.push(node.id);\n    }\n\n    node.children.map(function (nodeChild) {\n      selectProductCategoryName(nodeChild);\n    });\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/product-category/get-all-product?ids=\").concat(categoryIds);\n    axios.get(URL).then(function (response) {\n      if (response.data.data) {\n        setProductProfileList(response.data.data);\n        setCategoryIds([]);\n      }\n    });\n  };\n\n  var obj = {};\n\n  var getBreadCrum = function getBreadCrum(node) {\n    console.log(node);\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/product-category/\").concat(node.id);\n    axios.get(URL).then(function (response) {\n      if (response.data.data.parent != null) {\n        obj = {\n          \"categorytype\": response.data.data.productCategoryType.name,\n          \"categoryname\": response.data.data.name,\n          \"parent\": getBreadCrum(response.data.data.parent)\n        };\n        setBreadCrum(obj);\n        console.log(obj);\n      } else {\n        obj = {\n          \"categorytype\": response.data.data.productCategoryType.name,\n          \"categoryname\": response.data.data.name\n        };\n        setBreadCrum(obj);\n        console.log(obj);\n      } //console.log(obj)\n\n    }).catch(function (err) {\n      showError(\"Can not get product category tree data.\");\n    });\n  };\n\n  var addTreeNode = function addTreeNode(node) {\n    // add category type name\n    if (productCategoryTypes.length == 0) {\n      showError(\"Please Add Level Setup\");\n      return;\n    } else {\n      if (node && node.hasOwnProperty(\"action\")) {\n        node.action = 'add';\n        props.history.push({\n          pathname: '/inventory/configure/product-configure/list/add-category',\n          state: node\n        });\n      } else {\n        props.history.push({\n          pathname: '/inventory/configure/product-configure/list/add-category',\n          state: node\n        });\n      }\n    }\n  };\n\n  var updateTreeNode = function updateTreeNode(node) {\n    node.action = 'update';\n    props.history.push({\n      pathname: '/inventory/configure/product-configure/list/add-category',\n      state: node\n    });\n  };\n\n  var updateNode = function updateNode(productCategoryTree, treeLevel, productCategoryParams) {\n    productCategoryTree.map(function (node) {\n      // traverse every node to find match\n      if (node.treeLevel === treeLevel) {\n        node.name = productCategoryParams.categoryTypeName;\n        node.companyId = 2;\n        setIsUpdate(true);\n        SetEditNode(node);\n        return;\n      } else {\n        updateNode(node.children, treeLevel, productCategoryParams);\n        return;\n      }\n    });\n  };\n\n  var deleteTreeNode = function deleteTreeNode(node) {\n    deleteNode(node);\n    props.history.push(\"/inventory/configure/product-configure/list\");\n  };\n\n  var deleteNode = function deleteNode(node) {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/product-category/\").concat(node.id);\n    axios.delete(URL).then(function (response) {\n      if (response.data.success == true) {\n        showSuccess(response.data.message);\n        setCategoryTypeTree(response.data.data.childProductCategoryDtoList);\n      } else {\n        showError(response.data.message);\n      }\n    }).catch(function (err) {\n      showError(err);\n    });\n  };\n\n  var saveProductCategory = function saveProductCategory() {\n    var obj = {};\n    obj.childProductCategoryDtoList = categoryTypeTree;\n    obj.companyId = 2;\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/product-category/create-all\");\n    axios.post(URL, JSON.stringify(obj), {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (response) {\n      if (response.data.success == true) {\n        setCategoryTypeTree(response.data.data.childProductCategoryDtoList);\n        showSuccess(response.data.message);\n      } else {\n        showError(response.data.message);\n      }\n    }).catch(function (err) {\n      showError(err);\n    });\n    props.history.push(\"/inventory/configure/product-configure/list\");\n  };\n\n  var updateProductCategory = function updateProductCategory() {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/product-category\");\n    axios.put(URL, JSON.stringify(editNode), {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (response) {\n      if (response.data.success == true) {\n        setIsUpdate(false);\n        setCategoryTypeTree(response.data.data.childProductCategoryDtoList);\n        showSuccess(response.data.message);\n      } else {\n        showError(response.data.message);\n      }\n    }).catch(function (err) {\n      showError(err);\n    });\n    props.history.push(\"/inventory/configure/product-configure/list\");\n  };\n\n  var handleNext = function handleNext() {\n    if (isUpdate) {\n      updateProductCategory();\n    } else {\n      saveProductCategory();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Route, {\n    path: \"/inventory/configure/product-configure/list/add-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }\n  }, function (_ref) {\n    var history = _ref.history,\n        match = _ref.match;\n    return /*#__PURE__*/React.createElement(LevelTreeModal, {\n      node: routeProductCategory.state,\n      show: match != null,\n      onHide: function onHide() {\n        history.push(\"/inventory/configure/product-configure/list\");\n      },\n      handleSubmit: function handleSubmit(productCategoryParams) {\n        var productCategoryTree = categoryTypeTree;\n\n        if (typeof routeProductCategory.state !== 'undefined' && routeProductCategory.state.action === 'update') {\n          // for update existing\n          updateNode(productCategoryTree, routeProductCategory.state.treeLevel, productCategoryParams);\n        } else {\n          // for add new// for add new\n          var treeLevel = '';\n          var _categorTypeNode = {\n            id: null,\n            name: productCategoryParams.categoryTypeName,\n            treeLevel: treeLevel,\n            children: []\n          };\n\n          if (typeof routeProductCategory.state === 'undefined') {\n            //  top layer node add\n            treeLevel = '' + (categoryTypeTree.length + 1);\n            _categorTypeNode.treeLevel = treeLevel;\n            productCategoryTree.push(_categorTypeNode);\n          } else {\n            // any child node add\n            treeLevel = routeProductCategory.state.treeLevel + '-' + (routeProductCategory.state.children.length + 1);\n            _categorTypeNode.treeLevel = treeLevel;\n            addNode(productCategoryTree, routeProductCategory.state.treeLevel, _categorTypeNode);\n          }\n        }\n\n        history.push(\"/inventory/configure/product-configure/list\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 21\n      }\n    });\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"-30px\",\n      marginLeft: \"-18px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    \"aria-label\": \"breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    class: \"breadCrum-bg-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"breadCrum-main-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 25\n    }\n  }, \"Google\"), /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"mt-1 breadCrum-sub-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 25\n    }\n  }, \"\\xA0Inventory\\xA0\\xA0\\xA0\\xA0\"), /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"mt-1 breadCrum-sub-title text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-weight-bolder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 99\n    }\n  }, \".\"), \"\\xA0 Configure \\xA0\\xA0\"), /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"mt-1 breadCrum-sub-title text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-weight-bolder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 99\n    }\n  }, \".\"), \"\\xA0 Product Configure\")))), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-4 border border-left-0 border border-light border-primary border-bottom-0 border-top-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    defaultActiveKey: \"levelTree\",\n    id: \"tab\",\n    className: \"mr-5 pr-5 mb-5 tabs-class\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"levelTree\",\n    title: \"Level Tree\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: toAbsoluteUrl(\"/images/loc1.png\"),\n    style: {\n      width: \"20px\",\n      height: \"20px\",\n      textAlign: \"center\"\n    },\n    alt: \"Company Picture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn ml-0 btn-sm\",\n    onClick: function onClick(event) {\n      event.preventDefault();\n      addTreeNode(); //most top level\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-plus-circle-fill text-primary\",\n    style: {\n      fontSize: \"20px\",\n      marginLeft: \"-4px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"tree-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(CategoryTypeTree, {\n    tree: categoryTypeTree,\n    addTreeNode: addTreeNode,\n    updateTreeNode: updateTreeNode,\n    maxDepth: productCategoryTypes.length,\n    deleteTreeNode: deleteTreeNode,\n    selectProductCategoryName: selectProductCategoryName,\n    getBreadCrum: getBreadCrum,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary btn-elevate float-right\",\n    onClick: handleNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 37\n    }\n  }, \"Save\")), /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"levelSetup\",\n    title: \"Level Setup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(LevelSetup, {\n    setProductCategoryTypes: setProductCategoryTypes,\n    maxDepth: productCategoryTreeDepth,\n    productCategoryTypeDtoList: initialLocationTypes.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 37\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"cardBackground\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-profile-breadcrum \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    \"aria-label\": \"breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    class: \"breadCrum-bg-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"mt-1 breadCrum-sub-title\",\n    style: {\n      fontSize: \"13px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 49\n    }\n  }, breadCrumParentProductCategoryTypeName, \" \\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 49\n    }\n  }, breadCrumParentProductCategoryName)), /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"mt-1 breadCrum-sub-title\",\n    style: {\n      fontSize: \"13px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-chevron-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 55\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 49\n    }\n  }, \"\\xA0 Sub Category \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 49\n    }\n  }, \"Seed Crop \\xA0\"))))), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"create-field-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 45\n    }\n  }, \"Product Profile List\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"#B6B6B6\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 45\n    }\n  }, \"Total 5,625 products \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-8 d-flex justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(CardHeaderToolbar, {\n    title: \"Add Profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    tree: categoryTypeTree,\n    type: \"button\",\n    className: \"btn btn-primary\",\n    onClick: productProfileUIEvents.newProductProfileButtonClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 53\n    }\n  }, \"+ New Profile\"))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginRight: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    \"aria-label\": \"Default select example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 53\n    }\n  }, \"Export\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 53\n    }\n  }, \"One\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 53\n    }\n  }, \"Two\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 53\n    }\n  }, \"Three\"))))), /*#__PURE__*/React.createElement(ProductConfigureTable, {\n    setSingleAll: setSingleAll,\n    singleAll: singleAll,\n    productProfileList: productProfileList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 37\n    }\n  }))))))));\n}","map":{"version":3,"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Inventory/configure/product-configure/ProductConfigurePage.js"],"names":["React","useRef","useState","useEffect","Route","Card","CardBody","CardHeaderToolbar","ProductConfigureTable","axios","Tabs","Tab","LevelTreeModal","LevelSetup","toAbsoluteUrl","CategoryTypeTree","showSuccess","showError","useLocation","shallowEqual","useSelector","set","categorTypeNode","id","name","level","children","tree","addNode","productCategoryTree","treeLevel","locationNode","map","node","push","ProductConfigurePage","props","selectedCompany","state","auth","company","routeLocation","routeProductCategory","productCategoryTreeDepth","setProductCategoryTreeDepth","initialLocationTypes","companyId","categoryTypeTree","setCategoryTypeTree","isUpdate","setIsUpdate","productCategoryTypes","setProductCategoryTypes","editNode","SetEditNode","singleAll","setSingleAll","categoryIds","setCategoryIds","productProfileList","setProductProfileList","breadCrumParentProductCategoryTypeName","setBreadCrumParentProductCategoryTypeName","breadCrumParentProductCategoryName","setBreadCrumParentProductCategoryName","breadCrum","setBreadCrum","getProductCategoryTreeDepth","getAllProductCategoryTypeByCompanyWise","getAllProductCategoryTreeByCompanyWise","productProfileUIEvents","newCategoryAddButtonClick","history","newProductProfileButtonClick","URL","process","env","REACT_APP_API_URL","get","then","response","data","productCategoryTypeList","current","childProductCategoryDtoList","length","max","i","Math","selectProductCategoryName","temp","index","findIndex","nodeChild","obj","getBreadCrum","console","log","parent","productCategoryType","catch","err","addTreeNode","hasOwnProperty","action","pathname","updateTreeNode","updateNode","productCategoryParams","categoryTypeName","deleteTreeNode","deleteNode","delete","success","message","saveProductCategory","post","JSON","stringify","headers","updateProductCategory","put","handleNext","match","marginTop","marginLeft","width","height","textAlign","event","preventDefault","fontSize","color","marginRight"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport {\n    Card,\n    CardBody,\n    CardHeaderToolbar,\n} from \"../../../../../_metronic/_partials/controls\";\nimport { ProductConfigureTable } from \"./product-configure-table/ProductConfigureTable\";\nimport axios from \"axios\";\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport LevelTreeModal from './LevelTreeModal'\nimport LevelSetup from './LevelSetup'\nimport { toAbsoluteUrl } from \"../../../../../_metronic/_helpers\";\nimport { CategoryTypeTree } from \"./CategoryTypeTree\"\nimport { showSuccess, showError } from '../../../../pages/Alert';\nimport { useLocation } from \"react-router-dom\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport { set } from \"lodash\";\n\n// this part is need to understand tree node\nvar categorTypeNode = {\n    id: null,\n    name: '',\n    level: '',\n    children: []\n};\n\nlet tree = [];\n\nconst addNode = (productCategoryTree, treeLevel, locationNode) => {\n    productCategoryTree.map((node) => {  // traverse every node to find match\n        if (node.treeLevel === treeLevel) {\n            node.children.push(locationNode);\n            return;\n        } else {\n            addNode(node.children, treeLevel, locationNode);\n            return;\n        }\n    });\n}\n\n\n\nexport default function ProductConfigurePage(props) {\n    const selectedCompany = useSelector((state) => state.auth.company, shallowEqual);\n    const routeLocation = useLocation();\n\n    const routeProductCategory = useLocation();\n    const [productCategoryTreeDepth, setProductCategoryTreeDepth] = useState();\n    const initialLocationTypes = useRef([{ name: '', level: 0, companyId: 2, }]);\n    const [categoryTypeTree, setCategoryTypeTree] = useState(tree);\n    const [isUpdate, setIsUpdate] = useState(false);\n    const [productCategoryTypes, setProductCategoryTypes] = useState([]);\n    const [editNode, SetEditNode] = useState({});\n    const [singleAll, setSingleAll] = useState([]);\n    const [categoryIds, setCategoryIds] = useState([]);\n    const [productProfileList, setProductProfileList] = useState([]);\n    const [breadCrumParentProductCategoryTypeName, setBreadCrumParentProductCategoryTypeName] = useState(\"\");\n    const [breadCrumParentProductCategoryName, setBreadCrumParentProductCategoryName] = useState(\"\");\n    const [breadCrum, setBreadCrum] = useState({});\n\n\n    useEffect(() => {\n        setProductCategoryTreeDepth(getProductCategoryTreeDepth(categoryTypeTree));\n    });\n    useEffect(() => {\n        let companyId = 2;\n        getAllProductCategoryTypeByCompanyWise(companyId);\n        getAllProductCategoryTreeByCompanyWise(companyId)\n        setCategoryTypeTree(tree);\n\n    }, []);\n\n\n    const productProfileUIEvents = {\n        newCategoryAddButtonClick: () => {\n            props.history.push(\"/inventory/configure/product-configure/list/add-category\");\n        },\n        newProductProfileButtonClick: () => {\n            props.history.push(\"/inventory/configure/product-configure/new\");\n        },\n    };\n    const getAllProductCategoryTypeByCompanyWise = (id) => {\n        const URL = `${process.env.REACT_APP_API_URL}/api/product-category-type/list-info/${id}`;\n        axios.get(URL).then(response => {\n            if (response.data.data != \"\") {\n                const productCategoryTypeList = response.data.data;\n                initialLocationTypes.current = productCategoryTypeList;\n                setProductCategoryTypes(productCategoryTypeList);\n            }\n        });\n    }\n\n    const getAllProductCategoryTreeByCompanyWise = (id) => {\n        const URL = `${process.env.REACT_APP_API_URL}/api/product-category/list-info/${id}`;\n        axios.get(URL).then(response => {\n            if (response.data.data.childProductCategoryDtoList != \"\") {\n                setCategoryTypeTree(response.data.data.childProductCategoryDtoList);\n            }\n        });\n    }\n\n    const getProductCategoryTreeDepth = (data) => {\n        if (data.length === 0) {\n            return 0;\n        } else {\n            let max = 0\n            for (let i = 0; i < data.length; i++) {\n                max = Math.max(max, getProductCategoryTreeDepth(data[i].children));\n            }\n            return 1 + max;\n        }\n    }\n\n    const selectProductCategoryName = (node) => {\n        let temp = [...categoryIds]\n        let index = temp.findIndex(id => id === node.id)\n        if (index === - 1) {\n            categoryIds.push(node.id)\n        }\n        node.children.map(nodeChild => {\n            selectProductCategoryName(nodeChild)\n        })\n        const URL = `${process.env.REACT_APP_API_URL}/api/product-category/get-all-product?ids=${categoryIds}`\n        axios.get(URL).then(response => {\n            if (response.data.data) {\n                setProductProfileList(response.data.data)\n                setCategoryIds([]);\n            }\n        });\n    }\n    let obj = {};\n    const getBreadCrum = (node) => {\n        console.log(node)\n        const URL = `${process.env.REACT_APP_API_URL}/api/product-category/${node.id}`;\n        axios.get(URL).then(response => {\n            if (response.data.data.parent != null) {\n                obj = {\n                    \"categorytype\": response.data.data.productCategoryType.name,\n                    \"categoryname\": response.data.data.name,\n                    \"parent\": getBreadCrum(response.data.data.parent),\n                }\n                setBreadCrum(obj)\n                console.log(obj)\n            }\n            else {\n                obj = {\n                    \"categorytype\": response.data.data.productCategoryType.name,\n                    \"categoryname\": response.data.data.name,\n\n                }\n\n                setBreadCrum(obj)\n                console.log(obj)\n            }\n\n            //console.log(obj)\n        }).catch(err => {\n            showError(\"Can not get product category tree data.\");\n        });\n    }\n    const addTreeNode = (node) => { // add category type name\n        if (productCategoryTypes.length == 0) {\n            showError(\"Please Add Level Setup\");\n            return;\n        } else {\n            if (node && node.hasOwnProperty(\"action\")) {\n                node.action = 'add';\n                props.history.push({ pathname: '/inventory/configure/product-configure/list/add-category', state: node });\n            } else {\n                props.history.push({ pathname: '/inventory/configure/product-configure/list/add-category', state: node });\n            }\n\n        }\n    }\n\n    const updateTreeNode = (node) => {\n        node.action = 'update';\n        props.history.push({ pathname: '/inventory/configure/product-configure/list/add-category', state: node });\n    }\n\n    const updateNode = (productCategoryTree, treeLevel, productCategoryParams) => {\n        productCategoryTree.map((node) => {  // traverse every node to find match\n            if (node.treeLevel === treeLevel) {\n                node.name = productCategoryParams.categoryTypeName;\n                node.companyId = 2;\n                setIsUpdate(true)\n                SetEditNode(node)\n                return;\n            } else {\n                updateNode(node.children, treeLevel, productCategoryParams);\n                return;\n            }\n        });\n    }\n    const deleteTreeNode = (node) => {\n        deleteNode(node);\n        props.history.push(\"/inventory/configure/product-configure/list\");\n    }\n\n    const deleteNode = (node) => {\n        const URL = `${process.env.REACT_APP_API_URL}/api/product-category/${node.id}`;\n        axios.delete(URL).then(response => {\n            if (response.data.success == true) {\n                showSuccess(response.data.message)\n                setCategoryTypeTree(response.data.data.childProductCategoryDtoList);\n            } else {\n                showError(response.data.message);\n            }\n        }).catch(err => {\n            showError(err);\n        });\n    }\n\n\n    const saveProductCategory = () => {\n        let obj = {}\n        obj.childProductCategoryDtoList = categoryTypeTree;\n        obj.companyId = 2;\n        const URL = `${process.env.REACT_APP_API_URL}/api/product-category/create-all`;\n        axios.post(URL, JSON.stringify(obj), { headers: { \"Content-Type\": \"application/json\" } }).then(response => {\n            if (response.data.success == true) {\n                setCategoryTypeTree(response.data.data.childProductCategoryDtoList);\n                showSuccess(response.data.message)\n            } else {\n                showError(response.data.message);\n            }\n        }).catch(err => {\n            showError(err);\n        });\n        props.history.push(\"/inventory/configure/product-configure/list\");\n    }\n    const updateProductCategory = () => {\n        const URL = `${process.env.REACT_APP_API_URL}/api/product-category`;\n        axios.put(URL, JSON.stringify(editNode), { headers: { \"Content-Type\": \"application/json\" } }).then(response => {\n            if (response.data.success == true) {\n                setIsUpdate(false)\n                setCategoryTypeTree(response.data.data.childProductCategoryDtoList);\n                showSuccess(response.data.message)\n            } else {\n                showError(response.data.message);\n            }\n        }).catch(err => {\n            showError(err);\n        });\n        props.history.push(\"/inventory/configure/product-configure/list\");\n    }\n\n    const handleNext = () => {\n        if (isUpdate) {\n            updateProductCategory();\n        } else {\n            saveProductCategory();\n        }\n    }\n    return (\n        <>\n            <Route path=\"/inventory/configure/product-configure/list/add-category\">\n                {({ history, match }) => (\n\n                    <LevelTreeModal\n                        node={routeProductCategory.state}\n                        show={match != null}\n                        onHide={() => {\n                            history.push(\"/inventory/configure/product-configure/list\");\n                        }}\n                        handleSubmit={(productCategoryParams) => {\n                            let productCategoryTree = categoryTypeTree;\n                            if (typeof routeProductCategory.state !== 'undefined' && routeProductCategory.state.action === 'update') {  // for update existing\n                                updateNode(productCategoryTree, routeProductCategory.state.treeLevel, productCategoryParams);\n                            } else { // for add new// for add new\n                                let treeLevel = ''\n                                let categorTypeNode = {\n                                    id: null,\n                                    name: productCategoryParams.categoryTypeName,\n                                    treeLevel: treeLevel,\n                                    children: []\n                                };\n                                if (typeof routeProductCategory.state === 'undefined') {  //  top layer node add\n                                    treeLevel = '' + (categoryTypeTree.length + 1);\n                                    categorTypeNode.treeLevel = treeLevel;\n                                    productCategoryTree.push(categorTypeNode);\n                                } else {  // any child node add\n                                    treeLevel = routeProductCategory.state.treeLevel + '-' + (routeProductCategory.state.children.length + 1);\n                                    categorTypeNode.treeLevel = treeLevel;\n                                    addNode(productCategoryTree, routeProductCategory.state.treeLevel, categorTypeNode);\n                                }\n                            }\n\n                            history.push(\"/inventory/configure/product-configure/list\");\n                        }}\n                    />\n                )}\n            </Route>\n            <div style={{ marginTop: \"-30px\", marginLeft: \"-18px\" }}>\n                <nav aria-label=\"breadcrumb\">\n                    <ol class=\"breadCrum-bg-color\">\n                        <li aria-current=\"page\" className='breadCrum-main-title'>Google</li>\n                        <li aria-current=\"page\" className='mt-1 breadCrum-sub-title'>&nbsp;Inventory&nbsp;&nbsp;&nbsp;&nbsp;</li>\n                        <li aria-current=\"page\" className='mt-1 breadCrum-sub-title text-primary'><span className='font-weight-bolder'>.</span>&nbsp; Configure &nbsp;&nbsp;</li>\n                        <li aria-current=\"page\" className='mt-1 breadCrum-sub-title text-primary'><span className='font-weight-bolder'>.</span>&nbsp; Product Configure</li>\n                    </ol>\n                </nav>\n            </div>\n            <Card>\n                <CardBody>\n                    <div className=\"row\">\n                        <div className=\"col-lg-4 border border-left-0 border border-light border-primary border-bottom-0 border-top-0\">\n                            <Tabs\n                                defaultActiveKey=\"levelTree\" id=\"tab\" className=\"mr-5 pr-5 mb-5 tabs-class\"\n                                centered\n                            >\n                                <Tab eventKey=\"levelTree\" title=\"Level Tree\">\n                                    <div className='mt-5'>\n                                        <img src={toAbsoluteUrl(\"/images/loc1.png\")}\n                                            style={{ width: \"20px\", height: \"20px\", textAlign: \"center\" }} alt='Company Picture' />\n\n                                        <button\n                                            type=\"button\"\n                                            className=\"btn ml-0 btn-sm\"\n                                            onClick={(event) => {\n                                                event.preventDefault();\n                                                addTreeNode(); //most top level\n                                            }}\n                                        >\n                                            <i className=\"bi bi-plus-circle-fill text-primary\" style={{ fontSize: \"20px\", marginLeft: \"-4px\" }}></i>\n                                        </button>\n                                    </div>\n                                    <nav className=\"tree-nav\">\n                                        <CategoryTypeTree\n                                            tree={categoryTypeTree}\n                                            addTreeNode={addTreeNode}\n                                            updateTreeNode={updateTreeNode}\n                                            maxDepth={productCategoryTypes.length}\n                                            deleteTreeNode={deleteTreeNode}\n                                            selectProductCategoryName={selectProductCategoryName}\n                                            getBreadCrum={getBreadCrum}\n                                        />\n                                    </nav>\n                                    <button\n                                        type=\"button\"\n                                        className=\"btn btn-primary btn-elevate float-right\"\n                                        onClick={handleNext}\n\n                                    >\n                                        Save\n                                    </button>\n                                </Tab>\n                                <Tab\n                                    eventKey=\"levelSetup\"\n                                    title=\"Level Setup\"\n                                >\n                                    <LevelSetup\n                                        setProductCategoryTypes={setProductCategoryTypes}\n                                        maxDepth={productCategoryTreeDepth}\n                                        productCategoryTypeDtoList={initialLocationTypes.current}\n                                    />\n                                </Tab>\n                            </Tabs>\n                        </div>\n                        <div className=\"col-lg-8\">\n                            <Card className=\"cardBackground\">\n                                <div className=\"product-profile-breadcrum \">\n                                    <nav aria-label=\"breadcrumb\">\n                                        <ol class=\"breadCrum-bg-color\">\n                                            <li aria-current=\"page\" className='mt-1 breadCrum-sub-title' style={{ fontSize: \"13px\" }}>\n                                                <span>{breadCrumParentProductCategoryTypeName} &nbsp;</span>\n                                                <span className=\"text-primary\">{breadCrumParentProductCategoryName}</span>\n                                            </li>\n                                            <li aria-current=\"page\" className='mt-1 breadCrum-sub-title' style={{ fontSize: \"13px\" }}>\n                                                <span><i class=\"bi bi-chevron-right\"></i></span>\n                                                <span>&nbsp; Sub Category </span>\n                                                <span className=\"text-primary\">Seed Crop &nbsp;</span>\n                                            </li>\n                                        </ol>\n                                    </nav>\n                                </div>\n                                <CardBody>\n                                    <div className=\"row\">\n                                        <div className=\"col-xl-4\">\n                                            <span className=\"create-field-title\">Product Profile List</span>\n                                            <p style={{ color: \"#B6B6B6\" }}>Total 5,625 products </p>\n                                        </div>\n                                        <div className=\"col-xl-8 d-flex justify-content-end\">\n                                            <div className=\"mr-5\">\n                                                <CardHeaderToolbar\n                                                    title=\"Add Profile\"\n                                                >\n                                                    <button\n                                                        tree={categoryTypeTree}\n                                                        type=\"button\"\n                                                        className=\"btn btn-primary\"\n                                                        onClick={productProfileUIEvents.newProductProfileButtonClick}\n                                                    >\n                                                        + New Profile\n                                                    </button>\n                                                </CardHeaderToolbar>\n                                            </div>\n                                            <div style={{ marginRight: \"20px\" }}>\n                                                <select className=\"form-control\" aria-label=\"Default select example\">\n                                                    <option selected>Export</option>\n                                                    <option value=\"1\">One</option>\n                                                    <option value=\"2\">Two</option>\n                                                    <option value=\"3\">Three</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <ProductConfigureTable setSingleAll={setSingleAll} singleAll={singleAll} productProfileList={productProfileList} />\n                                </CardBody>\n                            </Card>\n                        </div>\n                    </div>\n                </CardBody>\n            </Card>\n        </>\n    );\n}"]},"metadata":{},"sourceType":"module"}