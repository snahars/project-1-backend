{"ast":null,"code":"import _slicedToArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Inventory/configure/product-configure/ProductConfigurePage.js\";\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { Card, CardBody, CardHeaderToolbar } from \"../../../../../_metronic/_partials/controls\";\nimport { ProductConfigureTable } from \"./product-configure-table/ProductConfigureTable\";\nimport axios from \"axios\";\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport LevelTreeModal from './LevelTreeModal';\nimport LevelSetup from './LevelSetup';\nimport { toAbsoluteUrl } from \"../../../../../_metronic/_helpers\";\nimport { CategoryTypeTree } from \"./CategoryTypeTree\";\nimport { showSuccess, showError } from '../../../../pages/Alert';\nimport { useLocation } from \"react-router-dom\"; // this part is need to understand tree node\n\nvar categorTypeNode = {\n  id: null,\n  name: '',\n  level: '',\n  children: []\n};\nvar tree = [];\n\nfunction addNode(locTree, treeLevel, locationNode) {\n  locTree.map(function (node) {\n    // traverse every node to find match\n    if (node.treeLevel === treeLevel) {\n      node.children.push(locationNode);\n      return;\n    } else {\n      addNode(node.children, treeLevel, locationNode);\n      return;\n    }\n  });\n}\n\nexport default function ProductConfigurePage(props) {\n  var _this = this;\n\n  var routeLocation = useLocation();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      productCategoryTreeDepth = _useState2[0],\n      setProductCategoryTreeDepth = _useState2[1];\n\n  var initialLocationTypes = useRef([{\n    name: '',\n    level: 0,\n    companyId: 2\n  }]);\n\n  var _useState3 = useState(tree),\n      _useState4 = _slicedToArray(_useState3, 2),\n      categoryTypeTree = _useState4[0],\n      setCategoryTypeTree = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      productCategoryTypes = _useState6[0],\n      setProductCategoryTypes = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      deleteIds = _useState8[0],\n      setDeleteIds = _useState8[1];\n\n  var ids = [];\n  useEffect(function () {\n    setProductCategoryTreeDepth(getProductCategoryTreeDepth(categoryTypeTree));\n  });\n  useEffect(function () {\n    var companyId = 2;\n    getAllProductCategoryTypeByCompanyWise(companyId);\n    getAllProductCategoryTreeByCompanyWise(companyId);\n    setCategoryTypeTree(tree);\n  }, []);\n  var productProfileUIEvents = {\n    newCategoryAddButtonClick: function newCategoryAddButtonClick() {\n      props.history.push(\"/inventory/configure/product-configure/list/add-category\");\n    },\n    newProductProfileButtonClick: function newProductProfileButtonClick() {\n      props.history.push(\"/inventory/configure/product-configure/new\");\n    }\n  };\n\n  var getAllProductCategoryTypeByCompanyWise = function getAllProductCategoryTypeByCompanyWise(id) {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/product-category-type/list-info/\").concat(id);\n    axios.get(URL).then(function (response) {\n      if (response.data.data != \"\") {\n        var productCategoryTypeList = response.data.data;\n        initialLocationTypes.current = productCategoryTypeList;\n        setProductCategoryTypes(productCategoryTypeList);\n      }\n    });\n  };\n\n  var getAllProductCategoryTreeByCompanyWise = function getAllProductCategoryTreeByCompanyWise(id) {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/product-category/list-info/\").concat(id);\n    axios.get(URL).then(function (response) {\n      if (response.data.data.childProductCategoryDtoList != \"\") {\n        setCategoryTypeTree(response.data.data.childProductCategoryDtoList);\n      }\n    });\n  };\n\n  var getProductCategoryTreeDepth = function getProductCategoryTreeDepth(data) {\n    if (data.length === 0) {\n      return 0;\n    } else {\n      var max = 0;\n\n      for (var i = 0; i < data.length; i++) {\n        max = Math.max(max, getProductCategoryTreeDepth(data[i].children));\n      }\n\n      return 1 + max;\n    }\n  };\n\n  var handleNext = function handleNext() {\n    saveLocationTree();\n  };\n\n  var addTreeNode = function addTreeNode(node) {\n    // add category type name\n    if (productCategoryTypes.length == 0) {\n      showError(\"Please Add Level Setup\");\n      return;\n    } else {\n      props.history.push({\n        pathname: '/inventory/configure/product-configure/list/add-category',\n        state: node\n      });\n    }\n  }; // const deleteTreeNode = (node) => {\n  //     let locTree = categoryTypeTree;\n  //     deleteNode(node, node.treeLevel);\n  //     props.history.push(\"/inventory/configure/product-configure/list\");\n  // }\n  // const deleteNode = (node) => {\n  //     let ids = getProductCategoryTreeNodeDepth(node)\n  //     setDeleteIds(ids)\n  //     const URL = `${process.env.REACT_APP_API_URL}/api/product-category/delete-all/${ids}`;\n  //     axios.delete(URL).then(response => {\n  //       if (response.data.success == true) {\n  //         showSuccess(response.data.message)\n  //       } else {\n  //         showError(response.data.message);\n  //       }\n  //     }).catch(err => {\n  //       showError(err);\n  //     });\n  // }\n\n\n  var deleteTreeNode = function deleteTreeNode(node) {\n    var id = node.id;\n    deleteNode(id);\n    props.history.push(\"/inventory/configure/product-configure/list\");\n  };\n\n  var deleteNode = function deleteNode(id) {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/product-category/\").concat(id);\n    axios.delete(URL).then(function (response) {\n      if (response.data.success == true) {\n        showSuccess(response.data.message);\n      } else {\n        showError(response.data.message);\n      }\n    }).catch(function (err) {\n      showError(err);\n    });\n  };\n\n  var saveLocationTree = function saveLocationTree() {\n    var obj = {};\n    obj.childProductCategoryDtoList = categoryTypeTree;\n    obj.companyId = 2;\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/product-category/create-all\");\n    axios.post(URL, JSON.stringify(obj), {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (response) {\n      if (response.data.success == true) {\n        showSuccess(response.data.message);\n      } else {\n        showError(\"Cannot Update Product Category Tree\");\n      }\n    }).catch(function (err) {\n      showError(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Route, {\n    path: \"/inventory/configure/product-configure/list/add-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, function (_ref) {\n    var history = _ref.history,\n        match = _ref.match;\n    return /*#__PURE__*/React.createElement(LevelTreeModal, {\n      show: match != null,\n      onHide: function onHide() {\n        history.push(\"/inventory/configure/product-configure/list\");\n      },\n      handleSubmit: function handleSubmit(locationParams) {\n        var locTree = categoryTypeTree; // for add new\n\n        var treeLevel = '';\n        var categorTypeNode = {\n          id: null,\n          name: locationParams.categoryTypeName,\n          treeLevel: treeLevel,\n          children: []\n        };\n\n        if (typeof routeLocation.state === 'undefined') {\n          //  top layer node add\n          treeLevel = '' + (categoryTypeTree.length + 1);\n          categorTypeNode.treeLevel = treeLevel;\n          locTree.push(categorTypeNode);\n        } else {\n          // any child node add\n          treeLevel = routeLocation.state.treeLevel + '-' + (routeLocation.state.children.length + 1);\n          categorTypeNode.treeLevel = treeLevel;\n          addNode(locTree, routeLocation.state.treeLevel, categorTypeNode);\n        }\n\n        history.push(\"/inventory/configure/product-configure/list\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    });\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"-30px\",\n      marginLeft: \"-18px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    \"aria-label\": \"breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    class: \"breadCrum-bg-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"breadCrum-main-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 25\n    }\n  }, \"Google\"), /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"mt-1 breadCrum-sub-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 25\n    }\n  }, \"\\xA0Inventory\\xA0\\xA0\\xA0\\xA0\"), /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"mt-1 breadCrum-sub-title text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-weight-bolder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 99\n    }\n  }, \".\"), \"\\xA0 Configure \\xA0\\xA0\"), /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"mt-1 breadCrum-sub-title text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-weight-bolder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 99\n    }\n  }, \".\"), \"\\xA0 Product Configure\")))), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-4 border border-left-0 border border-light border-primary border-bottom-0 border-top-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    defaultActiveKey: \"levelTree\",\n    id: \"tab\",\n    className: \"mr-5 pr-5 mb-5 tabs-class\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"levelTree\",\n    title: \"Level Tree\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: toAbsoluteUrl(\"/images/loc1.png\"),\n    style: {\n      width: \"20px\",\n      height: \"20px\",\n      textAlign: \"center\"\n    },\n    alt: \"Company Picture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn ml-0 btn-sm\",\n    onClick: function onClick(event) {\n      event.preventDefault();\n      addTreeNode(); //most top level\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-plus-circle-fill text-primary\",\n    style: {\n      fontSize: \"20px\",\n      marginLeft: \"-4px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"tree-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(CategoryTypeTree, {\n    tree: categoryTypeTree,\n    addTreeNode: addTreeNode,\n    maxDepth: productCategoryTypes.length,\n    deleteTreeNode: deleteTreeNode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary btn-elevate float-right\",\n    onClick: handleNext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 37\n    }\n  }, \"Save\")), /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"levelSetup\",\n    title: \"Level Setup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(LevelSetup, {\n    setProductCategoryTypes: setProductCategoryTypes,\n    maxDepth: productCategoryTreeDepth,\n    productCategoryTypeDtoList: initialLocationTypes.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 37\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"cardBackground\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-profile-breadcrum \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    \"aria-label\": \"breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    class: \"breadCrum-bg-color\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"mt-1 breadCrum-sub-title\",\n    style: {\n      fontSize: \"13px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 49\n    }\n  }, \"Category \\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 49\n    }\n  }, \"Seed \\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-chevron-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 55\n    }\n  }))), /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"mt-1 breadCrum-sub-title\",\n    style: {\n      fontSize: \"13px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 49\n    }\n  }, \"Sub Category \\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 49\n    }\n  }, \"Seed Crop \\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-chevron-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 55\n    }\n  }))), /*#__PURE__*/React.createElement(\"li\", {\n    \"aria-current\": \"page\",\n    className: \"mt-1 breadCrum-sub-title\",\n    style: {\n      fontSize: \"13px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 49\n    }\n  }, \"Sub Sub Category \\xA0\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 49\n    }\n  }, \"Rice Seed \\xA0\"))))), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"create-field-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 45\n    }\n  }, \"Product Profile List\"), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"#B6B6B6\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 45\n    }\n  }, \"Total 5,625 products \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-8 d-flex justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(CardHeaderToolbar, {\n    title: \"Add Profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-primary\",\n    onClick: productProfileUIEvents.newProductProfileButtonClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 53\n    }\n  }, \"+ New Profile\"))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginRight: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    \"aria-label\": \"Default select example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 53\n    }\n  }, \"Export\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 53\n    }\n  }, \"One\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 53\n    }\n  }, \"Two\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 53\n    }\n  }, \"Three\"))))), /*#__PURE__*/React.createElement(ProductConfigureTable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 37\n    }\n  }))))))));\n}","map":{"version":3,"names":["React","useRef","useState","useEffect","Route","Card","CardBody","CardHeaderToolbar","ProductConfigureTable","axios","Tabs","Tab","LevelTreeModal","LevelSetup","toAbsoluteUrl","CategoryTypeTree","showSuccess","showError","useLocation","categorTypeNode","id","name","level","children","tree","addNode","locTree","treeLevel","locationNode","map","node","push","ProductConfigurePage","props","routeLocation","productCategoryTreeDepth","setProductCategoryTreeDepth","initialLocationTypes","companyId","categoryTypeTree","setCategoryTypeTree","productCategoryTypes","setProductCategoryTypes","deleteIds","setDeleteIds","ids","getProductCategoryTreeDepth","getAllProductCategoryTypeByCompanyWise","getAllProductCategoryTreeByCompanyWise","productProfileUIEvents","newCategoryAddButtonClick","history","newProductProfileButtonClick","URL","process","env","REACT_APP_API_URL","get","then","response","data","productCategoryTypeList","current","childProductCategoryDtoList","length","max","i","Math","handleNext","saveLocationTree","addTreeNode","pathname","state","deleteTreeNode","deleteNode","delete","success","message","catch","err","obj","post","JSON","stringify","headers","match","locationParams","categoryTypeName","marginTop","marginLeft","width","height","textAlign","event","preventDefault","fontSize","color","marginRight"],"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Inventory/configure/product-configure/ProductConfigurePage.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport {\n    Card,\n    CardBody,\n    CardHeaderToolbar,\n} from \"../../../../../_metronic/_partials/controls\";\nimport { ProductConfigureTable } from \"./product-configure-table/ProductConfigureTable\";\nimport axios from \"axios\";\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport LevelTreeModal from './LevelTreeModal'\nimport LevelSetup from './LevelSetup'\nimport { toAbsoluteUrl } from \"../../../../../_metronic/_helpers\";\nimport { CategoryTypeTree } from \"./CategoryTypeTree\"\nimport { showSuccess, showError } from '../../../../pages/Alert';\nimport { useLocation } from \"react-router-dom\";\n\n// this part is need to understand tree node\nvar categorTypeNode = {\n    id: null,\n    name: '',\n    level: '',\n    children: []\n};\n\nlet tree = [];\n\nfunction addNode(locTree, treeLevel, locationNode) {\n    locTree.map((node) => {  // traverse every node to find match\n        if (node.treeLevel === treeLevel) {\n            node.children.push(locationNode);\n            return;\n        } else {\n            addNode(node.children, treeLevel, locationNode);\n            return;\n        }\n    });\n}\n\nexport default function ProductConfigurePage(props) {\n\n    const routeLocation = useLocation();\n    const [productCategoryTreeDepth, setProductCategoryTreeDepth] = useState();\n    const initialLocationTypes = useRef([{ name: '', level: 0, companyId: 2, }]);\n    const [categoryTypeTree, setCategoryTypeTree] = useState(tree);\n    const [productCategoryTypes, setProductCategoryTypes] = useState([]);\n    const [deleteIds, setDeleteIds] = useState([]);\n    let ids = [];\n    useEffect(() => {\n        setProductCategoryTreeDepth(getProductCategoryTreeDepth(categoryTypeTree));\n    });\n    useEffect(() => {\n        let companyId = 2;\n        getAllProductCategoryTypeByCompanyWise(companyId);\n        getAllProductCategoryTreeByCompanyWise(companyId)\n        setCategoryTypeTree(tree);\n    }, []);\n\n    const productProfileUIEvents = {\n        newCategoryAddButtonClick: () => {\n            props.history.push(\"/inventory/configure/product-configure/list/add-category\");\n        },\n        newProductProfileButtonClick: () => {\n            props.history.push(\"/inventory/configure/product-configure/new\");\n        },\n    };\n\n    const getAllProductCategoryTypeByCompanyWise = (id) => {\n        const URL = `${process.env.REACT_APP_API_URL}/api/product-category-type/list-info/${id}`;\n        axios.get(URL).then(response => {\n            if (response.data.data != \"\") {\n                const productCategoryTypeList = response.data.data;\n                initialLocationTypes.current = productCategoryTypeList;\n                setProductCategoryTypes(productCategoryTypeList);\n            }\n        });\n    }\n\n    const getAllProductCategoryTreeByCompanyWise = (id) => {\n        const URL = `${process.env.REACT_APP_API_URL}/api/product-category/list-info/${id}`;\n        axios.get(URL).then(response => {\n            if (response.data.data.childProductCategoryDtoList != \"\") {\n                setCategoryTypeTree(response.data.data.childProductCategoryDtoList);\n            }\n        });\n    }\n    const getProductCategoryTreeDepth = (data) => {\n        if (data.length === 0) {\n            return 0;\n        } else {\n            let max = 0\n            for (let i = 0; i < data.length; i++) {\n                max = Math.max(max, getProductCategoryTreeDepth(data[i].children));\n            }\n            return 1 + max;\n        }\n    }\n\n    const handleNext = () => {\n        saveLocationTree();\n    }\n\n    const addTreeNode = (node) => { // add category type name\n        if (productCategoryTypes.length == 0) {\n            showError(\"Please Add Level Setup\");\n            return;\n        } else {\n            props.history.push({ pathname: '/inventory/configure/product-configure/list/add-category', state: node });\n        }\n\n    }\n\n    // const deleteTreeNode = (node) => {\n    //     let locTree = categoryTypeTree;\n    //     deleteNode(node, node.treeLevel);\n    //     props.history.push(\"/inventory/configure/product-configure/list\");\n    // }\n\n\n    // const deleteNode = (node) => {\n    //     let ids = getProductCategoryTreeNodeDepth(node)\n    //     setDeleteIds(ids)\n    //     const URL = `${process.env.REACT_APP_API_URL}/api/product-category/delete-all/${ids}`;\n    //     axios.delete(URL).then(response => {\n    //       if (response.data.success == true) {\n    //         showSuccess(response.data.message)\n    //       } else {\n    //         showError(response.data.message);\n    //       }\n    //     }).catch(err => {\n    //       showError(err);\n    //     });\n    // }\n    const deleteTreeNode = (node) => {\n        let id = (node.id);\n        deleteNode(id);\n        props.history.push(\"/inventory/configure/product-configure/list\");\n    }\n    const deleteNode = (id) => {\n        const URL = `${process.env.REACT_APP_API_URL}/api/product-category/${id}`;\n        axios.delete(URL).then(response => {\n            if (response.data.success == true) {\n                showSuccess(response.data.message)\n            } else {\n                showError(response.data.message);\n            }\n        }).catch(err => {\n            showError(err);\n        });\n    }\n\n    const saveLocationTree = () => {\n        let obj = {}\n        obj.childProductCategoryDtoList = categoryTypeTree;\n        obj.companyId = 2;\n        const URL = `${process.env.REACT_APP_API_URL}/api/product-category/create-all`;\n        axios.post(URL, JSON.stringify(obj), { headers: { \"Content-Type\": \"application/json\" } }).then(response => {\n            if (response.data.success == true) {\n                showSuccess(response.data.message)\n            } else {\n                showError(\"Cannot Update Product Category Tree\");\n            }\n        }).catch(err => {\n            showError(err);\n        });\n    }\n    return (\n        <>\n            <Route path=\"/inventory/configure/product-configure/list/add-category\">\n                {({ history, match }) => (\n                    <LevelTreeModal\n                        show={match != null}\n                        onHide={() => {\n                            history.push(\"/inventory/configure/product-configure/list\");\n                        }}\n                        handleSubmit={(locationParams) => {\n                            let locTree = categoryTypeTree;\n                            // for add new\n                            let treeLevel = ''\n                            let categorTypeNode = {\n                                id: null,\n                                name: locationParams.categoryTypeName,\n                                treeLevel: treeLevel,\n                                children: []\n                            };\n                            if (typeof routeLocation.state === 'undefined') {  //  top layer node add\n                                treeLevel = '' + (categoryTypeTree.length + 1);\n                                categorTypeNode.treeLevel = treeLevel;\n                                locTree.push(categorTypeNode);\n                            } else {  // any child node add\n                                treeLevel = routeLocation.state.treeLevel + '-' + (routeLocation.state.children.length + 1);\n                                categorTypeNode.treeLevel = treeLevel;\n                                addNode(locTree, routeLocation.state.treeLevel, categorTypeNode);\n                            }\n\n\n                            history.push(\"/inventory/configure/product-configure/list\");\n                        }}\n                    />\n                )}\n            </Route>\n            <div style={{ marginTop: \"-30px\", marginLeft: \"-18px\" }}>\n                <nav aria-label=\"breadcrumb\">\n                    <ol class=\"breadCrum-bg-color\">\n                        <li aria-current=\"page\" className='breadCrum-main-title'>Google</li>\n                        <li aria-current=\"page\" className='mt-1 breadCrum-sub-title'>&nbsp;Inventory&nbsp;&nbsp;&nbsp;&nbsp;</li>\n                        <li aria-current=\"page\" className='mt-1 breadCrum-sub-title text-primary'><span className='font-weight-bolder'>.</span>&nbsp; Configure &nbsp;&nbsp;</li>\n                        <li aria-current=\"page\" className='mt-1 breadCrum-sub-title text-primary'><span className='font-weight-bolder'>.</span>&nbsp; Product Configure</li>\n                    </ol>\n                </nav>\n            </div>\n            <Card>\n                <CardBody>\n                    <div className=\"row\">\n                        <div className=\"col-lg-4 border border-left-0 border border-light border-primary border-bottom-0 border-top-0\">\n                            <Tabs\n                                defaultActiveKey=\"levelTree\" id=\"tab\" className=\"mr-5 pr-5 mb-5 tabs-class\"\n                                centered\n                            >\n                                <Tab eventKey=\"levelTree\" title=\"Level Tree\">\n                                    <div className='mt-5'>\n                                        <img src={toAbsoluteUrl(\"/images/loc1.png\")}\n                                            style={{ width: \"20px\", height: \"20px\", textAlign: \"center\" }} alt='Company Picture' />\n\n                                        <button\n                                            type=\"button\"\n                                            className=\"btn ml-0 btn-sm\"\n                                            onClick={(event) => {\n                                                event.preventDefault();\n                                                addTreeNode(); //most top level\n                                            }}\n                                        >\n                                            <i className=\"bi bi-plus-circle-fill text-primary\" style={{ fontSize: \"20px\", marginLeft: \"-4px\" }}></i>\n                                        </button>\n                                    </div>\n                                    <nav className=\"tree-nav\">\n                                        <CategoryTypeTree\n                                            tree={categoryTypeTree}\n                                            addTreeNode={addTreeNode}\n                                            maxDepth={productCategoryTypes.length}\n                                            deleteTreeNode={deleteTreeNode}\n                                        />\n                                    </nav>\n                                    <button\n                                        type=\"button\"\n                                        className=\"btn btn-primary btn-elevate float-right\"\n                                        onClick={handleNext}\n\n                                    >\n                                        Save\n                                    </button>\n                                </Tab>\n                                <Tab\n                                    eventKey=\"levelSetup\"\n                                    title=\"Level Setup\"\n                                >\n                                    <LevelSetup\n                                        setProductCategoryTypes={setProductCategoryTypes}\n                                        maxDepth={productCategoryTreeDepth}\n                                        productCategoryTypeDtoList={initialLocationTypes.current}\n                                    />\n                                </Tab>\n                            </Tabs>\n                        </div>\n                        <div className=\"col-lg-8\">\n                            <Card className=\"cardBackground\">\n                                <div className=\"product-profile-breadcrum \">\n                                    <nav aria-label=\"breadcrumb\">\n                                        <ol class=\"breadCrum-bg-color\">\n                                            <li aria-current=\"page\" className='mt-1 breadCrum-sub-title' style={{ fontSize: \"13px\" }}>\n                                                <span>Category &nbsp;</span>\n                                                <span className=\"text-primary\">Seed &nbsp;</span>\n                                                <span><i class=\"bi bi-chevron-right\"></i></span>\n\n                                            </li>\n                                            <li aria-current=\"page\" className='mt-1 breadCrum-sub-title' style={{ fontSize: \"13px\" }}>\n                                                <span>Sub Category &nbsp;</span>\n                                                <span className=\"text-primary\">Seed Crop &nbsp;</span>\n                                                <span><i class=\"bi bi-chevron-right\"></i></span>\n\n                                            </li>\n                                            <li aria-current=\"page\" className='mt-1 breadCrum-sub-title' style={{ fontSize: \"13px\" }}>\n                                                <span>Sub Sub Category &nbsp;</span>\n                                                <span className=\"text-primary\">Rice Seed &nbsp;</span>\n                                            </li>\n                                        </ol>\n                                    </nav>\n                                </div>\n                                <CardBody>\n                                    <div className=\"row\">\n                                        <div className=\"col-xl-4\">\n                                            <span className=\"create-field-title\">Product Profile List</span>\n                                            <p style={{ color: \"#B6B6B6\" }}>Total 5,625 products </p>\n                                        </div>\n                                        <div className=\"col-xl-8 d-flex justify-content-end\">\n                                            <div className=\"mr-5\">\n                                                <CardHeaderToolbar\n                                                    title=\"Add Profile\"\n                                                >\n                                                    <button\n                                                        type=\"button\"\n                                                        className=\"btn btn-primary\"\n                                                        onClick={productProfileUIEvents.newProductProfileButtonClick}\n                                                    >\n                                                        + New Profile\n                                                    </button>\n                                                </CardHeaderToolbar>\n                                            </div>\n                                            <div style={{ marginRight: \"20px\" }}>\n                                                <select className=\"form-control\" aria-label=\"Default select example\">\n                                                    <option selected>Export</option>\n                                                    <option value=\"1\">One</option>\n                                                    <option value=\"2\">Two</option>\n                                                    <option value=\"3\">Three</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <ProductConfigureTable />\n                                </CardBody>\n                            </Card>\n                        </div>\n                    </div>\n                </CardBody>\n            </Card>\n        </>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}