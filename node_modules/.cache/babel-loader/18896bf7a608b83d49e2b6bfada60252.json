{"ast":null,"code":"import _toConsumableArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Common/SalesOfficeList.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { showError } from \"../../pages/Alert\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { TextField } from \"@material-ui/core\";\nimport axios from \"axios\";\nexport default function SalesOfficeList(props) {\n  var _this = this;\n\n  var _useState = useState({\n    email: '',\n    name: '',\n    id: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedItem = _useState2[0],\n      setSelectedItem = _useState2[1];\n\n  useEffect(function () {\n    getSalesOfficerListByLocation(props.companyIdPass, props.locationsIdsPass, props.nationalLocationChecked);\n  }, [props.companyIdPass, props.locationsIdsPass, props.nationalLocationChecked]);\n\n  var getSalesOfficerListByLocation = function getSalesOfficerListByLocation(companyId, locationIds, nationalAll) {\n    if (nationalAll) {\n      props.salesOfficerListPass.length = 0;\n      props.setSalesOfficer([]);\n      var queryString = '?';\n      queryString += 'companyId=' + companyId;\n      queryString += '&locationIds=' + locationIds;\n      var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/auth/get-sales-officer-by-location-wise\") + queryString;\n      axios.get(URL).then(function (response) {\n        props.setSalesOfficer(response.data.data);\n      }).catch(function (err) {});\n    } else {\n      props.salesOfficerListPass.length = 0;\n      props.setSalesOfficer([]);\n\n      if (locationIds.length > 0) {\n        var _queryString = '?';\n        _queryString += 'companyId=' + companyId;\n        _queryString += '&locationIds=' + locationIds;\n\n        var _URL = \"\".concat(process.env.REACT_APP_API_URL, \"/auth/get-sales-officer-by-location-wise\") + _queryString;\n\n        axios.get(_URL).then(function (response) {\n          props.setSalesOfficer(response.data.data);\n        }).catch(function (err) {});\n      }\n    }\n  };\n\n  var deleteSalesOfficer = function deleteSalesOfficer(data) {\n    var temp = _toConsumableArray(props.salesOfficerListPass);\n\n    var index = temp.findIndex(function (obj) {\n      return obj.id === data.id;\n    });\n    temp.splice(index, 1);\n    props.setSalesOfficerListPass(temp);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-lg-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"level-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, \"Sales Officer\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 73\n    }\n  }), /*#__PURE__*/React.createElement(Autocomplete, {\n    name: \"salesOfficerId\",\n    options: props.salesOfficer,\n    getOptionLabel: function getOptionLabel(option) {\n      return option.name ? option.name + \" -[\" + option.email + \"]\" : \"\";\n    },\n    value: selectedItem,\n    onChange: function onChange(event, newValue) {\n      console.log(\"newValue=\", newValue);\n      console.log(\"props=\", props);\n\n      if (newValue !== null) {\n        if (props.salesOfficerListPass.length > 0) {\n          var temp = _toConsumableArray(props.salesOfficerListPass);\n\n          var index = temp.findIndex(function (data) {\n            return data.id === newValue.id;\n          });\n\n          if (index > -1) {\n            showError(\"This sales officer already used\");\n            setSelectedItem({\n              email: '',\n              name: '',\n              id: 0\n            });\n            return;\n          } else {\n            temp.push({\n              \"id\": newValue.id,\n              \"name\": newValue.name,\n              \"email\": newValue.email\n            });\n            props.setSalesOfficerListPass(temp);\n          }\n        } else {\n          var _temp = _toConsumableArray(props.salesOfficerListPass);\n\n          _temp.push({\n            \"id\": newValue.id,\n            \"name\": newValue.name,\n            \"email\": newValue.email\n          });\n\n          props.setSalesOfficerListPass(_temp);\n        }\n      }\n\n      setSelectedItem({\n        email: '',\n        name: '',\n        id: 0\n      });\n    },\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n        label: \"Select Sales Officer\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 29\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      border: \"none\",\n      padding: \"0 3px 3px 3px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, props.salesOfficerListPass.length > 0 ? props.salesOfficerListPass.map(function (data) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, data.id !== \"\" ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mt-3 mr-5 areaLevel\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 37\n      }\n    }, data.name // + \" -[\" + data.email + \"]\"\n    , /*#__PURE__*/React.createElement(\"span\", {\n      className: \"deleteIcon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"fa fa-times text-white delete-file\",\n      onClick: function onClick() {\n        return deleteSalesOfficer(data);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 45\n      }\n    }))) : \"\");\n  }) : \"\"));\n}","map":{"version":3,"names":["React","useEffect","useState","showError","Autocomplete","TextField","axios","SalesOfficeList","props","email","name","id","selectedItem","setSelectedItem","getSalesOfficerListByLocation","companyIdPass","locationsIdsPass","nationalLocationChecked","companyId","locationIds","nationalAll","salesOfficerListPass","length","setSalesOfficer","queryString","URL","process","env","REACT_APP_API_URL","get","then","response","data","catch","err","deleteSalesOfficer","temp","index","findIndex","obj","splice","setSalesOfficerListPass","salesOfficer","option","event","newValue","console","log","push","params","border","padding","map"],"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Common/SalesOfficeList.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {showError} from \"../../pages/Alert\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport {TextField} from \"@material-ui/core\";\nimport axios from \"axios\";\n\nexport default function SalesOfficeList(props) {\n    const [selectedItem, setSelectedItem] = useState({email: '', name: '', id: 0});\n\n    useEffect(() => {\n        getSalesOfficerListByLocation(props.companyIdPass, props.locationsIdsPass, props.nationalLocationChecked)\n    }, [props.companyIdPass, props.locationsIdsPass, props.nationalLocationChecked]);\n\n\n    const getSalesOfficerListByLocation = (companyId, locationIds, nationalAll) => {\n        if (nationalAll) {\n            props.salesOfficerListPass.length = 0;\n            props.setSalesOfficer([])\n            let queryString = '?';\n            queryString += 'companyId=' + companyId;\n            queryString += '&locationIds=' + locationIds;\n            const URL = `${process.env.REACT_APP_API_URL}/auth/get-sales-officer-by-location-wise` + queryString;\n            axios.get(URL).then(response => {\n                props.setSalesOfficer(response.data.data)\n            }).catch(err => {\n            });\n\n        } else {\n            props.salesOfficerListPass.length = 0;\n            props.setSalesOfficer([])\n            if (locationIds.length > 0) {\n                let queryString = '?';\n                queryString += 'companyId=' + companyId;\n                queryString += '&locationIds=' + locationIds;\n                const URL = `${process.env.REACT_APP_API_URL}/auth/get-sales-officer-by-location-wise` + queryString;\n                axios.get(URL).then(response => {\n                    props.setSalesOfficer(response.data.data)\n                }).catch(err => {\n                });\n            }\n        }\n\n    }\n    const deleteSalesOfficer = (data) => {\n        const temp = [...props.salesOfficerListPass]\n        const index = temp.findIndex(obj => obj.id === data.id);\n        temp.splice(index, 1);\n        props.setSalesOfficerListPass(temp)\n    }\n    return (\n        <>\n            <div className=\"mt-5 row\">\n                <div className=\"form-group col-lg-8\">\n                    <label className='level-title'>Sales Officer</label><br/>\n                    <Autocomplete\n                        name=\"salesOfficerId\"\n                        options={props.salesOfficer}\n                        getOptionLabel={(option) => option.name ? option.name + \" -[\" + option.email + \"]\" : \"\"}\n                        value={selectedItem}\n                        onChange={(event, newValue) => {\n                            console.log(\"newValue=\", newValue)\n                            console.log(\"props=\", props)\n                            if (newValue !== null) {\n                                if (props.salesOfficerListPass.length > 0) {\n                                    let temp = [...props.salesOfficerListPass]\n                                    const index = temp.findIndex(data => data.id === newValue.id);\n                                    if (index > -1) {\n                                        showError(\"This sales officer already used\");\n                                        setSelectedItem({email: '', name: '', id: 0});\n                                        return;\n                                    } else {\n                                        temp.push({\n                                            \"id\": newValue.id,\n                                            \"name\": newValue.name,\n                                            \"email\": newValue.email\n                                        });\n                                        props.setSalesOfficerListPass(temp);\n                                    }\n                                } else {\n                                    const temp = [...props.salesOfficerListPass]\n                                    temp.push({\n                                        \"id\": newValue.id,\n                                        \"name\": newValue.name,\n                                        \"email\": newValue.email\n                                    })\n                                    props.setSalesOfficerListPass(temp)\n                                }\n                            }\n                            setSelectedItem({email: '', name: '', id: 0});\n                        }}\n                        renderInput={(params) => (\n                            <TextField {...params} label=\"Select Sales Officer\"/>\n                        )}\n                    />\n                </div>\n            </div>\n\n            <div\n                style={{border: \"none\", padding: \"0 3px 3px 3px\"}}>\n                {props.salesOfficerListPass.length > 0 ? props.salesOfficerListPass.map(data => {\n                    return (\n                        <>\n                            {\n                                data.id !== \"\" ?\n                                    <span className='mt-3 mr-5 areaLevel'\n                                    >\n                                        {data.name\n                                            // + \" -[\" + data.email + \"]\"\n                                        }\n                                        <span className='deleteIcon'>\n                                            <a\n                                                className='fa fa-times text-white delete-file'\n                                                onClick={() => deleteSalesOfficer(data)}\n                                            ></a>\n                                        </span>\n                                    </span> : \"\"\n                            }\n                        </>\n                    )\n                }) : \"\"}\n            </div>\n        </>);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}