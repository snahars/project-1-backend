{"ast":null,"code":"import _toConsumableArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Inventory/Stock/tabs/sales-order/sub-tabs/delivery-challan/create-challan/ProductsList.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { CardBody } from \"../../../../../../../../../_metronic/_partials/controls\";\nimport { toAbsoluteUrl } from \"../../../../../../../../../_metronic/_helpers\";\nimport SVG from \"react-inlinesvg\";\nimport { allowOnlyNumeric, handlePasteDisable } from '../../../../../../../Util';\nimport { showError } from '../../../../../../../../pages/Alert';\nexport default function ProductsList(_ref) {\n  var _this = this;\n\n  var totalCartQty = _ref.totalCartQty,\n      setTotalCartQty = _ref.setTotalCartQty,\n      setDeliveryChallanList = _ref.setDeliveryChallanList,\n      deliveryChallanList = _ref.deliveryChallanList,\n      productList = _ref.productList,\n      setProductList = _ref.setProductList,\n      pickingId = _ref.pickingId;\n\n  // const [batchStockData, setBatchStockData] = useState([]);\n  var handleResetChange = function handleResetChange(pData) {\n    var qtySelectedId = document.getElementById('qtySelected-' + pData.id);\n    var batchSelectedId = document.getElementById('batchId-' + pData.id);\n    qtySelectedId.value = \"\";\n    batchSelectedId.value = \"\";\n  };\n\n  var handlePlusChange = function handlePlusChange(pData) {\n    var qtySelectedId = document.getElementById('qtySelected-' + pData.id);\n    var qtySelectedValue = parseInt(qtySelectedId.value);\n\n    var temp = _toConsumableArray(productList);\n\n    var index = temp.findIndex(function (obj) {\n      return obj.id === pData.id;\n    });\n    temp[index].selectedQty = qtySelectedValue + 1;\n    setProductList(temp);\n  };\n\n  var handleMinusChange = function handleMinusChange(pData) {\n    var qtySelectedId = document.getElementById('qtySelected-' + pData.id);\n    var qtySelectedValue = parseInt(qtySelectedId.value);\n\n    if (qtySelectedValue > 0) {\n      var temp = _toConsumableArray(productList);\n\n      var index = temp.findIndex(function (obj) {\n        return obj.id === pData.id;\n      });\n      temp[index].selectedQty = qtySelectedValue - 1;\n      setProductList(temp);\n    }\n  };\n\n  var handleAddChange = function handleAddChange(pData) {\n    // PRODUCT LIST\n    var tempproductList = _toConsumableArray(productList);\n\n    var productIndex = tempproductList.findIndex(function (data) {\n      return data.id === pData.id;\n    }); // GET BATCH INFO\n\n    var _batchId = document.getElementById('batchId-' + pData.id);\n\n    var batchIdValue = _batchId.options[_batchId.selectedIndex].value;\n    var batchName = _batchId.options[_batchId.selectedIndex].text; // GET QTY MODE INFO\n    // const _qtyModeId = document.getElementById('qtyMode-' + pData.id);\n    // const qtyModeValue = _qtyModeId.options[_qtyModeId.selectedIndex].value;\n    // const qtyModeName = _qtyModeId.options[_qtyModeId.selectedIndex].text;\n    // SELECTED QTY\n\n    var qtySelectedValue = document.getElementById('qtySelected-' + pData.id).value;\n    var stockQuantityValue = document.getElementById('stockQuantityNum-' + pData.id).value;\n    var remainOrderQuantity = Number(pData.order_quantity) - (Number(pData.orderProductPickQuantity) + Number(pData.order_challan_quantity));\n    var remainingPickQtyValue = Number(pData.picking_quantity) - Number(pData.picking_challan_quantity);\n\n    if (batchIdValue === null || batchIdValue === '') {\n      showError(\"Please select product batch\");\n      return;\n    }\n\n    if (Number(qtySelectedValue) === null || Number(qtySelectedValue) <= 0) {\n      showError(\"Please enter quantity\");\n      return;\n    }\n\n    if (Number(qtySelectedValue) > Number(stockQuantityValue)) {\n      showError(\"Quantity can't greater than Stock quantity\");\n      document.getElementById('qtySelected-' + pData.id).value = \"\";\n      return;\n    }\n\n    if (!pickingId) {\n      if (qtySelectedValue > remainOrderQuantity) {\n        document.getElementById('qtySelected-' + pData.id).value = \"\";\n        showError(\"Quantity can't greater than remaining quantity\");\n        return false;\n      }\n    } else {\n      if (qtySelectedValue > remainingPickQtyValue) {\n        document.getElementById('qtySelected-' + pData.id).value = \"\";\n        showError(\"Quantity can't greater than remaining quantity\");\n        return false;\n      }\n    }\n\n    var qtySelectedValuePicking = 0;\n    var qtySelectedValueOrder = 0;\n    tempproductList[productIndex].orderQty = tempproductList[productIndex].orderQty - parseInt(qtySelectedValue);\n    tempproductList[productIndex].cartQty = tempproductList[productIndex].cartQty + parseInt(qtySelectedValue);\n\n    if (pickingId) {\n      qtySelectedValuePicking = qtySelectedValue;\n    } else {\n      qtySelectedValueOrder = qtySelectedValue;\n    }\n\n    setProductList(tempproductList); // DELIVERY CHALLAN LIST\n\n    var temp = _toConsumableArray(deliveryChallanList);\n\n    var index = temp.findIndex(function (obj) {\n      return obj.pId === pData.id;\n    });\n\n    if (index > -1) {\n      if (!pickingId) {\n        console.log(\"FFFFF  \", pData);\n        var itemIndex = temp[index].batch.findIndex(function (batch) {\n          return batch.salesOrderDetailsId === pData.sales_order_details_id;\n        });\n        var orderIdIndex = temp[index].batch.findIndex(function (batch) {\n          return batch.orderId === pData.order_id;\n        });\n        var cartProductIndex = temp[index].batch.findIndex(function (batch) {\n          return batch.productId === pData.id && batch.batchId === batchIdValue;\n        });\n        var pickingIndex = temp[index].batch.findIndex(function (batch) {\n          return batch.pickingId === pData.picking_id;\n        });\n        console.log(\"pickingIndex  \", pickingIndex);\n        console.log(\"itemIndex  \", itemIndex + \" orderIdIndex  \" + orderIdIndex + \" cartProductIndex  \" + cartProductIndex);\n        console.log(\"sales_order_details_id  \", pData.sales_order_details_id + \" order_id  \" + pData.order_id + \" productId  \" + pData.id + \" batchIdValue  \" + batchIdValue);\n\n        if (itemIndex > -1 && cartProductIndex > -1 && orderIdIndex > -1 && pickingIndex >= 0) {\n          showError(\"This batch already exits\");\n          return;\n        } //if (pData.pick_quantity && pData.pick_quantity > 0) {\n\n\n        temp[index].cartQtyOrder = Number(temp[index].cartQtyOrder) + Number(parseInt(qtySelectedValue));\n        console.log(\"temp[index].cartQtyOrder\", temp[index].cartQtyOrder);\n\n        if (Number(temp[index].cartQtyOrder) > remainOrderQuantity) {\n          document.getElementById('qtySelected-' + pData.id).value = \"\";\n          showError(\"Quantity can't greater than remaining quantity\");\n          temp[index].cartQtyOrder = Number(temp[index].cartQtyOrder) - Number(parseInt(qtySelectedValue));\n          return;\n        } else {\n          tempproductList[productIndex].cartQtyOrder = tempproductList[productIndex].cartQtyOrder === undefined ? 0 : Number(tempproductList[productIndex].cartQtyOrder) + parseInt(qtySelectedValue);\n        } //}\n\n      } else {\n        var _itemIndex = temp[index].batch.findIndex(function (batch) {\n          return batch.salesOrderDetailsId === pData.sales_order_details_id;\n        });\n\n        var _orderIdIndex = temp[index].batch.findIndex(function (batch) {\n          return batch.orderId === pData.order_id;\n        });\n\n        var _pickingIndex = temp[index].batch.findIndex(function (batch) {\n          return batch.pickingId === pData.picking_id && batch.batchId === batchIdValue;\n        });\n\n        if (_pickingIndex > -1 && _itemIndex > -1 && _orderIdIndex > -1) {\n          showError(\"This batch already exits\");\n          return;\n        }\n\n        if (!_pickingIndex > -1 && _itemIndex > -1) {\n          temp[index].cartQtyPicking = Number(temp[index].cartQtyPicking) + Number(parseInt(qtySelectedValue));\n\n          if (Number(temp[index].cartQtyPicking) > remainingPickQtyValue) {\n            document.getElementById('qtySelected-' + pData.id).value = \"\";\n            showError(\"Quantity can't greater than remaining quantity\");\n            temp[index].cartQtyPicking = Number(temp[index].cartQtyPicking) - Number(parseInt(qtySelectedValue));\n            return;\n          } else {\n            tempproductList[productIndex].cartQtyPicking = tempproductList[productIndex].cartQtyPicking === undefined ? 0 : Number(tempproductList[productIndex].cartQtyPicking) + parseInt(qtySelectedValue);\n          }\n        }\n      }\n\n      temp[index].cartQty = Number(temp[index].cartQty) + Number(qtySelectedValue);\n      totalCartQty = Number(totalCartQty) + Number(qtySelectedValue);\n      temp[index].batch.push({\n        \"salesOrderDetailsId\": pData.sales_order_details_id,\n        \"pickingDetailsId\": pData.picking_details_id,\n        \"productId\": pData.id,\n        \"batchId\": batchIdValue,\n        \"batchName\": batchName,\n        \"quantity\": qtySelectedValue,\n        \"pickingId\": pData.picking_id,\n        \"orderId\": pData.order_id\n      });\n    } else {\n      totalCartQty = Number(totalCartQty) + Number(qtySelectedValue);\n      temp.push({\n        \"pId\": pData.id,\n        \"orderNo\": pData.order_no,\n        \"orderAmount\": pData.order_amount,\n        \"productSku\": pData.product_sku,\n        \"productName\": pData.product_name,\n        \"category\": pData.category_name,\n        \"qty\": pData.order_quantity,\n        \"cartQty\": qtySelectedValue,\n        \"cartQtyPicking\": qtySelectedValuePicking,\n        \"cartQtyOrder\": qtySelectedValueOrder,\n        \"productCartQty\": tempproductList[productIndex].cartQty,\n        \"batch\": [{\n          \"salesOrderDetailsId\": pData.sales_order_details_id,\n          \"pickingDetailsId\": pData.picking_details_id,\n          \"productId\": pData.id,\n          \"batchId\": batchIdValue,\n          \"batchName\": batchName,\n          \"quantity\": qtySelectedValue,\n          \"pickingId\": pData.picking_id,\n          \"orderId\": pData.order_id\n        }]\n      });\n    }\n\n    setTotalCartQty(totalCartQty);\n    setDeliveryChallanList(temp);\n    document.getElementById('qtySelected-' + pData.id).value = \"\";\n  };\n\n  var selectProductBatch = function selectProductBatch(e, productId) {\n    var id = document.getElementById(\"product-\" + productId + 'batch-' + e.target.value);\n    var batchData = [];\n    var stockIds = document.querySelectorAll('.stockQuantity-' + productId);\n\n    if (id) {\n      batchData = JSON.parse(id.getAttribute(\"data\"));\n\n      for (var n = 0; n < stockIds.length; ++n) {\n        stockIds[n].innerHTML = batchData.availableQuantity; // + '(UOM '\n        // + batchData.stock_quantity_in_uom + ' '\n        // + batchData.product_uom + ')';\n      }\n\n      document.getElementById('qtySelected-' + productId).focus();\n      document.getElementById('stockQuantityNum-' + productId).value = batchData.availableQuantity !== null ? batchData.availableQuantity : 0;\n      document.getElementById('fromStoreId-' + productId).value = batchData.to_store_id;\n    } else {\n      stockIds[0].value = '';\n      document.getElementById('stockQuantityNum-' + productId).value = '';\n      document.getElementById('fromStoreId-' + productId).value = '';\n    }\n  };\n\n  var handleQuantity = function handleQuantity(product) {\n    var qtySelectedValue = document.getElementById('qtySelected-' + product.id).value;\n\n    if ((qtySelectedValue + '').match(/^0/)) {\n      document.getElementById('qtySelected-' + product.id).value = \"\";\n      return false;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, productList.map(function (product, index) {\n    return /*#__PURE__*/React.createElement(Card, {\n      className: \"mt-3\",\n      key: product.sales_order_details_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"float-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted mr-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 37\n      }\n    }, \"Order Qty\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"h4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 43\n      }\n    }, product.order_quantity)), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 106\n      }\n    }), pickingId !== \"\" ? /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted mr-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 49\n      }\n    }, \"Picking Qty\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"h4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 55\n      }\n    }, product.picking_quantity))) : /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted mr-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 49\n      }\n    }, \"At Picking\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"h4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 55\n      }\n    }, Number(product.orderProductPickQuantity))))), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 33\n      }\n    }, product.product_sku), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 90\n      }\n    }), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 33\n      }\n    }, product.product_name), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 72\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 33\n      }\n    }, product.category_name)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-9\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"level-title\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 41\n      }\n    }, \"Batch\"), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"batchId-\" + product.id,\n      name: \"batchIdArray\",\n      className: \"form-control\",\n      onChange: function onChange(e) {\n        return selectProductBatch(e, product.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 45\n      }\n    }, \"Please Select Batch\"), product.batchList.map(function (batch) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: batch.batchId,\n        id: \"product-\" + product.id + \"batch-\" + batch.batchId,\n        value: batch.batchId,\n        data: JSON.stringify(batch),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 49\n        }\n      }, batch.batchNo);\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-5 row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-3  mt-5\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-muted mr-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 37\n      }\n    }, \"Remaining Qty.\"), pickingId === \"\" ? /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"h4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 49\n      }\n    }, Number(product.order_quantity) - (Number(product.orderProductPickQuantity) + Number(product.order_challan_quantity) + Number(product.picking_challan_quantity)), \" \")) : /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"h4\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 49\n      }\n    }, Number(product.picking_quantity) - Number(product.picking_challan_quantity), \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-5 mt-3 text-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"qtySelected-\" + product.id,\n      type: \"text\",\n      className: \"text-center w-75 h4 border rounded pl-5 pr-5 pt-3 pb-3 mr-5\",\n      onKeyPress: function onKeyPress(e) {\n        return allowOnlyNumeric(e);\n      },\n      onChange: function onChange(e) {\n        return handleQuantity(product);\n      },\n      value: product.selectedQty,\n      onPaste: handlePasteDisable,\n      maxLength: 15,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 43\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xl-4  mt-5\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 33\n      }\n    }, product.order_quantity === 0 ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"light-gray-bg dark-success-color rounded p-3 float-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(SVG, {\n      src: toAbsoluteUrl(\"/media/svg/icons/project-svg/approved-done.svg\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 53\n      }\n    }), \"\\xA0Added\")) : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"float-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn text-white mr-3 float-right\",\n      style: {\n        background: \"#6FCF97\"\n      },\n      onClick: function onClick() {\n        return handleAddChange(product);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(SVG, {\n      src: toAbsoluteUrl(\"/media/svg/icons/project-svg/more.svg\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 53\n      }\n    }), \"\\xA0Add\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-5\",\n      style: {\n        border: \"1px solid #6FCF97\",\n        width: \"100%\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"stockQuantityNum-\" + product.id,\n      type: \"hidden\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"fromStoreId-\" + product.id,\n      type: \"hidden\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"dark-success-color\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(SVG, {\n      src: toAbsoluteUrl(\"/media/svg/icons/project-svg/total-green.svg\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 37\n      }\n    }, \" \\xA0Stock Qty. \"), \" \", /*#__PURE__*/React.createElement(\"strong\", {\n      className: \"stockQuantity-\" + product.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 73\n      }\n    })))));\n  }));\n}","map":{"version":3,"names":["React","useEffect","useState","Card","CardBody","toAbsoluteUrl","SVG","allowOnlyNumeric","handlePasteDisable","showError","ProductsList","totalCartQty","setTotalCartQty","setDeliveryChallanList","deliveryChallanList","productList","setProductList","pickingId","handleResetChange","pData","qtySelectedId","document","getElementById","id","batchSelectedId","value","handlePlusChange","qtySelectedValue","parseInt","temp","index","findIndex","obj","selectedQty","handleMinusChange","handleAddChange","tempproductList","productIndex","data","_batchId","batchIdValue","options","selectedIndex","batchName","text","stockQuantityValue","remainOrderQuantity","Number","order_quantity","orderProductPickQuantity","order_challan_quantity","remainingPickQtyValue","picking_quantity","picking_challan_quantity","qtySelectedValuePicking","qtySelectedValueOrder","orderQty","cartQty","pId","console","log","itemIndex","batch","salesOrderDetailsId","sales_order_details_id","orderIdIndex","orderId","order_id","cartProductIndex","productId","batchId","pickingIndex","picking_id","cartQtyOrder","undefined","cartQtyPicking","push","picking_details_id","order_no","order_amount","product_sku","product_name","category_name","selectProductBatch","e","target","batchData","stockIds","querySelectorAll","JSON","parse","getAttribute","n","length","innerHTML","availableQuantity","focus","to_store_id","handleQuantity","product","match","map","batchList","stringify","batchNo","background","border","width"],"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Inventory/Stock/tabs/sales-order/sub-tabs/delivery-challan/create-challan/ProductsList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { CardBody } from \"../../../../../../../../../_metronic/_partials/controls\";\nimport { toAbsoluteUrl } from \"../../../../../../../../../_metronic/_helpers\";\nimport SVG from \"react-inlinesvg\";\nimport { allowOnlyNumeric, handlePasteDisable } from '../../../../../../../Util';\nimport { showError } from '../../../../../../../../pages/Alert';\n\nexport default function ProductsList({ totalCartQty, setTotalCartQty,\n    setDeliveryChallanList, deliveryChallanList, productList, setProductList, pickingId }) {\n    // const [batchStockData, setBatchStockData] = useState([]);\n    const handleResetChange = (pData) => {\n        const qtySelectedId = document.getElementById('qtySelected-' + pData.id);\n        const batchSelectedId = document.getElementById('batchId-' + pData.id);\n        qtySelectedId.value = \"\";\n        batchSelectedId.value = \"\";\n    }\n    const handlePlusChange = (pData) => {\n        const qtySelectedId = document.getElementById('qtySelected-' + pData.id);\n        let qtySelectedValue = parseInt(qtySelectedId.value);\n        const temp = [...productList]\n        const index = temp.findIndex((obj) => obj.id === pData.id);\n        temp[index].selectedQty = qtySelectedValue + 1;\n        setProductList(temp);\n    }\n    const handleMinusChange = (pData) => {\n        const qtySelectedId = document.getElementById('qtySelected-' + pData.id);\n        let qtySelectedValue = parseInt(qtySelectedId.value);\n        if (qtySelectedValue > 0) {\n            const temp = [...productList]\n            const index = temp.findIndex((obj) => obj.id === pData.id);\n            temp[index].selectedQty = qtySelectedValue - 1;\n            setProductList(temp);\n        }\n    }\n    const handleAddChange = (pData) => {\n        // PRODUCT LIST\n        const tempproductList = [...productList]\n        const productIndex = tempproductList.findIndex((data) => data.id === pData.id);\n\n        // GET BATCH INFO\n        const _batchId = document.getElementById('batchId-' + pData.id);\n        const batchIdValue = _batchId.options[_batchId.selectedIndex].value;\n        const batchName = _batchId.options[_batchId.selectedIndex].text;\n\n        // GET QTY MODE INFO\n        // const _qtyModeId = document.getElementById('qtyMode-' + pData.id);\n        // const qtyModeValue = _qtyModeId.options[_qtyModeId.selectedIndex].value;\n        // const qtyModeName = _qtyModeId.options[_qtyModeId.selectedIndex].text;\n\n        // SELECTED QTY\n        let qtySelectedValue = document.getElementById('qtySelected-' + pData.id).value;\n\n        let stockQuantityValue = document.getElementById('stockQuantityNum-' + pData.id).value;\n\n        const remainOrderQuantity = Number(pData.order_quantity) - (Number(pData.orderProductPickQuantity) +\n            Number(pData.order_challan_quantity));\n\n        const remainingPickQtyValue = Number(pData.picking_quantity) - Number(pData.picking_challan_quantity);\n\n        if (batchIdValue === null || batchIdValue === '') {\n            showError(\"Please select product batch\");\n            return;\n        }\n\n        if (Number(qtySelectedValue) === null || Number(qtySelectedValue) <= 0) {\n            showError(\"Please enter quantity\");\n            return;\n        }\n\n        if (Number(qtySelectedValue) > Number(stockQuantityValue)) {\n            showError(\"Quantity can't greater than Stock quantity\");\n            document.getElementById('qtySelected-' + pData.id).value = \"\";\n            return;\n        }\n\n        if (!pickingId) {\n            if (qtySelectedValue > remainOrderQuantity) {\n                document.getElementById('qtySelected-' + pData.id).value = \"\";\n                showError(\"Quantity can't greater than remaining quantity\");\n                return false;\n            }\n        }\n\n        else {\n            if (qtySelectedValue > remainingPickQtyValue) {\n                document.getElementById('qtySelected-' + pData.id).value = \"\";\n                showError(\"Quantity can't greater than remaining quantity\");\n                return false;\n            }\n        }\n\n        let qtySelectedValuePicking = 0;\n        let qtySelectedValueOrder = 0;\n\n        tempproductList[productIndex].orderQty = tempproductList[productIndex].orderQty - parseInt(qtySelectedValue);\n        tempproductList[productIndex].cartQty = tempproductList[productIndex].cartQty + parseInt(qtySelectedValue);\n        if (pickingId) {\n            qtySelectedValuePicking = qtySelectedValue;\n        }\n        else {\n            qtySelectedValueOrder = qtySelectedValue;\n        }\n        setProductList(tempproductList)\n\n        // DELIVERY CHALLAN LIST\n        const temp = [...deliveryChallanList]\n        const index = temp.findIndex((obj) => obj.pId === pData.id);\n\n        if (index > -1) {\n           \n            if (!pickingId) { console.log(\"FFFFF  \", pData)\n                let itemIndex = temp[index].batch.findIndex((batch) => batch.salesOrderDetailsId === pData.sales_order_details_id);\n                let orderIdIndex = temp[index].batch.findIndex((batch) => batch.orderId === pData.order_id);\n                let cartProductIndex = temp[index].batch.findIndex((batch) => batch.productId === pData.id\n                    && batch.batchId === batchIdValue);\n                \n                    let pickingIndex = temp[index].batch.findIndex((batch) => batch.pickingId === pData.picking_id);\n\n                console.log(\"pickingIndex  \", pickingIndex );\n\n                    console.log(\"itemIndex  \", itemIndex +\" orderIdIndex  \" +\n                    orderIdIndex +\" cartProductIndex  \" + \n                    cartProductIndex); \n                 \n                    console.log(\"sales_order_details_id  \", pData.sales_order_details_id +\" order_id  \" +\n                    pData.order_id +\" productId  \" + \n                    pData.id +\" batchIdValue  \" + batchIdValue);\n                if (itemIndex > -1 && cartProductIndex > -1 && orderIdIndex > -1 && pickingIndex >= 0) {\n                    showError(\"This batch already exits\")\n                    return;\n                }\n\n                //if (pData.pick_quantity && pData.pick_quantity > 0) {\n                    temp[index].cartQtyOrder = Number(temp[index].cartQtyOrder) + Number(parseInt(qtySelectedValue));\n                    console.log(\"temp[index].cartQtyOrder\", temp[index].cartQtyOrder);\n                    if (Number(temp[index].cartQtyOrder) > remainOrderQuantity) {\n                        document.getElementById('qtySelected-' + pData.id).value = \"\";\n                        showError(\"Quantity can't greater than remaining quantity\");\n                        temp[index].cartQtyOrder = Number(temp[index].cartQtyOrder) - Number(parseInt(qtySelectedValue));\n                        return;\n                    }\n                    else {\n                        tempproductList[productIndex].cartQtyOrder =\n                            tempproductList[productIndex].cartQtyOrder === undefined ? 0\n                                : Number(tempproductList[productIndex].cartQtyOrder) + parseInt(qtySelectedValue);\n                    }\n                //}\n            }\n            else {\n                let itemIndex = temp[index].batch.findIndex((batch) => batch.salesOrderDetailsId === pData.sales_order_details_id);\n                let orderIdIndex = temp[index].batch.findIndex((batch) => batch.orderId === pData.order_id);\n                let pickingIndex = temp[index].batch.findIndex((batch) => batch.pickingId === pData.picking_id\n                    && batch.batchId === batchIdValue);\n                if (pickingIndex > -1 && itemIndex > -1 && orderIdIndex > -1) {\n                    showError(\"This batch already exits\")\n                    return;\n                }\n\n                if (!pickingIndex > -1 && itemIndex > -1) {\n\n                    temp[index].cartQtyPicking = Number(temp[index].cartQtyPicking) + Number(parseInt(qtySelectedValue));\n                    if (Number(temp[index].cartQtyPicking) > remainingPickQtyValue) {\n                        document.getElementById('qtySelected-' + pData.id).value = \"\";\n                        showError(\"Quantity can't greater than remaining quantity\");\n                        temp[index].cartQtyPicking = Number(temp[index].cartQtyPicking) - Number(parseInt(qtySelectedValue));\n                        return;\n                    }\n                    else {\n                        tempproductList[productIndex].cartQtyPicking =\n                            tempproductList[productIndex].cartQtyPicking === undefined ? 0\n                                : Number(tempproductList[productIndex].cartQtyPicking) + parseInt(qtySelectedValue);\n                    }\n                }\n            }\n\n            temp[index].cartQty = Number(temp[index].cartQty) + Number(qtySelectedValue);\n            totalCartQty = Number(totalCartQty) + Number(qtySelectedValue);\n\n            temp[index].batch.push(\n                {\n                    \"salesOrderDetailsId\": pData.sales_order_details_id,\n                    \"pickingDetailsId\": pData.picking_details_id,\n                    \"productId\": pData.id,\n                    \"batchId\": batchIdValue,\n                    \"batchName\": batchName,\n                    \"quantity\": qtySelectedValue,\n                    \"pickingId\": pData.picking_id,\n                    \"orderId\": pData.order_id,\n                }\n            )\n\n        } else {\n            totalCartQty = Number(totalCartQty) + Number(qtySelectedValue);\n            temp.push({\n                \"pId\": pData.id,\n                \"orderNo\": pData.order_no,\n                \"orderAmount\": pData.order_amount,\n                \"productSku\": pData.product_sku,\n                \"productName\": pData.product_name,\n                \"category\": pData.category_name,\n                \"qty\": pData.order_quantity,\n                \"cartQty\": qtySelectedValue,\n                \"cartQtyPicking\": qtySelectedValuePicking,\n                \"cartQtyOrder\": qtySelectedValueOrder,\n                \"productCartQty\": tempproductList[productIndex].cartQty,\n                \"batch\": [\n                    {\n                        \"salesOrderDetailsId\": pData.sales_order_details_id,\n                        \"pickingDetailsId\": pData.picking_details_id,\n                        \"productId\": pData.id,\n                        \"batchId\": batchIdValue,\n                        \"batchName\": batchName,\n                        \"quantity\": qtySelectedValue,\n                        \"pickingId\": pData.picking_id,\n                        \"orderId\": pData.order_id,\n                    }\n                ]\n            })\n        }\n\n        setTotalCartQty(totalCartQty);\n        setDeliveryChallanList(temp);\n        document.getElementById('qtySelected-' + pData.id).value = \"\";\n    }\n\n    const selectProductBatch = (e, productId) => {\n\n        let id = document.getElementById(\"product-\" + productId + 'batch-' + e.target.value);\n        let batchData = [];\n        let stockIds = document.querySelectorAll('.stockQuantity-' + productId);\n        if (id) {\n            batchData = JSON.parse(id.getAttribute(\"data\"));\n\n            for (var n = 0; n < stockIds.length; ++n) {\n                stockIds[n].innerHTML = batchData.availableQuantity\n                // + '(UOM '\n                // + batchData.stock_quantity_in_uom + ' '\n                // + batchData.product_uom + ')';\n            }\n            document.getElementById('qtySelected-' + productId).focus();\n\n            document.getElementById('stockQuantityNum-' + productId).value =\n                batchData.availableQuantity !== null ? batchData.availableQuantity : 0;\n\n            document.getElementById('fromStoreId-' + productId).value = batchData.to_store_id;\n        }\n        else {\n            stockIds[0].value = '';\n            document.getElementById('stockQuantityNum-' + productId).value = '';\n            document.getElementById('fromStoreId-' + productId).value = '';\n        }\n    }\n\n    const handleQuantity = (product) => {\n        let qtySelectedValue = document.getElementById('qtySelected-' + product.id).value;\n\n        if((qtySelectedValue+'').match(/^0/)) {\n            document.getElementById('qtySelected-' + product.id).value=\"\";\n            return false;\n         }\n\n    }\n\n    return (\n        <>\n            {\n                productList.map((product, index) => (\n                    <Card className=\"mt-3\" key={product.sales_order_details_id}>\n                        <CardBody>\n\n                            {/* PRODUCT INFO ROW */}\n                            <div>\n                                <span className=\"float-right\">\n                                    <span className=\"text-muted mr-2\">Order Qty</span>\n                                    <span><strong className=\"h4\">{product.order_quantity}</strong></span><br />\n                                    {\n                                        pickingId !== \"\" ?\n                                            <span>\n                                                <span className=\"text-muted mr-2\">Picking Qty</span>\n                                                <span><strong className=\"h4\">{product.picking_quantity}</strong></span>\n                                            </span> :\n                                            <span>\n                                                <span className=\"text-muted mr-2\">At Picking</span>\n                                                <span><strong className=\"h4\">{Number(product.orderProductPickQuantity)}</strong></span>\n                                                {/* - product.picking_challan_quantity */}\n                                            </span>\n                                    }\n                                </span>\n                                <span className=\"text-muted\">{product.product_sku}</span><br />\n                                <strong>{product.product_name}</strong><br />\n                                <span className=\"text-muted\">{product.category_name}</span>\n                            </div>\n\n                            {/* SELECT BATCH AND QTY MODE ROW */}\n                            <div className=\"row mt-5\">\n                                <div className=\"col-xl-9\">\n                                    <div>\n                                        <label className='level-title'>Batch</label>\n                                        <select\n                                            id={\"batchId-\" + product.id}\n                                            name=\"batchIdArray\"\n                                            className=\"form-control\"\n                                            onChange={(e) => selectProductBatch(e, product.id)}\n                                        >\n                                            <option value=\"\">Please Select Batch</option>\n                                            {product.batchList.map((batch) => (\n                                                <option key={batch.batchId} id={\"product-\" + product.id + \"batch-\" + batch.batchId}\n                                                    value={batch.batchId} data={JSON.stringify(batch)}>\n                                                    {batch.batchNo}\n                                                </option>\n                                            ))}\n                                        </select>\n                                    </div>\n                                </div>\n                                {/* <div className=\"col-xl-3\">\n                                    <div>\n                                        <label className='level-title'>Qty. Mode</label>\n                                        <select\n                                            id={\"qtyMode-\" + product.id}\n                                            name=\"qtyMode\"\n                                            className=\"form-control\"\n                                        >\n                                            <option value=\"1\">Inner Pack</option>\n                                            <option value=\"2\">Outer Pack</option>\n                                        </select>\n                                    </div>\n                                </div> */}\n                            </div>\n\n                            {/* ORDER QTY ADD ROW */}\n                            <div className=\"mt-5 row\">\n                                <div className=\"col-xl-3  mt-5\">\n                                    <span className=\"text-muted mr-2\">Remaining Qty.</span>\n                                    {\n                                        pickingId === \"\" ?\n                                            <span>\n                                                {/* <input id={\"remainingQty-\" + product.id} type=\"hidden\"\n                                                    value={product.order_quantity - product.challan_quantity} /> */}\n                                                <strong className=\"h4\">{Number(product.order_quantity) - (Number(product.orderProductPickQuantity)\n                                                    + Number(product.order_challan_quantity) + Number(product.picking_challan_quantity))} </strong>\n                                            </span> :\n                                            <span>\n                                                {/* <input id={\"remainingQty-\" + product.id} type=\"hidden\"\n                                                    value={product.picking_quantity - product.challan_quantity} /> */}\n                                                <strong className=\"h4\">{Number(product.picking_quantity) - Number(product.picking_challan_quantity)} </strong>\n                                            </span>\n                                    }\n                                </div>\n                                <div className=\"col-xl-5 mt-3 text-center\">\n                                    {/* <span id={\"minusQty-\" + product.id} className=\"pointer border rounded pl-5 pr-5 pt-3 pb-3 mr-5\" onClick={() => handleMinusChange(product)}>-</span> */}\n                                    <span><input id={\"qtySelected-\" + product.id} type=\"text\" className=\"text-center w-75 h4 border rounded pl-5 pr-5 pt-3 pb-3 mr-5\"\n                                        onKeyPress={(e) => allowOnlyNumeric(e)} \n                                        onChange={(e) => handleQuantity(product)}\n                                        value={product.selectedQty} \n                                        onPaste={handlePasteDisable} maxLength={15}/>\n                                    </span>\n                                    {/* <span id={\"plusQty-\" + product.id} className=\"pointer border rounded pl-5 pr-5 pt-3 pb-3 mr-5\" onClick={() => handlePlusChange(product)}>+</span> */}\n                                </div>\n                                <div className=\"col-xl-4  mt-5\">\n                                    {\n                                        product.order_quantity === 0 ?\n                                            <span className=\"light-gray-bg dark-success-color rounded p-3 float-right\">\n                                                <strong>\n                                                    <SVG src={toAbsoluteUrl(\"/media/svg/icons/project-svg/approved-done.svg\")} />\n                                                    &nbsp;Added\n                                                </strong>\n                                            </span> :\n                                            <span className=\"float-right\">\n                                                {/* <button className=\"btn text-white mr-3 float-right\" style={{ background: \"#EB5757\" }} onClick={() => handleResetChange(product)}>\n                                                    Reset\n                                                </button> */}\n                                                <button className=\"btn text-white mr-3 float-right\" style={{ background: \"#6FCF97\" }} onClick={() => handleAddChange(product)}>\n                                                    <SVG src={toAbsoluteUrl(\"/media/svg/icons/project-svg/more.svg\")} />\n                                                    &nbsp;Add\n                                                </button>\n                                            </span>\n                                    }\n                                </div>\n                            </div>\n\n                            <div className=\"mt-5\" style={{ border: \"1px solid #6FCF97\", width: \"100%\" }}></div>\n\n                            {/* STOCK QTY ROW */}\n                            <div className=\"mt-3\">\n\n                                <input id={\"stockQuantityNum-\" + product.id} type=\"hidden\" />\n                                <input id={\"fromStoreId-\" + product.id} type=\"hidden\" />\n                                <span className=\"dark-success-color\" >\n                                    <SVG src={toAbsoluteUrl(\"/media/svg/icons/project-svg/total-green.svg\")} />\n                                    <strong> &nbsp;Stock Qty. </strong> <strong className={\"stockQuantity-\" + product.id} />\n                                </span>\n\n                            </div>\n\n                            {/* FREE QTY ROW */}\n                            {/*\n                                product.free_quantity === \"\" ? \"\" :\n                                    <div className=\"mt-3\">\n                                        <span className=\"mr-5\">\n                                            <SVG src={toAbsoluteUrl(\"/media/svg/icons/project-svg/free-gray.svg\")} />\n                                            <span className=\"text-muted\">&nbsp;Free Qty&nbsp;</span>\n                                            <strong>{product.free_quantity}</strong>\n                                        </span>\n                                    </div>\n                             */}\n                        </CardBody>\n                    </Card>\n                ))\n            }\n        </>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}