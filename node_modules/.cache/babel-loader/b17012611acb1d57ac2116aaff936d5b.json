{"ast":null,"code":"import _defineProperty from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/SalesCollection/Configure/trade-price-setup/common/TradePriceSetupHeader.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Card, CardBody } from \"../../../../../../_metronic/_partials/controls\";\nimport { useIntl } from \"react-intl\";\nimport axios from \"axios\";\nexport default function TradePriceSetupHeader(props) {\n  var _this = this;\n\n  var intl = useIntl();\n  var history = useHistory();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      companies = _useState2[0],\n      setCompanies = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchInputs = _useState4[0],\n      setSearchInputs = _useState4[1];\n\n  var _useState5 = useState({\n    products: 0\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      totals = _useState6[0],\n      setTotals = _useState6[1];\n\n  useEffect(function () {\n    getAllCompaniesByOrganization();\n  }, []);\n  useEffect(function () {\n    if (searchInputs.companyId === '' || searchInputs.companyId === undefined) {\n      setTotals({\n        products: 0\n      });\n    } else {\n      getTradePriceSumWithProductCountByCompany(searchInputs.companyId);\n    }\n\n    props.onChangeSearchInputs(searchInputs);\n  }, [searchInputs]);\n\n  var handleChange = function handleChange(event) {\n    var name = event.target.name;\n    var value = event.target.value;\n    setSearchInputs(function (values) {\n      return _objectSpread(_objectSpread({}, values), {}, _defineProperty({}, name, value));\n    });\n  };\n\n  var handleTradePriceSetupChange = function handleTradePriceSetupChange() {\n    history.push(\"/salescollection/configure/trade-price-setup/list\");\n  };\n\n  var getAllCompaniesByOrganization = function getAllCompaniesByOrganization() {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/organization/companies-by-login-user-organization\");\n    axios.get(URL).then(function (response) {\n      setCompanies(response.data.data);\n    });\n  };\n\n  var getTradePriceSumWithProductCountByCompany = function getTradePriceSumWithProductCountByCompany(companyId) {\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/product-trade-price/sum/\") + companyId;\n    axios.get(URL).then(function (response) {\n      var infos = response.data.data;\n      setTotals({\n        products: infos.product_count\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    style: {\n      marginBottom: \"-36px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"create-field-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, \"Trade Price Setup\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"d-flex float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-3 mt-3\",\n    style: {\n      color: \"rgb(130, 130, 130)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 37\n    }\n  }, intl.formatMessage({\n    id: \"COMMON.COMPANY\"\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-field-title mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control company-select\",\n    name: \"companyId\",\n    value: searchInputs.companyId || \"\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    className: \"fs-1\",\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 42\n    }\n  }, \"Select Company\"), companies.map(function (c) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: c.id,\n      value: c.id,\n      className: \"fs-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 45\n      }\n    }, c.name);\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5 ml-2 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sales-chip mt-5 mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-arrow-up-short text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 68\n    }\n  }), \"\\xA0\", totals.products, \"\\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 112\n    }\n  }, \"Products\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"nav nav-pills mb-3\",\n    id: \"pills-tab\",\n    role: \"tablist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    role: \"presentation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"nav-link\",\n    id: \"pills-configure-trade-price-setup-tab\",\n    \"data-toggle\": \"pill\",\n    href: \"#pills-configure-trade-price-setup\",\n    role: \"tab\",\n    \"aria-controls\": \"pills-configure-trade-price-setup\",\n    \"aria-selected\": \"false\",\n    onClick: handleTradePriceSetupChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }, \"Trade Price Setup\"))))))));\n}","map":{"version":3,"names":["React","useEffect","useState","useHistory","Card","CardBody","useIntl","axios","TradePriceSetupHeader","props","intl","history","companies","setCompanies","searchInputs","setSearchInputs","products","totals","setTotals","getAllCompaniesByOrganization","companyId","undefined","getTradePriceSumWithProductCountByCompany","onChangeSearchInputs","handleChange","event","name","target","value","values","handleTradePriceSetupChange","push","URL","process","env","REACT_APP_API_URL","get","then","response","data","infos","product_count","marginBottom","color","formatMessage","id","map","c"],"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/SalesCollection/Configure/trade-price-setup/common/TradePriceSetupHeader.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport {Card, CardBody} from \"../../../../../../_metronic/_partials/controls\";\nimport {useIntl} from \"react-intl\";\nimport axios from \"axios\";\n\nexport default function TradePriceSetupHeader(props) {\n    const intl = useIntl();\n    const history = useHistory();\n    const [companies, setCompanies] = useState([]);\n    const [searchInputs, setSearchInputs] = useState({});\n    const [totals, setTotals] = useState({products: 0});\n\n    useEffect(() => {\n        getAllCompaniesByOrganization();\n    }, []);\n\n    useEffect(() => {\n        if (searchInputs.companyId === '' || searchInputs.companyId === undefined) {\n            setTotals({products: 0});\n        } else {\n            getTradePriceSumWithProductCountByCompany(searchInputs.companyId);\n        }\n        props.onChangeSearchInputs(searchInputs);\n    }, [searchInputs]);\n\n    const handleChange = (event) => {\n        let name = event.target.name;\n        let value = event.target.value;\n        setSearchInputs(values => ({...values, [name]: value}));\n    }\n\n    const handleTradePriceSetupChange = () => {\n        history.push(\"/salescollection/configure/trade-price-setup/list\")\n    }\n\n    const getAllCompaniesByOrganization = () => {\n        const URL = `${process.env.REACT_APP_API_URL}/api/organization/companies-by-login-user-organization`;\n        axios.get(URL).then(response => {\n            setCompanies(response.data.data);\n        });\n    }\n\n    const getTradePriceSumWithProductCountByCompany = (companyId) => {\n        const URL = `${process.env.REACT_APP_API_URL}/api/product-trade-price/sum/` + companyId;\n        axios.get(URL).then(response => {\n            let infos = response.data.data;\n            setTotals({products: infos.product_count})\n        });\n    }\n\n    return (<>\n        {/* TODAY SALE ROW */}\n        <div className=\"mt-3\">\n            <Card>\n                <CardBody style={{marginBottom: \"-36px\"}}>\n                    <div>\n                        <span className=\"create-field-title\">Trade Price Setup</span>\n                        <span className=\"d-flex float-right\">\n                            <div className=\"mr-3 mt-3\" style={{color: \"rgb(130, 130, 130)\"}}>\n                                    <label>{intl.formatMessage({id: \"COMMON.COMPANY\"})}</label>\n                                </div>\n                                <div className=\"create-field-title mr-5\">\n                                    <select className=\"form-control company-select\" name=\"companyId\"\n                                            value={searchInputs.companyId || \"\"}\n                                            onChange={handleChange}>\n                                         <option className=\"fs-1\" value=\"\">Select Company</option>\n                                        {companies.map((c) => (\n                                            <option key={c.id} value={c.id} className=\"fs-1\">{c.name}</option>))}\n                                    </select>\n                                </div>\n                            </span>\n                    </div>\n                    <div className=\"mt-5 ml-2 row\">\n                            <span className=\"sales-chip mt-5 mr-5\"><i\n                                className=\"bi bi-arrow-up-short text-primary\"></i>&nbsp;{totals.products}&nbsp;<span\n                                className='text-muted'>Products</span></span>\n                    </div>\n                    <div className=\"mt-5\">\n                        <ul className=\"nav nav-pills mb-3\" id=\"pills-tab\" role=\"tablist\">\n                            <li className=\"nav-item\" role=\"presentation\">\n                                <a className=\"nav-link\" id=\"pills-configure-trade-price-setup-tab\"\n                                   data-toggle=\"pill\"\n                                   href=\"#pills-configure-trade-price-setup\" role=\"tab\"\n                                   aria-controls=\"pills-configure-trade-price-setup\" aria-selected=\"false\"\n                                   onClick={handleTradePriceSetupChange}>Trade Price Setup</a>\n                            </li>\n                        </ul>\n                    </div>\n                </CardBody>\n            </Card>\n        </div>\n    </>);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}