{"ast":null,"code":"import _defineProperty from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/ApprovalPath/approvalStepSetup/ApprovalStepCreate.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport Button from '@material-ui/core/Button';\nimport { CardBody } from \"../../../../_metronic/_partials/controls\";\nimport { ActionsColumnFormatter } from \"../ActionsColumnFormatter\";\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport IOSSwitch from \"../../../pages/IOSSwitch\";\nimport { NavLink } from \"react-router-dom\";\nimport { showError, showSuccess } from \"../../../pages/Alert\";\nimport axios from \"axios\";\nimport ApprovalPathBreadCrum from \"../bread-crum/ApprovalPathBreadCrum\";\nexport default function ApprovalStepCreate(props) {\n  var fields = {\n    id: null,\n    name: \"\",\n    description: \"\"\n  };\n\n  var _useState = useState(fields),\n      _useState2 = _slicedToArray(_useState, 2),\n      inputs = _useState2[0],\n      setInputs = _useState2[1];\n\n  useEffect(function () {\n    if (props.location.state) {\n      // console.log(props.location.state);\n      setInputs(props.location.state.data);\n    }\n  }, []);\n\n  var handleChange = function handleChange(event) {\n    var name = event.target.name;\n    var value = event.target.value;\n    setInputs(function (values) {\n      return _objectSpread(_objectSpread({}, values), {}, _defineProperty({}, name, value));\n    });\n  };\n\n  var createApprovalStep = function createApprovalStep() {\n    //alert('create..'); return;\n    if (!validate()) {\n      return false;\n    }\n\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/approval-step\");\n    axios.post(URL, inputs).then(function (response) {\n      if (response.data.success === true) {\n        showSuccess(response.data.message);\n        setInputs(fields);\n      } else {\n        showError(response.data.message);\n      }\n    }).catch(function (err) {\n      showError(err);\n    });\n  };\n\n  var updateApprovalStep = function updateApprovalStep() {\n    //alert('update..'); return;\n    if (!validate()) {\n      return false;\n    }\n\n    var URL = \"\".concat(process.env.REACT_APP_API_URL, \"/api/approval-step\");\n    axios.put(URL, inputs).then(function (response) {\n      if (response.data.success === true) {\n        showSuccess(response.data.message);\n        setInputs(fields);\n      } else {\n        showError(response.data.message);\n      }\n    }).catch(function (err) {\n      showError(err);\n    });\n  };\n\n  var validate = function validate() {\n    trimData();\n\n    if (!inputs.name) {\n      showError('Approval Step name is required.');\n      return false;\n    }\n\n    if (inputs.name.length > 20) {\n      showError('Approval Step name is Too Large.');\n      return false;\n    }\n\n    return true;\n  };\n\n  var trimData = function trimData() {\n    inputs.name = inputs.name.trim(); // inputs.description = inputs.description.trim();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ApprovalPathBreadCrum, {\n    menuTitle: \"Approval Step\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"create-field-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, \"Approval Step Setup\"), /*#__PURE__*/React.createElement(NavLink, {\n    className: \"float-right\",\n    to: \"/approval-path/approval-step-setup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bi bi-chevron-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 31\n    }\n  })), \"Back\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"level-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 29\n    }\n  }, \"Approval Step Name \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 79\n    }\n  }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"name\",\n    name: \"name\",\n    type: \"text\",\n    className: \"form-control\",\n    value: inputs.name || \"\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"level-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 29\n    }\n  }, \"Description\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-danger \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 71\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"description\",\n    name: \"description\",\n    type: \"text\",\n    className: \"form-control\",\n    value: inputs.description || \"\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    className: \"float-right\",\n    id: \"gotItBtn\",\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: inputs.id ? updateApprovalStep : createApprovalStep,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, inputs.id ? 'Update' : 'Create'))))));\n}","map":{"version":3,"names":["React","useEffect","useState","Card","Button","CardBody","ActionsColumnFormatter","FormControlLabel","IOSSwitch","NavLink","showError","showSuccess","axios","ApprovalPathBreadCrum","ApprovalStepCreate","props","fields","id","name","description","inputs","setInputs","location","state","data","handleChange","event","target","value","values","createApprovalStep","validate","URL","process","env","REACT_APP_API_URL","post","then","response","success","message","catch","err","updateApprovalStep","put","trimData","length","trim"],"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/ApprovalPath/approvalStepSetup/ApprovalStepCreate.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport Button from '@material-ui/core/Button';\nimport { CardBody } from \"../../../../_metronic/_partials/controls\";\nimport { ActionsColumnFormatter } from \"../ActionsColumnFormatter\";\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport IOSSwitch from \"../../../pages/IOSSwitch\";\nimport { NavLink } from \"react-router-dom\";\nimport { showError, showSuccess } from \"../../../pages/Alert\";\nimport axios from \"axios\";\nimport ApprovalPathBreadCrum from \"../bread-crum/ApprovalPathBreadCrum\";\n\nexport default function ApprovalStepCreate(props){\n    const fields = {\n        id: null,\n        name: \"\",\n        description: \"\",\n    }\n\n    const [inputs, setInputs] = useState(fields);\n\n    useEffect(() => {\n        if(props.location.state){\n            // console.log(props.location.state);\n            setInputs(props.location.state.data);\n        }        \n    },[])\n\n    const handleChange = (event) => {\n        let name = event.target.name;\n        let value = event.target.value;\n\n        setInputs(values => ({ ...values, [name]: value }));\n    }\n\n    const createApprovalStep = () => {//alert('create..'); return;\n        if(!validate()){\n            return false;\n        }\n\n        const URL = `${process.env.REACT_APP_API_URL}/api/approval-step`;\n        axios.post(URL, inputs).then(response => {\n            if (response.data.success === true) {\n                showSuccess(response.data.message);\n                setInputs(fields);\n            } else {\n                showError(response.data.message);\n            }\n        }).catch(err => {\n            showError(err);\n        });\n    }\n    \n    const updateApprovalStep = () => { //alert('update..'); return;\n        if(!validate()){\n            return false;\n        }\n\n        const URL = `${process.env.REACT_APP_API_URL}/api/approval-step`;\n        axios.put(URL, inputs).then(response => {\n            if (response.data.success === true) {\n                showSuccess(response.data.message);\n                setInputs(fields);\n            } else {\n                showError(response.data.message);\n            }\n        }).catch(err => {\n            showError(err);\n        });\n    }\n\n    const validate = () => {\n        trimData();\n        \n        if(!inputs.name){\n            showError('Approval Step name is required.');\n            return false;\n        }\n\n        if (inputs.name.length>20) {\n            showError('Approval Step name is Too Large.');\n            return false;\n        }\n\n        return true;\n    }\n\n    const trimData = () => {\n        inputs.name = inputs.name.trim();\n       // inputs.description = inputs.description.trim();\n    }\n\n    return (\n        <>\n        {/* BREAD CRUM ROW */}\n        <ApprovalPathBreadCrum menuTitle=\"Approval Step\" />\n        \n        <Card>\n            <CardBody>\n            <div className=\"row\">\n                <div className=\"col-lg-12\">                \n                    <span className=\"create-field-title\">Approval Step Setup</span>                       \n\n                    <NavLink className=\"float-right\" to=\"/approval-path/approval-step-setup\">\n                        <span><i className=\"bi bi-chevron-left\"></i></span>Back\n                    </NavLink>\n\n                    <div className='mt-5 row'>\n                        <div className='col-xl-6'>\n                            <label className='level-title'>Approval Step Name <span className=\"text-danger \">*</span></label>\n                            <input id=\"name\" name=\"name\" type=\"text\" className='form-control' \n                                value={inputs.name || \"\"} onChange={handleChange}></input>\n                        </div>                  \n                    </div>\n                    <div className='mt-5 row'>\n                        <div className='col-xl-6'>\n                            <label className='level-title'>Description<span className=\"text-danger \"></span></label>\n                            <input id=\"description\" name=\"description\" type=\"text\" className='form-control' \n                                value={inputs.description || \"\"} onChange={handleChange}></input>\n                        </div>                   \n                    </div>\n\n                    <Button className=\"float-right\" id=\"gotItBtn\" variant=\"contained\" color=\"primary\"\n                        onClick={inputs.id ? updateApprovalStep : createApprovalStep}>\n                        {inputs.id ? 'Update' : 'Create'}\n                    </Button>\n                    \n                </div>\n            </div>\n            </CardBody>\n        </Card>\n    </>);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}