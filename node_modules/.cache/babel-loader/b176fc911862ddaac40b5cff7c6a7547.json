{"ast":null,"code":"import _classCallCheck from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar MockUtils = /*#__PURE__*/function () {\n  function MockUtils() {\n    _classCallCheck(this, MockUtils);\n  }\n\n  _createClass(MockUtils, [{\n    key: \"baseFilter\",\n    value:\n    /**\r\n     * Filtration with sorting\r\n     * First do Sort then filter\r\n     *\r\n     * @param _entities: any[]\r\n     * @param _queryParams: QueryParamsModel\r\n     * @param _filtrationFields: string[]\r\n     */\n    function baseFilter(_entities, _queryParams) {\n      var _filtrationFields = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n      // Filtration\n      var entitiesResult = this.searchInArray(_entities, _queryParams.filter, _filtrationFields); // Sorting\n      // start\n\n      if (_queryParams.sortField) {\n        entitiesResult = this.sortArray(entitiesResult, _queryParams.sortField, _queryParams.sortOrder);\n      } // end\n      // Paginator\n      // start\n\n\n      var pageNumber = _queryParams.pageNumber - 1;\n      var totalCount = entitiesResult.length;\n      var initialPos = pageNumber * _queryParams.pageSize;\n      entitiesResult = entitiesResult.slice(initialPos, initialPos + _queryParams.pageSize); // end\n\n      var queryResults = {\n        entities: entitiesResult,\n        totalCount: totalCount,\n        errorMessage: \"\"\n      };\n      return queryResults;\n    }\n    /**\r\n     * Sort array by field name and order-type\r\n     * @param _incomingArray: any[]\r\n     * @param _sortField: string\r\n     * @param _sortOrder: string\r\n     */\n\n  }, {\n    key: \"sortArray\",\n    value: function sortArray(_incomingArray) {\n      var _sortField = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\n      var _sortOrder = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"asc\";\n\n      if (!_sortField) {\n        return _incomingArray;\n      }\n\n      var result = [];\n      result = _incomingArray.sort(function (a, b) {\n        if (a[_sortField] < b[_sortField]) {\n          return _sortOrder === \"asc\" ? -1 : 1;\n        }\n\n        if (a[_sortField] > b[_sortField]) {\n          return _sortOrder === \"asc\" ? 1 : -1;\n        }\n\n        return 0;\n      });\n      return result;\n    }\n    /**\r\n     * Filter array by some fields\r\n     *\r\n     * @param _incomingArray: any[]\r\n     * @param _queryObj: any\r\n     * @param _filtrationFields: string[]\r\n     */\n\n  }, {\n    key: \"searchInArray\",\n    value: function searchInArray(_incomingArray, _queryObj) {\n      var _filtrationFields = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n      var result = [];\n      var resultBuffer = [];\n      var indexes = [];\n      var firstIndexes = [];\n      var doSearch = false;\n\n      _filtrationFields.forEach(function (item) {\n        if (item in _queryObj) {\n          _incomingArray.forEach(function (element, index) {\n            if (element[item] === _queryObj[item]) {\n              firstIndexes.push(index);\n            }\n          });\n\n          firstIndexes.forEach(function (element) {\n            resultBuffer.push(_incomingArray[element]);\n          });\n          _incomingArray = resultBuffer.slice(0);\n          resultBuffer = [].slice(0);\n          firstIndexes = [].slice(0);\n        }\n      });\n\n      Object.keys(_queryObj).forEach(function (key) {\n        var searchText = _queryObj[key].toString().trim().toLowerCase();\n\n        if (key && !_filtrationFields.some(function (e) {\n          return e === key;\n        }) && searchText) {\n          doSearch = true;\n\n          try {\n            _incomingArray.forEach(function (element, index) {\n              if (element[key] || element[key] === 0 && searchText === \"0\") {\n                var _val = element[key].toString().trim().toLowerCase();\n\n                if (_val.indexOf(searchText) > -1 && indexes.indexOf(index) === -1) {\n                  indexes.push(index);\n                }\n              }\n            });\n          } catch (ex) {\n            console.log(ex, key, searchText);\n          }\n        }\n      });\n\n      if (!doSearch) {\n        return _incomingArray;\n      }\n\n      indexes.forEach(function (re) {\n        result.push(_incomingArray[re]);\n      });\n      return result;\n    }\n  }]);\n\n  return MockUtils;\n}();\n\nexport { MockUtils as default };","map":{"version":3,"names":["MockUtils","_entities","_queryParams","_filtrationFields","entitiesResult","searchInArray","filter","sortField","sortArray","sortOrder","pageNumber","totalCount","length","initialPos","pageSize","slice","queryResults","entities","errorMessage","_incomingArray","_sortField","_sortOrder","result","sort","a","b","_queryObj","resultBuffer","indexes","firstIndexes","doSearch","forEach","item","element","index","push","Object","keys","key","searchText","toString","trim","toLowerCase","some","e","_val","indexOf","ex","console","log","re"],"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/ECommerce/__mocks__/mock.utils.js"],"sourcesContent":["export default class MockUtils {\r\n  /**\r\n   * Filtration with sorting\r\n   * First do Sort then filter\r\n   *\r\n   * @param _entities: any[]\r\n   * @param _queryParams: QueryParamsModel\r\n   * @param _filtrationFields: string[]\r\n   */\r\n  baseFilter(_entities, _queryParams, _filtrationFields = []) {\r\n    // Filtration\r\n    let entitiesResult = this.searchInArray(\r\n      _entities,\r\n      _queryParams.filter,\r\n      _filtrationFields\r\n    );\r\n\r\n    // Sorting\r\n    // start\r\n    if (_queryParams.sortField) {\r\n      entitiesResult = this.sortArray(\r\n        entitiesResult,\r\n        _queryParams.sortField,\r\n        _queryParams.sortOrder\r\n      );\r\n    }\r\n    // end\r\n\r\n    // Paginator\r\n    // start\r\n    const pageNumber = _queryParams.pageNumber - 1;\r\n    const totalCount = entitiesResult.length;\r\n    const initialPos = pageNumber * _queryParams.pageSize;\r\n    entitiesResult = entitiesResult.slice(\r\n      initialPos,\r\n      initialPos + _queryParams.pageSize\r\n    );\r\n    // end\r\n\r\n    const queryResults = {\r\n      entities: entitiesResult,\r\n      totalCount: totalCount,\r\n      errorMessage: \"\"\r\n    };\r\n    return queryResults;\r\n  }\r\n\r\n  /**\r\n   * Sort array by field name and order-type\r\n   * @param _incomingArray: any[]\r\n   * @param _sortField: string\r\n   * @param _sortOrder: string\r\n   */\r\n  sortArray(_incomingArray, _sortField = \"\", _sortOrder = \"asc\") {\r\n    if (!_sortField) {\r\n      return _incomingArray;\r\n    }\r\n\r\n    let result = [];\r\n    result = _incomingArray.sort((a, b) => {\r\n      if (a[_sortField] < b[_sortField]) {\r\n        return _sortOrder === \"asc\" ? -1 : 1;\r\n      }\r\n\r\n      if (a[_sortField] > b[_sortField]) {\r\n        return _sortOrder === \"asc\" ? 1 : -1;\r\n      }\r\n\r\n      return 0;\r\n    });\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Filter array by some fields\r\n   *\r\n   * @param _incomingArray: any[]\r\n   * @param _queryObj: any\r\n   * @param _filtrationFields: string[]\r\n   */\r\n  searchInArray(_incomingArray, _queryObj, _filtrationFields = []) {\r\n    const result = [];\r\n    let resultBuffer = [];\r\n    const indexes = [];\r\n    let firstIndexes = [];\r\n    let doSearch = false;\r\n\r\n    _filtrationFields.forEach(item => {\r\n      if (item in _queryObj) {\r\n        _incomingArray.forEach((element, index) => {\r\n          if (element[item] === _queryObj[item]) {\r\n            firstIndexes.push(index);\r\n          }\r\n        });\r\n        firstIndexes.forEach(element => {\r\n          resultBuffer.push(_incomingArray[element]);\r\n        });\r\n        _incomingArray = resultBuffer.slice(0);\r\n        resultBuffer = [].slice(0);\r\n        firstIndexes = [].slice(0);\r\n      }\r\n    });\r\n\r\n    Object.keys(_queryObj).forEach(key => {\r\n      const searchText = _queryObj[key]\r\n        .toString()\r\n        .trim()\r\n        .toLowerCase();\r\n      if (key && !_filtrationFields.some(e => e === key) && searchText) {\r\n        doSearch = true;\r\n        try {\r\n          _incomingArray.forEach((element, index) => {\r\n            if (element[key] || (element[key] === 0 && searchText === \"0\")) {\r\n              const _val = element[key]\r\n                .toString()\r\n                .trim()\r\n                .toLowerCase();\r\n              if (\r\n                _val.indexOf(searchText) > -1 &&\r\n                indexes.indexOf(index) === -1\r\n              ) {\r\n                indexes.push(index);\r\n              }\r\n            }\r\n          });\r\n        } catch (ex) {\r\n          console.log(ex, key, searchText);\r\n        }\r\n      }\r\n    });\r\n\r\n    if (!doSearch) {\r\n      return _incomingArray;\r\n    }\r\n\r\n    indexes.forEach(re => {\r\n      result.push(_incomingArray[re]);\r\n    });\r\n\r\n    return result;\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}