{"ast":null,"code":"var _jsxFileName = \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Inventory/Stock/tabs/stock-transfer/sub-tabs/stock-send/create-stock-send/BatchList.js\";\nimport React, { useState } from \"react\";\nimport { toAbsoluteUrl } from \"../../../../../../../../../_metronic/_helpers\";\nimport SVG from \"react-inlinesvg\";\nimport { Card } from \"react-bootstrap\";\nimport { CardBody } from \"../../../../../../../../../_metronic/_partials/controls\";\nimport { allowOnlyNumeric } from \"../../../../../../../Util\";\nimport { showError } from \"../../../../../../../../pages/Alert\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { TextField } from \"@material-ui/core\";\nimport axios from \"axios\";\nexport default function BatchList(_ref) {\n  var _this = this;\n\n  var selectedProductInfo = _ref.selectedProductInfo,\n      handleTransfer = _ref.handleTransfer,\n      batchInfo = _ref.batchInfo,\n      setBatchInfo = _ref.setBatchInfo,\n      value = _ref.value,\n      setValue = _ref.setValue,\n      batchNoList = _ref.batchNoList,\n      storeWiseBatchDataSource = _ref.storeWiseBatchDataSource;\n\n  var handleTransferQuantity = function handleTransferQuantity(batch) {\n    var quantity = document.getElementById('batch-qty-id').value;\n    console.log(\"Batch\", batch);\n\n    if (quantity > batch.availableStockQuantity) {\n      showError(\"Transfer Quantity Exceeds Stock Quantity\");\n      document.getElementById('batch-qty-id').value = '';\n      return false;\n    }\n\n    if (quantity === undefined || quantity === \"\") {\n      batch.addToCart = false;\n    } else {\n      batch.transferQuantity = quantity;\n      batch.availableStockQuantity = batch.availableStockQuantity; //batch.addToCart = true\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"mt-5\",\n    id: \"autocomplete-id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Autocomplete, {\n    options: batchNoList,\n    onKeyUp: storeWiseBatchDataSource,\n    getOptionLabel: function getOptionLabel(option) {\n      return option.batchNo;\n    },\n    value: value,\n    onChange: function onChange(event, newValue) {\n      if (newValue) {\n        setValue(newValue);\n        setBatchInfo(newValue); //setAvailableStockQuantity(newValue.availableStockQuantity);\n      }\n    },\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n        label: \"Batch\",\n        id: \"batch-search\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 49\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Card, {\n    className: \"mt-5  pt-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 33\n    }\n  }, batchInfo.addToCart ? /*#__PURE__*/React.createElement(\"span\", {\n    id: \"transferred-id-\",\n    className: \"float-right light-success-bg dark-success-color p-3 mt-n3 rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 41\n    }\n  }, \"Transferred\") : /*#__PURE__*/React.createElement(\"span\", {\n    id: \"transfer-id-\",\n    className: \"float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn text-white float-right mt-n3\",\n    style: {\n      background: \"#6FCF97\"\n    },\n    onClick: function onClick(e) {\n      return handleTransfer(batchInfo, selectedProductInfo, e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(SVG, {\n    src: toAbsoluteUrl(\"/media/svg/icons/project-svg/white-receive.svg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 49\n    }\n  }), \"\\xA0Transfer\"))), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-muted mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 37\n    }\n  }, \"Batch No:\"), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 37\n    }\n  }, batchInfo.batchNo)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 40\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-muted mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 37\n    }\n  }, \"Batch Qty:\"), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 37\n    }\n  }, batchInfo.batchQuantity)), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 40\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-muted mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 37\n    }\n  }, \"Stock Qty:\"), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 37\n    }\n  }, batchInfo.availableStockQuantity))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    required: true,\n    id: \"batch-qty-id\",\n    onKeyPress: function onKeyPress(e) {\n      return allowOnlyNumeric(e);\n    },\n    onChange: function onChange(e) {\n      return handleTransferQuantity(batchInfo);\n    },\n    className: \"mt-n5 border w-100 rounded p-3\",\n    placeholder: \"Transfer QTY.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 41\n    }\n  }))))))));\n}","map":{"version":3,"names":["React","useState","toAbsoluteUrl","SVG","Card","CardBody","allowOnlyNumeric","showError","Autocomplete","TextField","axios","BatchList","selectedProductInfo","handleTransfer","batchInfo","setBatchInfo","value","setValue","batchNoList","storeWiseBatchDataSource","handleTransferQuantity","batch","quantity","document","getElementById","console","log","availableStockQuantity","undefined","addToCart","transferQuantity","option","batchNo","event","newValue","params","background","e","batchQuantity"],"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Inventory/Stock/tabs/stock-transfer/sub-tabs/stock-send/create-stock-send/BatchList.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { toAbsoluteUrl } from \"../../../../../../../../../_metronic/_helpers\";\nimport SVG from \"react-inlinesvg\";\nimport { Card } from \"react-bootstrap\";\nimport { CardBody } from \"../../../../../../../../../_metronic/_partials/controls\";\nimport { allowOnlyNumeric } from \"../../../../../../../Util\";\nimport { showError } from \"../../../../../../../../pages/Alert\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport { TextField } from \"@material-ui/core\";\nimport axios from \"axios\";\nexport default function BatchList({selectedProductInfo, handleTransfer, \n    batchInfo, setBatchInfo, value, setValue, batchNoList, storeWiseBatchDataSource}) {\n   \n    const handleTransferQuantity = (batch) => {\n      \n        const quantity = document.getElementById('batch-qty-id').value\n        console.log(\"Batch\",batch)\n\n        if(quantity > batch.availableStockQuantity) {\n            showError(\"Transfer Quantity Exceeds Stock Quantity\")\n            document.getElementById('batch-qty-id').value='';\n            return false;\n        }\n        if(quantity === undefined || quantity === \"\") {\n            \n            batch.addToCart = false\n        } else {\n\n            batch.transferQuantity = quantity\n            batch.availableStockQuantity = batch.availableStockQuantity;\n            //batch.addToCart = true\n        }\n        \n    } \n\n    return (\n        <>\n            {/* {batchList.map((batch, index) => ( */}\n                \n                <div>\n                    <Card className=\"mt-5\" id=\"autocomplete-id\">\n                        <CardBody>\n                                <Autocomplete\n                                            options={batchNoList}\n                                            onKeyUp={storeWiseBatchDataSource}\n                                            getOptionLabel={(option) => option.batchNo}\n                                            value={value}\n                                            onChange={(event, newValue) => {\n                                                if (newValue) {\n                                                    setValue(newValue)\n                                                    setBatchInfo(newValue);\n                                                    //setAvailableStockQuantity(newValue.availableStockQuantity);\n                                                }\n                                            }}\n                                            renderInput={(params) => (\n                                                <TextField {...params} label=\"Batch\" id=\"batch-search\" />\n                                            )}\n                                />          \n                        </CardBody>          \n                    </Card>\n                    <Card className=\"mt-5  pt-3 \">\n                        <CardBody>\n                            {/* BATCH INFO ROW */}\n                            <div>\n                                <span className=\"float-right\">\n                                    {\n                                        batchInfo.addToCart ?\n                                        <span id=\"transferred-id-\" className=\"float-right light-success-bg dark-success-color p-3 mt-n3 rounded\">Transferred</span> :\n                                        <span id=\"transfer-id-\" className=\"float-right\">\n                                            <button className=\"btn text-white float-right mt-n3\" style={{ background: \"#6FCF97\" }} onClick={(e) => handleTransfer(batchInfo, selectedProductInfo,e)}>\n                                                <SVG src={toAbsoluteUrl(\"/media/svg/icons/project-svg/white-receive.svg\")} />\n                                                &nbsp;Transfer\n                                            </button>\n                                        </span>\n                                    }\n                                </span>\n                                <span>\n                                    <span className=\"text-muted mr-2\">Batch No:</span>\n                                    <strong>{batchInfo.batchNo}</strong>\n                                </span><br />\n                                <span>\n                                    <span className=\"text-muted mr-2\">Batch Qty:</span>\n                                    <strong>{batchInfo.batchQuantity}</strong>\n                                </span><br />\n                                <span>\n                                    <span className=\"text-muted mr-2\">Stock Qty:</span>\n                                    <strong>{batchInfo.availableStockQuantity}</strong>\n                                </span>\n                            </div>\n                            {/* PROPOSED QTY ROW */}\n                            <div className=\"mt-5 row\">\n                                <div className=\"col-6 mt-5\">\n                                    <span>\n                                        <input type=\"text\" required id=\"batch-qty-id\" onKeyPress={(e) => allowOnlyNumeric(e)}  onChange={(e) => handleTransferQuantity(batchInfo)} className=\"mt-n5 border w-100 rounded p-3\" placeholder=\"Transfer QTY.\" />\n                                    </span>\n                                </div>\n                                    {/* <div className=\"col-6 mt-1\">\n                                        <span className=\"rounded p-3 float-right\">\n                                            <SVG className=\"mr-2\" src={toAbsoluteUrl(\"/media/svg/icons/project-svg/price-gray.svg\")} />\n                                            <span className=\"text-muted mr-2\">Rate</span>\n                                            <strong>500</strong>\n                                        </span>\n                                    </div> */}\n                            </div>\n                        </CardBody>\n                    </Card>\n                </div>\n            {/* ))} */}\n        </>\n    );\n}"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,aAAT,QAA8B,+CAA9B;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,SAASC,QAAT,QAAyB,yDAAzB;AACA,SAASC,gBAAT,QAAiC,2BAAjC;AACA,SAASC,SAAT,QAA0B,qCAA1B;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAe,SAASC,SAAT,OACuE;EAAA;;EAAA,IADnDC,mBACmD,QADnDA,mBACmD;EAAA,IAD9BC,cAC8B,QAD9BA,cAC8B;EAAA,IAAlFC,SAAkF,QAAlFA,SAAkF;EAAA,IAAvEC,YAAuE,QAAvEA,YAAuE;EAAA,IAAzDC,KAAyD,QAAzDA,KAAyD;EAAA,IAAlDC,QAAkD,QAAlDA,QAAkD;EAAA,IAAxCC,WAAwC,QAAxCA,WAAwC;EAAA,IAA3BC,wBAA2B,QAA3BA,wBAA2B;;EAElF,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,KAAD,EAAW;IAEtC,IAAMC,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCR,KAAzD;IACAS,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBL,KAApB;;IAEA,IAAGC,QAAQ,GAAGD,KAAK,CAACM,sBAApB,EAA4C;MACxCpB,SAAS,CAAC,0CAAD,CAAT;MACAgB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCR,KAAxC,GAA8C,EAA9C;MACA,OAAO,KAAP;IACH;;IACD,IAAGM,QAAQ,KAAKM,SAAb,IAA0BN,QAAQ,KAAK,EAA1C,EAA8C;MAE1CD,KAAK,CAACQ,SAAN,GAAkB,KAAlB;IACH,CAHD,MAGO;MAEHR,KAAK,CAACS,gBAAN,GAAyBR,QAAzB;MACAD,KAAK,CAACM,sBAAN,GAA+BN,KAAK,CAACM,sBAArC,CAHG,CAIH;IACH;EAEJ,CApBD;;EAsBA,oBACI,uDAGQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,IAAD;IAAM,SAAS,EAAC,MAAhB;IAAuB,EAAE,EAAC,iBAA1B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,QAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACQ,oBAAC,YAAD;IACY,OAAO,EAAET,WADrB;IAEY,OAAO,EAAEC,wBAFrB;IAGY,cAAc,EAAE,wBAACY,MAAD;MAAA,OAAYA,MAAM,CAACC,OAAnB;IAAA,CAH5B;IAIY,KAAK,EAAEhB,KAJnB;IAKY,QAAQ,EAAE,kBAACiB,KAAD,EAAQC,QAAR,EAAqB;MAC3B,IAAIA,QAAJ,EAAc;QACVjB,QAAQ,CAACiB,QAAD,CAAR;QACAnB,YAAY,CAACmB,QAAD,CAAZ,CAFU,CAGV;MACH;IACJ,CAXb;IAYY,WAAW,EAAE,qBAACC,MAAD;MAAA,oBACT,oBAAC,SAAD,oBAAeA,MAAf;QAAuB,KAAK,EAAC,OAA7B;QAAqC,EAAE,EAAC,cAAxC;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GADS;IAAA,CAZzB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADR,CADJ,CADJ,eAqBI,oBAAC,IAAD;IAAM,SAAS,EAAC,aAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,QAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAEI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAM,SAAS,EAAC,aAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEQrB,SAAS,CAACe,SAAV,gBACA;IAAM,EAAE,EAAC,iBAAT;IAA2B,SAAS,EAAC,mEAArC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,iBADA,gBAEA;IAAM,EAAE,EAAC,cAAT;IAAwB,SAAS,EAAC,aAAlC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAQ,SAAS,EAAC,kCAAlB;IAAqD,KAAK,EAAE;MAAEO,UAAU,EAAE;IAAd,CAA5D;IAAuF,OAAO,EAAE,iBAACC,CAAD;MAAA,OAAOxB,cAAc,CAACC,SAAD,EAAYF,mBAAZ,EAAgCyB,CAAhC,CAArB;IAAA,CAAhG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI,oBAAC,GAAD;IAAK,GAAG,EAAEnC,aAAa,CAAC,gDAAD,CAAvB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADJ,iBADJ,CAJR,CADJ,eAaI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAM,SAAS,EAAC,iBAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,eADJ,eAEI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAASY,SAAS,CAACkB,OAAnB,CAFJ,CAbJ,eAgBW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAhBX,eAiBI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAM,SAAS,EAAC,iBAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBADJ,eAEI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAASlB,SAAS,CAACwB,aAAnB,CAFJ,CAjBJ,eAoBW;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EApBX,eAqBI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAM,SAAS,EAAC,iBAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBADJ,eAEI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAASxB,SAAS,CAACa,sBAAnB,CAFJ,CArBJ,CAFJ,eA6BI;IAAK,SAAS,EAAC,UAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAK,SAAS,EAAC,YAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAO,IAAI,EAAC,MAAZ;IAAmB,QAAQ,MAA3B;IAA4B,EAAE,EAAC,cAA/B;IAA8C,UAAU,EAAE,oBAACU,CAAD;MAAA,OAAO/B,gBAAgB,CAAC+B,CAAD,CAAvB;IAAA,CAA1D;IAAuF,QAAQ,EAAE,kBAACA,CAAD;MAAA,OAAOjB,sBAAsB,CAACN,SAAD,CAA7B;IAAA,CAAjG;IAA2I,SAAS,EAAC,gCAArJ;IAAsL,WAAW,EAAC,eAAlM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADJ,CADJ,CADJ,CA7BJ,CADJ,CArBJ,CAHR,CADJ;AA2EH"},"metadata":{},"sourceType":"module"}