{"ast":null,"code":"import _toConsumableArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Common/DistributorList.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { showError } from \"../../pages/Alert\";\nimport axios from \"axios\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { TextField } from \"@material-ui/core\";\nexport default function DistributorList(props) {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      distributors = _useState2[0],\n      setDistributors = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      distributorValue = _useState4[0],\n      setDistributorValue = _useState4[1]; // useEffect(() => {\n  //     getAllDistributors()\n  // }, []);\n\n\n  useEffect(function () {\n    getAllDistributors(props.companyIdPass, props.salesOfficerIdsPass);\n  }, [props.companyIdPass, props.salesOfficerIdsPass]);\n\n  var getAllDistributors = function getAllDistributors(companyId, salesOfficerIds) {\n    var queryString = \"?\";\n    queryString += \"companyId=\" + companyId;\n    queryString += '&salesOfficerIds=' + salesOfficerIds;\n    console.log(\"queryString ==========\", queryString); // const URL = `${process.env.REACT_APP_API_URL}/api/distributor/get-distributor-list-company` + queryString;\n    // axios.get(URL).then(response => {\n    //     setDistributors(response.data.data);\n    // });\n  };\n\n  var deleteDistributor = function deleteDistributor(data) {\n    var temp = _toConsumableArray(props.distributorListPass);\n\n    var index = temp.findIndex(function (obj) {\n      return obj.distributorId === data.distributorId;\n    });\n    temp.splice(index, 1);\n    props.setDistributorListPass(temp);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-5 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col-lg-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"level-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 48\n    }\n  }, \"Distributor\")), /*#__PURE__*/React.createElement(Autocomplete, {\n    name: \"distributorId\",\n    options: distributors,\n    getOptionLabel: function getOptionLabel(option) {\n      return option.distributorName;\n    },\n    value: distributorValue,\n    onChange: function onChange(event, newValue) {\n      setDistributorValue(newValue);\n\n      if (newValue !== null) {\n        if (props.distributorListPass.length > 0) {\n          var temp = _toConsumableArray(props.distributorListPass);\n\n          var index = temp.findIndex(function (data) {\n            return data.distributorId === newValue.distributorId;\n          });\n\n          if (index > -1) {\n            showError(\"This user already used\");\n            return;\n          } else {\n            temp.push({\n              \"distributorId\": newValue.distributorId,\n              \"distributorName\": newValue.distributorName\n            });\n            props.setDistributorListPass(temp);\n          }\n        } else {\n          var _temp = _toConsumableArray(props.distributorListPass);\n\n          _temp.push({\n            \"distributorId\": newValue.distributorId,\n            \"distributorName\": newValue.distributorName\n          });\n\n          props.setDistributorListPass(_temp);\n        }\n      }\n    },\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n        label: \"Select Distributor*\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    style: {\n      border: \"none\",\n      padding: \"0 3px 3px 3px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, props.distributorListPass.length > 0 ? props.distributorListPass.map(function (data) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, data.id !== \"\" ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mt-3 mr-5 areaLevel\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    }, data.distributorName, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"deleteIcon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"fa fa-times text-white delete-file\",\n      onClick: function onClick() {\n        return deleteDistributor(data);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 45\n      }\n    }))) : \"\");\n  }) : \"\"));\n}","map":{"version":3,"names":["React","useEffect","useState","showError","axios","Autocomplete","TextField","DistributorList","props","distributors","setDistributors","distributorValue","setDistributorValue","getAllDistributors","companyIdPass","salesOfficerIdsPass","companyId","salesOfficerIds","queryString","console","log","deleteDistributor","data","temp","distributorListPass","index","findIndex","obj","distributorId","splice","setDistributorListPass","option","distributorName","event","newValue","length","push","params","border","padding","map","id"],"sources":["/home/sunipa/projects/sncworkspace/ntl-snc_frontend/src/app/modules/Common/DistributorList.js"],"sourcesContent":["\nimport React, { useEffect, useState } from \"react\";\nimport { showError } from \"../../pages/Alert\";\nimport axios from \"axios\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { TextField } from \"@material-ui/core\";\n\nexport default function DistributorList(props) {\n    const [distributors, setDistributors] = useState([]);\n    const [distributorValue, setDistributorValue] = useState(null);\n\n    // useEffect(() => {\n    //     getAllDistributors()\n    // }, []);\n    \n    useEffect(() => {\n        getAllDistributors(props.companyIdPass,props.salesOfficerIdsPass)\n    }, [props.companyIdPass,props.salesOfficerIdsPass]);\n\n    const getAllDistributors = (companyId, salesOfficerIds) => {\n        let queryString = \"?\";\n        queryString += \"companyId=\" + companyId;\n        queryString += '&salesOfficerIds=' + salesOfficerIds;\n        console.log(\"queryString ==========\", queryString)\n        // const URL = `${process.env.REACT_APP_API_URL}/api/distributor/get-distributor-list-company` + queryString;\n        // axios.get(URL).then(response => {\n        //     setDistributors(response.data.data);\n        // });\n    }\n    const deleteDistributor = (data) => {\n        const temp = [...props.distributorListPass]\n        const index = temp.findIndex(obj => obj.distributorId === data.distributorId);\n        temp.splice(index, 1);\n        props.setDistributorListPass(temp)\n    }\n    return (\n        <>\n            <div className='mt-5 row'>\n                <div className=\"form-group col-lg-8\">\n                <label className='level-title'><span className=\"mr-1\">Distributor</span></label>\n                <Autocomplete\n                    name=\"distributorId\"\n                    options={distributors}\n                    getOptionLabel={(option) => option.distributorName}\n                    value={distributorValue}\n                    onChange={(event, newValue) => {\n                        setDistributorValue(newValue)\n                        if (newValue !== null) {\n                            if (props.distributorListPass.length > 0) {\n                                let temp = [...props.distributorListPass]\n                                const index = temp.findIndex(data => data.distributorId === newValue.distributorId);\n                                if (index > -1) {\n                                    showError(\"This user already used\");\n                                    return;\n                                } else {\n                                    temp.push({\n                                        \"distributorId\": newValue.distributorId,\n                                        \"distributorName\": newValue.distributorName\n\n                                    })\n                                    props.setDistributorListPass(temp)\n                                }\n                            } else {\n                                const temp = [...props.distributorListPass]\n                                temp.push({\n                                    \"distributorId\": newValue.distributorId,\n                                    \"distributorName\": newValue.distributorName\n\n                                })\n                                props.setDistributorListPass(temp)\n                            }\n                        }\n                    }}\n                    renderInput={(params) => (\n                        <TextField {...params} label=\"Select Distributor*\" />\n                    )}\n                />\n                </div>\n            </div>\n\n            <div\n                className=\"mt-3\"\n                style={{ border: \"none\", padding: \"0 3px 3px 3px\" }}>\n                {props.distributorListPass.length > 0 ? props.distributorListPass.map(data => {\n                    return (\n                        <>\n                            {\n                                data.id !== \"\" ?\n                                    <span className='mt-3 mr-5 areaLevel'\n                                    >\n                                        {data.distributorName}\n                                        <span className='deleteIcon'>\n                                            <a\n                                                className='fa fa-times text-white delete-file'\n                                                onClick={() => deleteDistributor(data)}\n                                            ></a>\n                                        </span>\n                                    </span> : \"\"\n                            }\n                        </>\n                    )\n                }) : \"\"}\n            </div>\n        </>);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}